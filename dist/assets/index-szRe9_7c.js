const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PosPage-CEPlkLbW.js","assets/Modal-BWnk_ifJ.js","assets/index-CzGh6JR1.js","assets/ProductsPage-BwhKKmdk.js","assets/Pagination-CsLxWpMj.js","assets/DropdownMenu-Cy-YUqPb.js","assets/InventoryPage-Dq5h-ysy.js","assets/StockAdjustmentsPage-3DI4I0ZL.js","assets/SalesPage-DSLP5oiG.js","assets/SaleFormPage-ByXfrA73.js","assets/CustomersPage-DjA6A0v3.js","assets/CustomerAccountPage-eF9mh3EI.js","assets/UsersPage-DP2guLQW.js","assets/RolesPage-Pp4cqKP-.js","assets/WarehousesPage--BeSy137.js","assets/TransfersPage-CemTPSjE.js","assets/SuppliersPage-DJbGpWqH.js","assets/SupplierAccountPage-x3K3EYVF.js","assets/BrandsPage-iSi8gPTW.js","assets/CategoriesPage-aOGQfnZn.js","assets/UnitsPage-aZU3fmfw.js","assets/PurchasesPage-C7CQJhHk.js","assets/PurchaseFormPage-BtuxQDdX.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function YE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pm={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function VA(){if(Y0)return Ul;Y0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=t,Ul.jsx=n,Ul.jsxs=n,Ul}var X0;function kA(){return X0||(X0=1,pm.exports=VA()),pm.exports}var H=kA(),gm={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function LA(){if($0)return bt;$0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function M(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,B={};function J(x,tt,lt){this.props=x,this.context=tt,this.refs=B,this.updater=lt||G}J.prototype.isReactComponent={},J.prototype.setState=function(x,tt){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,tt,"setState")},J.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function rt(){}rt.prototype=J.prototype;function et(x,tt,lt){this.props=x,this.context=tt,this.refs=B,this.updater=lt||G}var ft=et.prototype=new rt;ft.constructor=et,K(ft,J.prototype),ft.isPureReactComponent=!0;var vt=Array.isArray;function Tt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(x,tt,lt){var ct=lt.ref;return{$$typeof:r,type:x,key:tt,ref:ct!==void 0?ct:null,props:lt}}function V(x,tt){return R(x.type,tt,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function L(x){var tt={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(lt){return tt[lt]})}var I=/\/+/g;function oe(x,tt){return typeof x=="object"&&x!==null&&x.key!=null?L(""+x.key):tt.toString(36)}function Pe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Tt,Tt):(x.status="pending",x.then(function(tt){x.status==="pending"&&(x.status="fulfilled",x.value=tt)},function(tt){x.status==="pending"&&(x.status="rejected",x.reason=tt)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function X(x,tt,lt,ct,At){var It=typeof x;(It==="undefined"||It==="boolean")&&(x=null);var zt=!1;if(x===null)zt=!0;else switch(It){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(x.$$typeof){case r:case t:zt=!0;break;case E:return zt=x._init,X(zt(x._payload),tt,lt,ct,At)}}if(zt)return At=At(x),zt=ct===""?"."+oe(x,0):ct,vt(At)?(lt="",zt!=null&&(lt=zt.replace(I,"$&/")+"/"),X(At,tt,lt,"",function(ws){return ws})):At!=null&&(O(At)&&(At=V(At,lt+(At.key==null||x&&x.key===At.key?"":(""+At.key).replace(I,"$&/")+"/")+zt)),tt.push(At)),1;zt=0;var Ue=ct===""?".":ct+":";if(vt(x))for(var le=0;le<x.length;le++)ct=x[le],It=Ue+oe(ct,le),zt+=X(ct,tt,lt,It,At);else if(le=M(x),typeof le=="function")for(x=le.call(x),le=0;!(ct=x.next()).done;)ct=ct.value,It=Ue+oe(ct,le++),zt+=X(ct,tt,lt,It,At);else if(It==="object"){if(typeof x.then=="function")return X(Pe(x),tt,lt,ct,At);throw tt=String(x),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return zt}function ot(x,tt,lt){if(x==null)return x;var ct=[],At=0;return X(x,ct,"","",function(It){return tt.call(lt,It,At++)}),ct}function gt(x){if(x._status===-1){var tt=x._result;tt=tt(),tt.then(function(lt){(x._status===0||x._status===-1)&&(x._status=1,x._result=lt)},function(lt){(x._status===0||x._status===-1)&&(x._status=2,x._result=lt)}),x._status===-1&&(x._status=0,x._result=tt)}if(x._status===1)return x._result.default;throw x._result}var qt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Kt={map:ot,forEach:function(x,tt,lt){ot(x,function(){tt.apply(this,arguments)},lt)},count:function(x){var tt=0;return ot(x,function(){tt++}),tt},toArray:function(x){return ot(x,function(tt){return tt})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return bt.Activity=T,bt.Children=Kt,bt.Component=J,bt.Fragment=n,bt.Profiler=o,bt.PureComponent=et,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},bt.cache=function(x){return function(){return x.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(x,tt,lt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ct=K({},x.props),At=x.key;if(tt!=null)for(It in tt.key!==void 0&&(At=""+tt.key),tt)!b.call(tt,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&tt.ref===void 0||(ct[It]=tt[It]);var It=arguments.length-2;if(It===1)ct.children=lt;else if(1<It){for(var zt=Array(It),Ue=0;Ue<It;Ue++)zt[Ue]=arguments[Ue+2];ct.children=zt}return R(x.type,At,ct)},bt.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},bt.createElement=function(x,tt,lt){var ct,At={},It=null;if(tt!=null)for(ct in tt.key!==void 0&&(It=""+tt.key),tt)b.call(tt,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(At[ct]=tt[ct]);var zt=arguments.length-2;if(zt===1)At.children=lt;else if(1<zt){for(var Ue=Array(zt),le=0;le<zt;le++)Ue[le]=arguments[le+2];At.children=Ue}if(x&&x.defaultProps)for(ct in zt=x.defaultProps,zt)At[ct]===void 0&&(At[ct]=zt[ct]);return R(x,It,At)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(x){return{$$typeof:m,render:x}},bt.isValidElement=O,bt.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:gt}},bt.memo=function(x,tt){return{$$typeof:g,type:x,compare:tt===void 0?null:tt}},bt.startTransition=function(x){var tt=C.T,lt={};C.T=lt;try{var ct=x(),At=C.S;At!==null&&At(lt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(Tt,qt)}catch(It){qt(It)}finally{tt!==null&&lt.types!==null&&(tt.types=lt.types),C.T=tt}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(x){return C.H.use(x)},bt.useActionState=function(x,tt,lt){return C.H.useActionState(x,tt,lt)},bt.useCallback=function(x,tt){return C.H.useCallback(x,tt)},bt.useContext=function(x){return C.H.useContext(x)},bt.useDebugValue=function(){},bt.useDeferredValue=function(x,tt){return C.H.useDeferredValue(x,tt)},bt.useEffect=function(x,tt){return C.H.useEffect(x,tt)},bt.useEffectEvent=function(x){return C.H.useEffectEvent(x)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(x,tt,lt){return C.H.useImperativeHandle(x,tt,lt)},bt.useInsertionEffect=function(x,tt){return C.H.useInsertionEffect(x,tt)},bt.useLayoutEffect=function(x,tt){return C.H.useLayoutEffect(x,tt)},bt.useMemo=function(x,tt){return C.H.useMemo(x,tt)},bt.useOptimistic=function(x,tt){return C.H.useOptimistic(x,tt)},bt.useReducer=function(x,tt,lt){return C.H.useReducer(x,tt,lt)},bt.useRef=function(x){return C.H.useRef(x)},bt.useState=function(x){return C.H.useState(x)},bt.useSyncExternalStore=function(x,tt,lt){return C.H.useSyncExternalStore(x,tt,lt)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.2.3",bt}var W0;function pp(){return W0||(W0=1,gm.exports=LA()),gm.exports}var P=pp();const it=YE(P);var ym={exports:{}},zl={},_m={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function PA(){return J0||(J0=1,(function(r){function t(X,ot){var gt=X.length;X.push(ot);t:for(;0<gt;){var qt=gt-1>>>1,Kt=X[qt];if(0<o(Kt,ot))X[qt]=ot,X[gt]=Kt,gt=qt;else break t}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ot=X[0],gt=X.pop();if(gt!==ot){X[0]=gt;t:for(var qt=0,Kt=X.length,x=Kt>>>1;qt<x;){var tt=2*(qt+1)-1,lt=X[tt],ct=tt+1,At=X[ct];if(0>o(lt,gt))ct<Kt&&0>o(At,lt)?(X[qt]=At,X[ct]=gt,qt=ct):(X[qt]=lt,X[tt]=gt,qt=tt);else if(ct<Kt&&0>o(At,gt))X[qt]=At,X[ct]=gt,qt=ct;else break t}}return ot}function o(X,ot){var gt=X.sortIndex-ot.sortIndex;return gt!==0?gt:X.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,S=3,M=!1,G=!1,K=!1,B=!1,J=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function ft(X){for(var ot=n(g);ot!==null;){if(ot.callback===null)s(g);else if(ot.startTime<=X)s(g),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=n(g)}}function vt(X){if(K=!1,ft(X),!G)if(n(p)!==null)G=!0,Tt||(Tt=!0,L());else{var ot=n(g);ot!==null&&Pe(vt,ot.startTime-X)}}var Tt=!1,C=-1,b=5,R=-1;function V(){return B?!0:!(r.unstable_now()-R<b)}function O(){if(B=!1,Tt){var X=r.unstable_now();R=X;var ot=!0;try{t:{G=!1,K&&(K=!1,rt(C),C=-1),M=!0;var gt=S;try{e:{for(ft(X),T=n(p);T!==null&&!(T.expirationTime>X&&V());){var qt=T.callback;if(typeof qt=="function"){T.callback=null,S=T.priorityLevel;var Kt=qt(T.expirationTime<=X);if(X=r.unstable_now(),typeof Kt=="function"){T.callback=Kt,ft(X),ot=!0;break e}T===n(p)&&s(p),ft(X)}else s(p);T=n(p)}if(T!==null)ot=!0;else{var x=n(g);x!==null&&Pe(vt,x.startTime-X),ot=!1}}break t}finally{T=null,S=gt,M=!1}ot=void 0}}finally{ot?L():Tt=!1}}}var L;if(typeof et=="function")L=function(){et(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,oe=I.port2;I.port1.onmessage=O,L=function(){oe.postMessage(null)}}else L=function(){J(O,0)};function Pe(X,ot){C=J(function(){X(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(X){switch(S){case 1:case 2:case 3:var ot=3;break;default:ot=S}var gt=S;S=ot;try{return X()}finally{S=gt}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(X,ot){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var gt=S;S=X;try{return ot()}finally{S=gt}},r.unstable_scheduleCallback=function(X,ot,gt){var qt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?qt+gt:qt):gt=qt,X){case 1:var Kt=-1;break;case 2:Kt=250;break;case 5:Kt=1073741823;break;case 4:Kt=1e4;break;default:Kt=5e3}return Kt=gt+Kt,X={id:E++,callback:ot,priorityLevel:X,startTime:gt,expirationTime:Kt,sortIndex:-1},gt>qt?(X.sortIndex=gt,t(g,X),n(p)===null&&X===n(g)&&(K?(rt(C),C=-1):K=!0,Pe(vt,gt-qt))):(X.sortIndex=Kt,t(p,X),G||M||(G=!0,Tt||(Tt=!0,L()))),X},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(X){var ot=S;return function(){var gt=S;S=ot;try{return X.apply(this,arguments)}finally{S=gt}}}})(vm)),vm}var Z0;function UA(){return Z0||(Z0=1,_m.exports=PA()),_m.exports}var Em={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function zA(){if(tv)return nn;tv=1;var r=pp();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},nn.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},nn.useFormStatus=function(){return h.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var ev;function BA(){if(ev)return Em.exports;ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Em.exports=zA(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function jA(){if(nv)return zl;nv=1;var r=UA(),t=pp(),n=BA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function h(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,w=f.child;w;){if(w===a){_=!0,a=f,l=d;break}if(w===l){_=!0,l=f,a=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===a){_=!0,a=d,l=f;break}if(w===l){_=!0,l=d,a=f;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),et=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case J:return"Profiler";case B:return"StrictMode";case vt:return"Suspense";case Tt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case et:return e.displayName||"Context";case rt:return(e._context.displayName||"Context")+".Consumer";case ft:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:oe(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return oe(e(i))}catch{}}return null}var Pe=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},qt=[],Kt=-1;function x(e){return{current:e}}function tt(e){0>Kt||(e.current=qt[Kt],qt[Kt]=null,Kt--)}function lt(e,i){Kt++,qt[Kt]=e.current,e.current=i}var ct=x(null),At=x(null),It=x(null),zt=x(null);function Ue(e,i){switch(lt(It,i),lt(At,e),lt(ct,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?y0(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=y0(i),e=_0(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}tt(ct),lt(ct,e)}function le(){tt(ct),tt(At),tt(It)}function ws(e){e.memoizedState!==null&&lt(zt,e);var i=ct.current,a=_0(i,e.type);i!==a&&(lt(At,e),lt(ct,a))}function ma(e){At.current===e&&(tt(ct),tt(At)),zt.current===e&&(tt(zt),Vl._currentValue=gt)}var pa,ga;function hi(e){if(pa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);pa=i&&i[1]||"",ga=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pa+e+ga}var Vo=!1;function As(e,i){if(!e||Vo)return"";Vo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var q=Q}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(Q){q=Q}e.call(Z.prototype)}}else{try{throw Error()}catch(Q){q=Q}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var D=_.split(`
`),j=w.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===j.length)for(l=D.length-1,f=j.length-1;1<=l&&0<=f&&D[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==j[f]){var Y=`
`+D[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Vo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?hi(a):""}function ko(e,i){switch(e.tag){case 26:case 27:case 5:return hi(e.type);case 16:return hi("Lazy");case 13:return e.child!==i&&i!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return As(e.type,!1);case 11:return As(e.type.render,!1);case 1:return As(e.type,!0);case 31:return hi("Activity");default:return""}}function Lo(e){try{var i="",a=null;do i+=ko(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Se=Object.prototype.hasOwnProperty,ze=r.unstable_scheduleCallback,Er=r.unstable_cancelCallback,yf=r.unstable_shouldYield,Iu=r.unstable_requestPaint,on=r.unstable_now,Ss=r.unstable_getCurrentPriorityLevel,Po=r.unstable_ImmediatePriority,Uo=r.unstable_UserBlockingPriority,Tr=r.unstable_NormalPriority,_f=r.unstable_LowPriority,Du=r.unstable_IdlePriority,Nu=r.log,Ou=r.unstable_setDisableYieldValue,$n=null,Ke=null;function Ln(e){if(typeof Nu=="function"&&Ou(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode($n,e)}catch{}}var ve=Math.clz32?Math.clz32:Mu,xu=Math.log,ya=Math.LN2;function Mu(e){return e>>>=0,e===0?32:31-(xu(e)/ya|0)|0}var fi=256,bs=262144,be=4194304;function di(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=di(l):(_&=w,_!==0?f=di(_):a||(a=w&~e,a!==0&&(f=di(a))))):(w=l&~d,w!==0?f=di(w):_!==0?f=di(_):a||(a=l&~e,a!==0&&(f=di(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Wn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function vf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vu(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function pi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Rs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ef(e,i,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,D=e.expirationTimes,j=e.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-ve(a),Z=1<<Y;w[Y]=0,D[Y]=-1;var q=j[Y];if(q!==null)for(j[Y]=null,Y=0;Y<q.length;Y++){var Q=q[Y];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&Cs(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Cs(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-ve(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function zo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-ve(a),f=1<<l;f&i|e[l]&i&&(e[l]|=i),a&=~f}}function Bo(e,i){var a=i&-i;return a=(a&42)!==0?1:Is(a),(a&(e.suspendedLanes|i))!==0?0:a}function Is(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ku(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:j0(e.type))}function Jn(e,i){var a=ot.p;try{return ot.p=e,i()}finally{ot.p=a}}var Zn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Zn,qe="__reactProps$"+Zn,gi="__reactContainer$"+Zn,_a="__reactEvents$"+Zn,Tf="__reactListeners$"+Zn,Lu="__reactHandles$"+Zn,Pu="__reactResources$"+Zn,yi="__reactMarker$"+Zn;function va(e){delete e[Re],delete e[qe],delete e[_a],delete e[Tf],delete e[Lu]}function _i(e){var i=e[Re];if(i)return i;for(var a=e.parentNode;a;){if(i=a[gi]||a[Re]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=b0(e);e!==null;){if(a=e[Re])return a;e=b0(e)}return i}e=a,a=e.parentNode}return null}function Pn(e){if(e=e[Re]||e[gi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function En(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function vi(e){var i=e[Pu];return i||(i=e[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ce(e){e[yi]=!0}var jo=new Set,qo={};function Ei(e,i){Ti(e,i),Ti(e+"Capture",i)}function Ti(e,i){for(qo[e]=i,e=0;e<i.length;e++)jo.add(i[e])}var Ho=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},Go={};function Uu(e){return Se.call(Go,e)?!0:Se.call(Fo,e)?!1:Ho.test(e)?Go[e]=!0:(Fo[e]=!0,!1)}function Ea(e,i,a){if(Uu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Tn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ie(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Yt(e){if(!e._valueTracker){var i=wr(e)?"checked":"value";e._valueTracker=Qo(e,i,""+e[i])}}function Ds(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=wr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ns=/[\n"\\]/g;function fn(e){return e.replace(Ns,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ta(e,i,a,l,f,d,_,w){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+He(i)):e.value!==""+He(i)&&(e.value=""+He(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Ko(e,_,He(i)):a!=null?Ko(e,_,He(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+He(w):e.removeAttribute("name")}function zu(e,i,a,l,f,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Yt(e);return}a=a!=null?""+He(a):"",i=i!=null?""+He(i):a,w||i===e.value||(e.value=i),e.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Yt(e)}function Ko(e,i,a){i==="number"&&wi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ar(e,i,a,l){if(e=e.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=i.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+He(a),i=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function Bu(e,i,a){if(i!=null&&(i=""+He(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+He(a):""}function Sr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=He(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Yt(e)}function dn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||ju.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Xo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Yo(e,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Yo(e,d,i[d])}function wa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(e){return br.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var $o=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rr=null,Ai=null;function Os(e){var i=Pn(e);if(i&&(e=i.stateNode)){var a=e[qe]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ta(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var f=l[qe]||null;if(!f)throw Error(s(90));Ta(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Ds(l)}break t;case"textarea":Bu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Ar(e,!!a.multiple,i,!1)}}}var Sa=!1;function Cr(e,i,a){if(Sa)return e(i,a);Sa=!0;try{var l=e(i);return l}finally{if(Sa=!1,(Rr!==null||Ai!==null)&&(kc(),Rr&&(i=Rr,e=Ai,Ai=Rr=null,Os(i),e)))for(i=0;i<e.length;i++)Os(e[i])}}function ei(e,i){var a=e.stateNode;if(a===null)return null;var l=a[qe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xs=!1;if(zn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){xs=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{xs=!1}var Si=null,Wo=null,Ms=null;function Jo(){if(Ms)return Ms;var e,i=Wo,a=i.length,l,f="value"in Si?Si.value:Si.textContent,d=f.length;for(e=0;e<a&&i[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Ms=f.slice(e,1<l?1-l:void 0)}function Vs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function ni(){return!1}function Ye(e){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qi:ni,this.isPropagationStopped=ni,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),i}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Ye(Ki),Ir=T({},Ki,{view:0,detail:0}),Zo=Ye(Ir),Dr,ba,Ri,Ra=T({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(Dr=e.screenX-Ri.screenX,ba=e.screenY-Ri.screenY):ba=Dr=0,Ri=e),Dr)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),tl=Ye(Ra),ks=T({},Ra,{dataTransfer:0}),Hu=Ye(ks),Fu=T({},Ir,{relatedTarget:0}),Ls=Ye(Fu),el=T({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Gu=Ye(el),Ca=T({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qu=Ye(Ca),Ku=T({},Ki,{data:0}),Ci=Ye(Ku),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=$u[e])?!!i[e]:!1}function Nr(){return Wu}var ln=T({},Ir,{key:function(e){if(e.key){var i=Yu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(e){return e.type==="keypress"?Vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ju=Ye(ln),Zu=T({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Ye(Zu),c=T({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),y=Ye(c),v=T({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ye(v),U=T({},Ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Ye(U),st=T({},Ki,{newState:0,oldState:0}),Rt=Ye(st),Ee=[9,13,27,32],Gt=zn&&"CompositionEvent"in window,ue=null;zn&&"documentMode"in document&&(ue=document.documentMode);var Bn=zn&&"TextEvent"in window&&!ue,Ii=zn&&(!Gt||ue&&8<ue&&11>=ue),ii=" ",ri=!1;function Ps(e,i){switch(e){case"keyup":return Ee.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function rw(e,i){switch(e){case"compositionend":return Ia(i);case"keypress":return i.which!==32?null:(ri=!0,ii);case"textInput":return e=i.data,e===ii&&ri?null:e;default:return null}}function sw(e,i){if(Da)return e==="compositionend"||!Gt&&Ps(e,i)?(e=Jo(),Ms=Wo=Si=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ii&&i.locale!=="ko"?null:i.data;default:return null}}var aw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!aw[e.type]:i==="textarea"}function Dg(e,i,a,l){Rr?Ai?Ai.push(l):Ai=[l]:Rr=l,i=qc(i,"onChange"),0<i.length&&(a=new bi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var nl=null,il=null;function ow(e){h0(e,0)}function tc(e){var i=En(e);if(Ds(i))return e}function Ng(e,i){if(e==="change")return i}var Og=!1;if(zn){var wf;if(zn){var Af="oninput"in document;if(!Af){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Af=typeof xg.oninput=="function"}wf=Af}else wf=!1;Og=wf&&(!document.documentMode||9<document.documentMode)}function Mg(){nl&&(nl.detachEvent("onpropertychange",Vg),il=nl=null)}function Vg(e){if(e.propertyName==="value"&&tc(il)){var i=[];Dg(i,il,e,Un(e)),Cr(ow,i)}}function lw(e,i,a){e==="focusin"?(Mg(),nl=i,il=a,nl.attachEvent("onpropertychange",Vg)):e==="focusout"&&Mg()}function uw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tc(il)}function cw(e,i){if(e==="click")return tc(i)}function hw(e,i){if(e==="input"||e==="change")return tc(i)}function fw(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var wn=typeof Object.is=="function"?Object.is:fw;function rl(e,i){if(wn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Se.call(i,f)||!wn(e[f],i[f]))return!1}return!0}function kg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lg(e,i){var a=kg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=kg(a)}}function Pg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Pg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ug(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=wi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=wi(e.document)}return i}function Sf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var dw=zn&&"documentMode"in document&&11>=document.documentMode,Na=null,bf=null,sl=null,Rf=!1;function zg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rf||Na==null||Na!==wi(l)||(l=Na,"selectionStart"in l&&Sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&rl(sl,l)||(sl=l,l=qc(bf,"onSelect"),0<l.length&&(i=new bi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Na)))}function Us(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Oa={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},Cf={},Bg={};zn&&(Bg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function zs(e){if(Cf[e])return Cf[e];if(!Oa[e])return e;var i=Oa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Bg)return Cf[e]=i[a];return e}var jg=zs("animationend"),qg=zs("animationiteration"),Hg=zs("animationstart"),mw=zs("transitionrun"),pw=zs("transitionstart"),gw=zs("transitioncancel"),Fg=zs("transitionend"),Gg=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function si(e,i){Gg.set(e,i),Ei(i,[e])}var ec=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],xa=0,Df=0;function nc(){for(var e=xa,i=Df=xa=0;i<e;){var a=jn[i];jn[i++]=null;var l=jn[i];jn[i++]=null;var f=jn[i];jn[i++]=null;var d=jn[i];if(jn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Qg(a,f,d)}}function ic(e,i,a,l){jn[xa++]=e,jn[xa++]=i,jn[xa++]=a,jn[xa++]=l,Df|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Nf(e,i,a,l){return ic(e,i,a,l),rc(e)}function Bs(e,i){return ic(e,null,null,i),rc(e)}function Qg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&i!==null&&(f=31-ve(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function rc(e){if(50<Cl)throw Cl=0,zd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ma={};function yw(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,i,a,l){return new yw(e,i,a,l)}function Of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xi(e,i){var a=e.alternate;return a===null?(a=An(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Kg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function sc(e,i,a,l,f,d){var _=0;if(l=e,typeof e=="function")Of(e)&&(_=1);else if(typeof e=="string")_=wA(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=An(31,a,i,f),e.elementType=R,e.lanes=d,e;case K:return js(a.children,f,d,i);case B:_=8,f|=24;break;case J:return e=An(12,a,i,f|2),e.elementType=J,e.lanes=d,e;case vt:return e=An(13,a,i,f),e.elementType=vt,e.lanes=d,e;case Tt:return e=An(19,a,i,f),e.elementType=Tt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:_=10;break t;case rt:_=9;break t;case ft:_=11;break t;case C:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=An(_,a,i,f),i.elementType=e,i.type=l,i.lanes=d,i}function js(e,i,a,l){return e=An(7,e,l,i),e.lanes=a,e}function xf(e,i,a){return e=An(6,e,null,i),e.lanes=a,e}function Yg(e){var i=An(18,null,null,0);return i.stateNode=e,i}function Mf(e,i,a){return i=An(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Xg=new WeakMap;function qn(e,i){if(typeof e=="object"&&e!==null){var a=Xg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Lo(i)},Xg.set(e,i),i)}return{value:e,source:i,stack:Lo(i)}}var Va=[],ka=0,ac=null,al=0,Hn=[],Fn=0,Or=null,Di=1,Ni="";function $i(e,i){Va[ka++]=al,Va[ka++]=ac,ac=e,al=i}function $g(e,i,a){Hn[Fn++]=Di,Hn[Fn++]=Ni,Hn[Fn++]=Or,Or=e;var l=Di;e=Ni;var f=32-ve(l)-1;l&=~(1<<f),a+=1;var d=32-ve(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Di=1<<32-ve(i)+f|a<<f|l,Ni=d+e}else Di=1<<d|a<<f|l,Ni=e}function Vf(e){e.return!==null&&($i(e,1),$g(e,1,0))}function kf(e){for(;e===ac;)ac=Va[--ka],Va[ka]=null,al=Va[--ka],Va[ka]=null;for(;e===Or;)Or=Hn[--Fn],Hn[Fn]=null,Ni=Hn[--Fn],Hn[Fn]=null,Di=Hn[--Fn],Hn[Fn]=null}function Wg(e,i){Hn[Fn++]=Di,Hn[Fn++]=Ni,Hn[Fn++]=Or,Di=i.id,Ni=i.overflow,Or=e}var Xe=null,re=null,Ut=!1,xr=null,Gn=!1,Lf=Error(s(519));function Mr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(qn(i,e)),Lf}function Jg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Re]=e,i[qe]=l,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Ot(Dl[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),zu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),Sr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||p0(i.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),l.onScroll!=null&&Ot("scroll",i),l.onScrollEnd!=null&&Ot("scrollend",i),l.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||Mr(e,!0)}function Zg(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Xe=Xe.return}}function La(e){if(e!==Xe)return!1;if(!Ut)return Zg(e),Ut=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||tm(e.type,e.memoizedProps)),a=!a),a&&re&&Mr(e),Zg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));re=S0(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));re=S0(e)}else i===27?(i=re,Kr(e.type)?(e=sm,sm=null,re=e):re=i):re=Xe?Kn(e.stateNode.nextSibling):null;return!0}function qs(){re=Xe=null,Ut=!1}function Pf(){var e=xr;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),xr=null),e}function ol(e){xr===null?xr=[e]:xr.push(e)}var Uf=x(null),Hs=null,Wi=null;function Vr(e,i,a){lt(Uf,i._currentValue),i._currentValue=a}function Ji(e){e._currentValue=Uf.current,tt(Uf)}function zf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Bf(e,i,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var w=d;d=f;for(var D=0;D<i.length;D++)if(w.context===i[D]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),zf(d.return,a,e),l||(_=null);break t}d=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),zf(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Pa(e,i,a,l){e=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=f.type;wn(f.pendingProps.value,_.value)||(e!==null?e.push(w):e=[w])}}else if(f===zt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Vl):e=[Vl])}f=f.return}e!==null&&Bf(i,e,a,l),i.flags|=262144}function oc(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fs(e){Hs=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return ty(Hs,e)}function lc(e,i){return Hs===null&&Fs(e),ty(e,i)}function ty(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Wi===null){if(e===null)throw Error(s(308));Wi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Wi=Wi.next=i;return a}var _w=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},vw=r.unstable_scheduleCallback,Ew=r.unstable_NormalPriority,De={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new _w,data:new Map,refCount:0}}function ll(e){e.refCount--,e.refCount===0&&vw(Ew,function(){e.controller.abort()})}var ul=null,qf=0,Ua=0,za=null;function Tw(e,i){if(ul===null){var a=ul=[];qf=0,Ua=Gd(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qf++,i.then(ey,ey),i}function ey(){if(--qf===0&&ul!==null){za!==null&&(za.status="fulfilled");var e=ul;ul=null,Ua=0,za=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function ww(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ny=X.S;X.S=function(e,i){z_=on(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Tw(e,i),ny!==null&&ny(e,i)};var Gs=x(null);function Hf(){var e=Gs.current;return e!==null?e:ie.pooledCache}function uc(e,i){i===null?lt(Gs,Gs.current):lt(Gs,i.pool)}function iy(){var e=Hf();return e===null?null:{parent:De._currentValue,pool:e}}var Ba=Error(s(460)),Ff=Error(s(474)),cc=Error(s(542)),hc={then:function(){}};function ry(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sy(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(ti,ti),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,oy(e),e;default:if(typeof i.status=="string")i.then(ti,ti);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,oy(e),e}throw Ks=i,Ba}}function Qs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ks=a,Ba):a}}var Ks=null;function ay(){if(Ks===null)throw Error(s(459));var e=Ks;return Ks=null,e}function oy(e){if(e===Ba||e===cc)throw Error(s(483))}var ja=null,cl=0;function fc(e){var i=cl;return cl+=1,ja===null&&(ja=[]),sy(ja,e,i)}function hl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function dc(e,i){throw i.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function ly(e){function i(k,N){if(e){var z=k.deletions;z===null?(k.deletions=[N],k.flags|=16):z.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)i(k,N),N=N.sibling;return null}function l(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function f(k,N){return k=Xi(k,N),k.index=0,k.sibling=null,k}function d(k,N,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<N?(k.flags|=67108866,N):z):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function _(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function w(k,N,z,W){return N===null||N.tag!==6?(N=xf(z,k.mode,W),N.return=k,N):(N=f(N,z),N.return=k,N)}function D(k,N,z,W){var pt=z.type;return pt===K?Y(k,N,z.props.children,W,z.key):N!==null&&(N.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&Qs(pt)===N.type)?(N=f(N,z.props),hl(N,z),N.return=k,N):(N=sc(z.type,z.key,z.props,null,k.mode,W),hl(N,z),N.return=k,N)}function j(k,N,z,W){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=Mf(z,k.mode,W),N.return=k,N):(N=f(N,z.children||[]),N.return=k,N)}function Y(k,N,z,W,pt){return N===null||N.tag!==7?(N=js(z,k.mode,W,pt),N.return=k,N):(N=f(N,z),N.return=k,N)}function Z(k,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=xf(""+N,k.mode,z),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case M:return z=sc(N.type,N.key,N.props,null,k.mode,z),hl(z,N),z.return=k,z;case G:return N=Mf(N,k.mode,z),N.return=k,N;case b:return N=Qs(N),Z(k,N,z)}if(Pe(N)||L(N))return N=js(N,k.mode,z,null),N.return=k,N;if(typeof N.then=="function")return Z(k,fc(N),z);if(N.$$typeof===et)return Z(k,lc(k,N),z);dc(k,N)}return null}function q(k,N,z,W){var pt=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pt!==null?null:w(k,N,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return z.key===pt?D(k,N,z,W):null;case G:return z.key===pt?j(k,N,z,W):null;case b:return z=Qs(z),q(k,N,z,W)}if(Pe(z)||L(z))return pt!==null?null:Y(k,N,z,W,null);if(typeof z.then=="function")return q(k,N,fc(z),W);if(z.$$typeof===et)return q(k,N,lc(k,z),W);dc(k,z)}return null}function Q(k,N,z,W,pt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(z)||null,w(N,k,""+W,pt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case M:return k=k.get(W.key===null?z:W.key)||null,D(N,k,W,pt);case G:return k=k.get(W.key===null?z:W.key)||null,j(N,k,W,pt);case b:return W=Qs(W),Q(k,N,z,W,pt)}if(Pe(W)||L(W))return k=k.get(z)||null,Y(N,k,W,pt,null);if(typeof W.then=="function")return Q(k,N,z,fc(W),pt);if(W.$$typeof===et)return Q(k,N,z,lc(N,W),pt);dc(N,W)}return null}function ht(k,N,z,W){for(var pt=null,Ht=null,dt=N,Dt=N=0,Mt=null;dt!==null&&Dt<z.length;Dt++){dt.index>Dt?(Mt=dt,dt=null):Mt=dt.sibling;var Ft=q(k,dt,z[Dt],W);if(Ft===null){dt===null&&(dt=Mt);break}e&&dt&&Ft.alternate===null&&i(k,dt),N=d(Ft,N,Dt),Ht===null?pt=Ft:Ht.sibling=Ft,Ht=Ft,dt=Mt}if(Dt===z.length)return a(k,dt),Ut&&$i(k,Dt),pt;if(dt===null){for(;Dt<z.length;Dt++)dt=Z(k,z[Dt],W),dt!==null&&(N=d(dt,N,Dt),Ht===null?pt=dt:Ht.sibling=dt,Ht=dt);return Ut&&$i(k,Dt),pt}for(dt=l(dt);Dt<z.length;Dt++)Mt=Q(dt,k,Dt,z[Dt],W),Mt!==null&&(e&&Mt.alternate!==null&&dt.delete(Mt.key===null?Dt:Mt.key),N=d(Mt,N,Dt),Ht===null?pt=Mt:Ht.sibling=Mt,Ht=Mt);return e&&dt.forEach(function(Jr){return i(k,Jr)}),Ut&&$i(k,Dt),pt}function _t(k,N,z,W){if(z==null)throw Error(s(151));for(var pt=null,Ht=null,dt=N,Dt=N=0,Mt=null,Ft=z.next();dt!==null&&!Ft.done;Dt++,Ft=z.next()){dt.index>Dt?(Mt=dt,dt=null):Mt=dt.sibling;var Jr=q(k,dt,Ft.value,W);if(Jr===null){dt===null&&(dt=Mt);break}e&&dt&&Jr.alternate===null&&i(k,dt),N=d(Jr,N,Dt),Ht===null?pt=Jr:Ht.sibling=Jr,Ht=Jr,dt=Mt}if(Ft.done)return a(k,dt),Ut&&$i(k,Dt),pt;if(dt===null){for(;!Ft.done;Dt++,Ft=z.next())Ft=Z(k,Ft.value,W),Ft!==null&&(N=d(Ft,N,Dt),Ht===null?pt=Ft:Ht.sibling=Ft,Ht=Ft);return Ut&&$i(k,Dt),pt}for(dt=l(dt);!Ft.done;Dt++,Ft=z.next())Ft=Q(dt,k,Dt,Ft.value,W),Ft!==null&&(e&&Ft.alternate!==null&&dt.delete(Ft.key===null?Dt:Ft.key),N=d(Ft,N,Dt),Ht===null?pt=Ft:Ht.sibling=Ft,Ht=Ft);return e&&dt.forEach(function(MA){return i(k,MA)}),Ut&&$i(k,Dt),pt}function te(k,N,z,W){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case M:t:{for(var pt=z.key;N!==null;){if(N.key===pt){if(pt=z.type,pt===K){if(N.tag===7){a(k,N.sibling),W=f(N,z.props.children),W.return=k,k=W;break t}}else if(N.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&Qs(pt)===N.type){a(k,N.sibling),W=f(N,z.props),hl(W,z),W.return=k,k=W;break t}a(k,N);break}else i(k,N);N=N.sibling}z.type===K?(W=js(z.props.children,k.mode,W,z.key),W.return=k,k=W):(W=sc(z.type,z.key,z.props,null,k.mode,W),hl(W,z),W.return=k,k=W)}return _(k);case G:t:{for(pt=z.key;N!==null;){if(N.key===pt)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(k,N.sibling),W=f(N,z.children||[]),W.return=k,k=W;break t}else{a(k,N);break}else i(k,N);N=N.sibling}W=Mf(z,k.mode,W),W.return=k,k=W}return _(k);case b:return z=Qs(z),te(k,N,z,W)}if(Pe(z))return ht(k,N,z,W);if(L(z)){if(pt=L(z),typeof pt!="function")throw Error(s(150));return z=pt.call(z),_t(k,N,z,W)}if(typeof z.then=="function")return te(k,N,fc(z),W);if(z.$$typeof===et)return te(k,N,lc(k,z),W);dc(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(k,N.sibling),W=f(N,z),W.return=k,k=W):(a(k,N),W=xf(z,k.mode,W),W.return=k,k=W),_(k)):a(k,N)}return function(k,N,z,W){try{cl=0;var pt=te(k,N,z,W);return ja=null,pt}catch(dt){if(dt===Ba||dt===cc)throw dt;var Ht=An(29,dt,null,k.mode);return Ht.lanes=W,Ht.return=k,Ht}finally{}}}var Ys=ly(!0),uy=ly(!1),kr=!1;function Gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Lr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=rc(e),Qg(e,null,a),i}return ic(e,l,i,a),rc(e)}function fl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,zo(e,a)}}function Kf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Yf=!1;function dl(){if(Yf){var e=za;if(e!==null)throw e}}function ml(e,i,a,l){Yf=!1;var f=e.updateQueue;kr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,j=D.next;D.next=null,_===null?d=j:_.next=j,_=D;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==_&&(w===null?Y.firstBaseUpdate=j:w.next=j,Y.lastBaseUpdate=D))}if(d!==null){var Z=f.baseState;_=0,Y=j=D=null,w=d;do{var q=w.lane&-536870913,Q=q!==w.lane;if(Q?(xt&q)===q:(l&q)===q){q!==0&&q===Ua&&(Yf=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var ht=e,_t=w;q=i;var te=a;switch(_t.tag){case 1:if(ht=_t.payload,typeof ht=="function"){Z=ht.call(te,Z,q);break t}Z=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=_t.payload,q=typeof ht=="function"?ht.call(te,Z,q):ht,q==null)break t;Z=T({},Z,q);break t;case 2:kr=!0}}q=w.callback,q!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(j=Y=Q,D=Z):Y=Y.next=Q,_|=q;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Y===null&&(D=Z),f.baseState=D,f.firstBaseUpdate=j,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),qr|=_,e.lanes=_,e.memoizedState=Z}}function cy(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function hy(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)cy(a[e],i)}var qa=x(null),mc=x(0);function fy(e,i){e=or,lt(mc,e),lt(qa,i),or=e|i.baseLanes}function Xf(){lt(mc,or),lt(qa,qa.current)}function $f(){or=mc.current,tt(qa),tt(mc)}var Sn=x(null),Qn=null;function Ur(e){var i=e.alternate;lt(Te,Te.current&1),lt(Sn,e),Qn===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(Qn=e)}function Wf(e){lt(Te,Te.current),lt(Sn,e),Qn===null&&(Qn=e)}function dy(e){e.tag===22?(lt(Te,Te.current),lt(Sn,e),Qn===null&&(Qn=e)):zr()}function zr(){lt(Te,Te.current),lt(Sn,Sn.current)}function bn(e){tt(Sn),Qn===e&&(Qn=null),tt(Te)}var Te=x(0);function pc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||im(a)||rm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zi=0,Ct=null,Jt=null,Ne=null,gc=!1,Ha=!1,Xs=!1,yc=0,pl=0,Fa=null,Aw=0;function de(){throw Error(s(321))}function Jf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!wn(e[a],i[a]))return!1;return!0}function Zf(e,i,a,l,f,d){return Zi=d,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=e===null||e.memoizedState===null?$y:md,Xs=!1,d=a(l,f),Xs=!1,Ha&&(d=py(i,a,l,f)),my(e),d}function my(e){X.H=_l;var i=Jt!==null&&Jt.next!==null;if(Zi=0,Ne=Jt=Ct=null,gc=!1,pl=0,Fa=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&oc(e)&&(Oe=!0))}function py(e,i,a,l){Ct=e;var f=0;do{if(Ha&&(Fa=null),pl=0,Ha=!1,25<=f)throw Error(s(301));if(f+=1,Ne=Jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=Wy,d=i(a,l)}while(Ha);return d}function Sw(){var e=X.H,i=e.useState()[0];return i=typeof i.then=="function"?gl(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Ct.flags|=1024),i}function td(){var e=yc!==0;return yc=0,e}function ed(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function nd(e){if(gc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}gc=!1}Zi=0,Ne=Jt=Ct=null,Ha=!1,pl=yc=0,Fa=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Ct.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function we(){if(Jt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=Ne===null?Ct.memoizedState:Ne.next;if(i!==null)Ne=i,Jt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ne===null?Ct.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(e){var i=pl;return pl+=1,Fa===null&&(Fa=[]),e=sy(Fa,e,i),i=Ct,(Ne===null?i.memoizedState:Ne.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?$y:md),e}function vc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gl(e);if(e.$$typeof===et)return $e(e)}throw Error(s(438,String(e)))}function id(e){var i=null,a=Ct.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_c(),Ct.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function tr(e,i){return typeof i=="function"?i(e):i}function Ec(e){var i=we();return rd(i,Jt,e)}function rd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{i=f.next;var w=_=null,D=null,j=i,Y=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(xt&Z)===Z:(Zi&Z)===Z){var q=j.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Ua&&(Y=!0);else if((Zi&q)===q){j=j.next,q===Ua&&(Y=!0);continue}else Z={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(w=D=Z,_=d):D=D.next=Z,Ct.lanes|=q,qr|=q;Z=j.action,Xs&&a(d,Z),d=j.hasEagerState?j.eagerState:a(d,Z)}else q={lane:Z,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(w=D=q,_=d):D=D.next=q,Ct.lanes|=Z,qr|=Z;j=j.next}while(j!==null&&j!==i);if(D===null?_=d:D.next=w,!wn(d,e.memoizedState)&&(Oe=!0,Y&&(a=za,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function sd(e){var i=we(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);wn(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function gy(e,i,a){var l=Ct,f=we(),d=Ut;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!wn((Jt||f).memoizedState,a);if(_&&(f.memoizedState=a,Oe=!0),f=f.queue,ld(vy.bind(null,l,f,e),[e]),f.getSnapshot!==i||_||Ne!==null&&Ne.memoizedState.tag&1){if(l.flags|=2048,Ga(9,{destroy:void 0},_y.bind(null,l,f,a,i),null),ie===null)throw Error(s(349));d||(Zi&127)!==0||yy(l,i,a)}return a}function yy(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ct.updateQueue,i===null?(i=_c(),Ct.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function _y(e,i,a,l){i.value=a,i.getSnapshot=l,Ey(i)&&Ty(e)}function vy(e,i,a){return a(function(){Ey(i)&&Ty(e)})}function Ey(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!wn(e,a)}catch{return!0}}function Ty(e){var i=Bs(e,2);i!==null&&_n(i,e,2)}function ad(e){var i=un();if(typeof e=="function"){var a=e;if(e=a(),Xs){Ln(!0);try{a()}finally{Ln(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:e},i}function wy(e,i,a,l){return e.baseState=a,rd(e,Jt,typeof l=="function"?l:tr)}function bw(e,i,a,l,f){if(Ac(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ay(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ay(e,i){var a=i.action,l=i.payload,f=e.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var w=a(f,l),D=X.S;D!==null&&D(_,w),Sy(e,i,w)}catch(j){od(e,i,j)}finally{d!==null&&_.types!==null&&(d.types=_.types),X.T=d}}else try{d=a(f,l),Sy(e,i,d)}catch(j){od(e,i,j)}}function Sy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){by(e,i,l)},function(l){return od(e,i,l)}):by(e,i,a)}function by(e,i,a){i.status="fulfilled",i.value=a,Ry(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ay(e,a)))}function od(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ry(i),i=i.next;while(i!==l)}e.action=null}function Ry(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Cy(e,i){return i}function Iy(e,i){if(Ut){var a=ie.formState;if(a!==null){t:{var l=Ct;if(Ut){if(re){e:{for(var f=re,d=Gn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Kn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){re=Kn(f.nextSibling),l=f.data==="F!";break t}}Mr(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cy,lastRenderedState:i},a.queue=l,a=Ky.bind(null,Ct,l),l.dispatch=a,l=ad(!1),d=dd.bind(null,Ct,!1,l.queue),l=un(),f={state:i,dispatch:null,action:e,pending:null},l.queue=f,a=bw.bind(null,Ct,f,d,a),f.dispatch=a,l.memoizedState=e,[i,a,!1]}function Dy(e){var i=we();return Ny(i,Jt,e)}function Ny(e,i,a){if(i=rd(e,i,Cy)[0],e=Ec(tr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=gl(i)}catch(_){throw _===Ba?cc:_}else l=i;i=we();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ct.flags|=2048,Ga(9,{destroy:void 0},Rw.bind(null,f,a),null)),[l,d,e]}function Rw(e,i){e.action=i}function Oy(e){var i=we(),a=Jt;if(a!==null)return Ny(i,a,e);we(),i=i.memoizedState,a=we();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ga(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=_c(),Ct.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function xy(){return we().memoizedState}function Tc(e,i,a,l){var f=un();Ct.flags|=e,f.memoizedState=Ga(1|i,{destroy:void 0},a,l===void 0?null:l)}function wc(e,i,a,l){var f=we();l=l===void 0?null:l;var d=f.memoizedState.inst;Jt!==null&&l!==null&&Jf(l,Jt.memoizedState.deps)?f.memoizedState=Ga(i,d,a,l):(Ct.flags|=e,f.memoizedState=Ga(1|i,d,a,l))}function My(e,i){Tc(8390656,8,e,i)}function ld(e,i){wc(2048,8,e,i)}function Cw(e){Ct.flags|=4;var i=Ct.updateQueue;if(i===null)i=_c(),Ct.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Vy(e){var i=we().memoizedState;return Cw({ref:i,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function ky(e,i){return wc(4,2,e,i)}function Ly(e,i){return wc(4,4,e,i)}function Py(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Uy(e,i,a){a=a!=null?a.concat([e]):null,wc(4,4,Py.bind(null,i,e),a)}function ud(){}function zy(e,i){var a=we();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Jf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function By(e,i){var a=we();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Jf(i,l[1]))return l[0];if(l=e(),Xs){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[l,i],l}function cd(e,i,a){return a===void 0||(Zi&1073741824)!==0&&(xt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=j_(),Ct.lanes|=e,qr|=e,a)}function jy(e,i,a,l){return wn(a,i)?a:qa.current!==null?(e=cd(e,a,l),wn(e,i)||(Oe=!0),e):(Zi&42)===0||(Zi&1073741824)!==0&&(xt&261930)===0?(Oe=!0,e.memoizedState=a):(e=j_(),Ct.lanes|=e,qr|=e,i)}function qy(e,i,a,l,f){var d=ot.p;ot.p=d!==0&&8>d?d:8;var _=X.T,w={};X.T=w,dd(e,!1,i,a);try{var D=f(),j=X.S;if(j!==null&&j(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=ww(D,l);yl(e,i,Y,In(e))}else yl(e,i,l,In(e))}catch(Z){yl(e,i,{then:function(){},status:"rejected",reason:Z},In())}finally{ot.p=d,_!==null&&w.types!==null&&(_.types=w.types),X.T=_}}function Iw(){}function hd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var f=Hy(e).queue;qy(e,f,i,gt,a===null?Iw:function(){return Fy(e),a(l)})}function Hy(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:gt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Fy(e){var i=Hy(e);i.next===null&&(i=e.alternate.memoizedState),yl(e,i.next.queue,{},In())}function fd(){return $e(Vl)}function Gy(){return we().memoizedState}function Qy(){return we().memoizedState}function Dw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();e=Lr(a);var l=Pr(i,e,a);l!==null&&(_n(l,i,a),fl(l,i,a)),i={cache:jf()},e.payload=i;return}i=i.return}}function Nw(e,i,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ac(e)?Yy(i,a):(a=Nf(e,i,a,l),a!==null&&(_n(a,e,l),Xy(a,i,l)))}function Ky(e,i,a){var l=In();yl(e,i,a,l)}function yl(e,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ac(e))Yy(i,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,w=d(_,a);if(f.hasEagerState=!0,f.eagerState=w,wn(w,_))return ic(e,i,f,0),ie===null&&nc(),!1}catch{}finally{}if(a=Nf(e,i,f,l),a!==null)return _n(a,e,l),Xy(a,i,l),!0}return!1}function dd(e,i,a,l){if(l={lane:2,revertLane:Gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ac(e)){if(i)throw Error(s(479))}else i=Nf(e,a,l,2),i!==null&&_n(i,e,2)}function Ac(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function Yy(e,i){Ha=gc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Xy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,zo(e,a)}}var _l={readContext:$e,use:vc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};_l.useEffectEvent=de;var $y={readContext:$e,use:vc,useCallback:function(e,i){return un().memoizedState=[e,i===void 0?null:i],e},useContext:$e,useEffect:My,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Tc(4194308,4,Py.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Tc(4194308,4,e,i)},useInsertionEffect:function(e,i){Tc(4,2,e,i)},useMemo:function(e,i){var a=un();i=i===void 0?null:i;var l=e();if(Xs){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=un();if(a!==void 0){var f=a(i);if(Xs){Ln(!0);try{a(i)}finally{Ln(!1)}}}else f=i;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=Nw.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var i=un();return e={current:e},i.memoizedState=e},useState:function(e){e=ad(e);var i=e.queue,a=Ky.bind(null,Ct,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(e,i){var a=un();return cd(a,e,i)},useTransition:function(){var e=ad(!1);return e=qy.bind(null,Ct,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ct,f=un();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ie===null)throw Error(s(349));(xt&127)!==0||yy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,My(vy.bind(null,l,d,e),[e]),l.flags|=2048,Ga(9,{destroy:void 0},_y.bind(null,l,d,a,i),null),a},useId:function(){var e=un(),i=ie.identifierPrefix;if(Ut){var a=Ni,l=Di;a=(l&~(1<<32-ve(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=yc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Aw++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:fd,useFormState:Iy,useActionState:Iy,useOptimistic:function(e){var i=un();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=dd.bind(null,Ct,!0,a),a.dispatch=i,[e,i]},useMemoCache:id,useCacheRefresh:function(){return un().memoizedState=Dw.bind(null,Ct)},useEffectEvent:function(e){var i=un(),a={impl:e};return i.memoizedState=a,function(){if((Qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},md={readContext:$e,use:vc,useCallback:zy,useContext:$e,useEffect:ld,useImperativeHandle:Uy,useInsertionEffect:ky,useLayoutEffect:Ly,useMemo:By,useReducer:Ec,useRef:xy,useState:function(){return Ec(tr)},useDebugValue:ud,useDeferredValue:function(e,i){var a=we();return jy(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Ec(tr)[0],i=we().memoizedState;return[typeof e=="boolean"?e:gl(e),i]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:fd,useFormState:Dy,useActionState:Dy,useOptimistic:function(e,i){var a=we();return wy(a,Jt,e,i)},useMemoCache:id,useCacheRefresh:Qy};md.useEffectEvent=Vy;var Wy={readContext:$e,use:vc,useCallback:zy,useContext:$e,useEffect:ld,useImperativeHandle:Uy,useInsertionEffect:ky,useLayoutEffect:Ly,useMemo:By,useReducer:sd,useRef:xy,useState:function(){return sd(tr)},useDebugValue:ud,useDeferredValue:function(e,i){var a=we();return Jt===null?cd(a,e,i):jy(a,Jt.memoizedState,e,i)},useTransition:function(){var e=sd(tr)[0],i=we().memoizedState;return[typeof e=="boolean"?e:gl(e),i]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:fd,useFormState:Oy,useActionState:Oy,useOptimistic:function(e,i){var a=we();return Jt!==null?wy(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:id,useCacheRefresh:Qy};Wy.useEffectEvent=Vy;function pd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var gd={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=In(),f=Lr(l);f.payload=i,a!=null&&(f.callback=a),i=Pr(e,f,l),i!==null&&(_n(i,e,l),fl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=In(),f=Lr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Pr(e,f,l),i!==null&&(_n(i,e,l),fl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=In(),l=Lr(a);l.tag=2,i!=null&&(l.callback=i),i=Pr(e,l,a),i!==null&&(_n(i,e,a),fl(i,e,a))}};function Jy(e,i,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!rl(a,l)||!rl(f,d):!0}function Zy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&gd.enqueueReplaceState(i,i.state,null)}function $s(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function t_(e){ec(e)}function e_(e){console.error(e)}function n_(e){ec(e)}function Sc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function i_(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yd(e,i,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(e,i)},a}function r_(e){return e=Lr(e),e.tag=3,e}function s_(e,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){i_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){i_(i,a,l),typeof f!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Ow(e,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Pa(i,a,f,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?Lc():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),qd(e,l,f)),!1;case 22:return a.flags|=65536,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),qd(e,l,f)),!1}throw Error(s(435,a.tag))}return qd(e,l,f),Lc(),!1}if(Ut)return i=Sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Lf&&(e=Error(s(422),{cause:l}),ol(qn(e,a)))):(l!==Lf&&(i=Error(s(423),{cause:l}),ol(qn(i,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=qn(l,a),f=yd(e.stateNode,l,f),Kf(e,f),me!==4&&(me=2)),!1;var d=Error(s(520),{cause:l});if(d=qn(d,a),Rl===null?Rl=[d]:Rl.push(d),me!==4&&(me=2),i===null)return!0;l=qn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=yd(a.stateNode,l,e),Kf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=r_(f),s_(f,e,a,l),Kf(a,f),!1}a=a.return}while(a!==null);return!1}var _d=Error(s(461)),Oe=!1;function We(e,i,a,l){i.child=e===null?uy(i,null,a,l):Ys(i,e.child,a,l)}function a_(e,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Fs(i),l=Zf(e,i,a,_,d,f),w=td(),e!==null&&!Oe?(ed(e,i,f),er(e,i,f)):(Ut&&w&&Vf(i),i.flags|=1,We(e,i,l,f),i.child)}function o_(e,i,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Of(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,l_(e,i,d,l,f)):(e=sc(a.type,null,l,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Rd(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(_,l)&&e.ref===i.ref)return er(e,i,f)}return i.flags|=1,e=Xi(d,l),e.ref=i.ref,e.return=i,i.child=e}function l_(e,i,a,l,f){if(e!==null){var d=e.memoizedProps;if(rl(d,l)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=l=d,Rd(e,f))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,er(e,i,f)}return vd(e,i,a,l,f)}function u_(e,i,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return c_(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&uc(i,d!==null?d.cachePool:null),d!==null?fy(i,d):Xf(),dy(i);else return l=i.lanes=536870912,c_(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(uc(i,d.cachePool),fy(i,d),zr(),i.memoizedState=null):(e!==null&&uc(i,null),Xf(),zr());return We(e,i,f,a),i.child}function vl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function c_(e,i,a,l,f){var d=Hf();return d=d===null?null:{parent:De._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&uc(i,null),Xf(),dy(i),e!==null&&Pa(e,i,l,!0),i.childLanes=f,null}function bc(e,i){return i=Cc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function h_(e,i,a){return Ys(i,e.child,null,a),e=bc(i,i.pendingProps),e.flags|=2,bn(i),i.memoizedState=null,e}function xw(e,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ut){if(l.mode==="hidden")return e=bc(i,l),i.lanes=536870912,vl(null,e);if(Wf(i),(e=re)?(e=A0(e,Gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Or!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Yg(e),a.return=i,i.child=a,Xe=i,re=null)):e=null,e===null)throw Mr(i);return i.lanes=536870912,null}return bc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Wf(i),f)if(i.flags&256)i.flags&=-257,i=h_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Oe||Pa(e,i,a,!1),f=(a&e.childLanes)!==0,Oe||f){if(l=ie,l!==null&&(_=Bo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Bs(e,_),_n(l,e,_),_d;Lc(),i=h_(e,i,a)}else e=d.treeContext,re=Kn(_.nextSibling),Xe=i,Ut=!0,xr=null,Gn=!1,e!==null&&Wg(i,e),i=bc(i,l),i.flags|=4096;return i}return e=Xi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Rc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function vd(e,i,a,l,f){return Fs(i),a=Zf(e,i,a,l,void 0,f),l=td(),e!==null&&!Oe?(ed(e,i,f),er(e,i,f)):(Ut&&l&&Vf(i),i.flags|=1,We(e,i,a,f),i.child)}function f_(e,i,a,l,f,d){return Fs(i),i.updateQueue=null,a=py(i,l,a,f),my(e),l=td(),e!==null&&!Oe?(ed(e,i,d),er(e,i,d)):(Ut&&l&&Vf(i),i.flags|=1,We(e,i,a,d),i.child)}function d_(e,i,a,l,f){if(Fs(i),i.stateNode===null){var d=Ma,_=a.contextType;typeof _=="object"&&_!==null&&(d=$e(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Gf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?$e(_):Ma,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(pd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&gd.enqueueReplaceState(d,d.state,null),ml(i,l,d,f),dl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var w=i.memoizedProps,D=$s(a,w);d.props=D;var j=d.context,Y=a.contextType;_=Ma,typeof Y=="object"&&Y!==null&&(_=$e(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||j!==_)&&Zy(i,d,l,_),kr=!1;var q=i.memoizedState;d.state=q,ml(i,l,d,f),dl(),j=i.memoizedState,w||q!==j||kr?(typeof Z=="function"&&(pd(i,a,Z,l),j=i.memoizedState),(D=kr||Jy(i,a,D,l,q,j,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Qf(e,i),_=i.memoizedProps,Y=$s(a,_),d.props=Y,Z=i.pendingProps,q=d.context,j=a.contextType,D=Ma,typeof j=="object"&&j!==null&&(D=$e(j)),w=a.getDerivedStateFromProps,(j=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||q!==D)&&Zy(i,d,l,D),kr=!1,q=i.memoizedState,d.state=q,ml(i,l,d,f),dl();var Q=i.memoizedState;_!==Z||q!==Q||kr||e!==null&&e.dependencies!==null&&oc(e.dependencies)?(typeof w=="function"&&(pd(i,a,w,l),Q=i.memoizedState),(Y=kr||Jy(i,a,Y,l,q,Q,D)||e!==null&&e.dependencies!==null&&oc(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=D,l=Y):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&q===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Rc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ys(i,e.child,null,f),i.child=Ys(i,null,a,f)):We(e,i,a,f),i.memoizedState=d.state,e=i.child):e=er(e,i,f),e}function m_(e,i,a,l){return qs(),i.flags|=256,We(e,i,a,l),i.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(e){return{baseLanes:e,cachePool:iy()}}function wd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Cn),e}function p_(e,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ut){if(f?Ur(i):zr(),(e=re)?(e=A0(e,Gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Or!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Yg(e),a.return=i,i.child=a,Xe=i,re=null)):e=null,e===null)throw Mr(i);return rm(e)?i.lanes=32:i.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(zr(),f=i.mode,w=Cc({mode:"hidden",children:w},f),l=js(l,f,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,l=i.child,l.memoizedState=Td(a),l.childLanes=wd(e,_,a),i.memoizedState=Ed,vl(null,l)):(Ur(i),Ad(i,w))}var D=e.memoizedState;if(D!==null&&(w=D.dehydrated,w!==null)){if(d)i.flags&256?(Ur(i),i.flags&=-257,i=Sd(e,i,a)):i.memoizedState!==null?(zr(),i.child=e.child,i.flags|=128,i=null):(zr(),w=l.fallback,f=i.mode,l=Cc({mode:"visible",children:l.children},f),w=js(w,f,a,null),w.flags|=2,l.return=i,w.return=i,l.sibling=w,i.child=l,Ys(i,e.child,null,a),l=i.child,l.memoizedState=Td(a),l.childLanes=wd(e,_,a),i.memoizedState=Ed,i=vl(null,l));else if(Ur(i),rm(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,ol({value:l,source:null,stack:null}),i=Sd(e,i,a)}else if(Oe||Pa(e,i,a,!1),_=(a&e.childLanes)!==0,Oe||_){if(_=ie,_!==null&&(l=Bo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Bs(e,l),_n(_,e,l),_d;im(w)||Lc(),i=Sd(e,i,a)}else im(w)?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,re=Kn(w.nextSibling),Xe=i,Ut=!0,xr=null,Gn=!1,e!==null&&Wg(i,e),i=Ad(i,l.children),i.flags|=4096);return i}return f?(zr(),w=l.fallback,f=i.mode,D=e.child,j=D.sibling,l=Xi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,j!==null?w=Xi(j,w):(w=js(w,f,a,null),w.flags|=2),w.return=i,l.return=i,l.sibling=w,i.child=l,vl(null,l),l=i.child,w=e.child.memoizedState,w===null?w=Td(a):(f=w.cachePool,f!==null?(D=De._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=iy(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=wd(e,_,a),i.memoizedState=Ed,vl(e.child,l)):(Ur(i),a=e.child,e=a.sibling,a=Xi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Ad(e,i){return i=Cc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Cc(e,i){return e=An(22,e,null,i),e.lanes=0,e}function Sd(e,i,a){return Ys(i,e.child,null,a),e=Ad(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function g_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),zf(e.return,i,a)}function bd(e,i,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function y_(e,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Te.current,w=(_&2)!==0;if(w?(_=_&1|2,i.flags|=128):_&=1,lt(Te,_),We(e,i,l,a),l=Ut?al:0,!w&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&g_(e,a,i);else if(e.tag===19)g_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)e=a.alternate,e!==null&&pc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),bd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&pc(e)===null){i.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}bd(i,!0,a,null,d,l);break;case"together":bd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function er(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),qr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Pa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Xi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Xi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Rd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&oc(e)))}function Mw(e,i,a){switch(i.tag){case 3:Ue(i,i.stateNode.containerInfo),Vr(i,De,e.memoizedState.cache),qs();break;case 27:case 5:ws(i);break;case 4:Ue(i,i.stateNode.containerInfo);break;case 10:Vr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Wf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?p_(e,i,a):(Ur(i),e=er(e,i,a),e!==null?e.sibling:null);Ur(i);break;case 19:var f=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Pa(e,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return y_(e,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(Te,Te.current),l)break;return null;case 22:return i.lanes=0,u_(e,i,a,i.pendingProps);case 24:Vr(i,De,e.memoizedState.cache)}return er(e,i,a)}function __(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!Rd(e,a)&&(i.flags&128)===0)return Oe=!1,Mw(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,Ut&&(i.flags&1048576)!==0&&$g(i,al,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Qs(i.elementType),i.type=e,typeof e=="function")Of(e)?(l=$s(e,l),i.tag=1,i=d_(null,i,e,l,a)):(i.tag=0,i=vd(null,i,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===ft){i.tag=11,i=a_(null,i,e,l,a);break t}else if(f===C){i.tag=14,i=o_(null,i,e,l,a);break t}}throw i=oe(e)||e,Error(s(306,i,""))}}return i;case 0:return vd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=$s(l,i.pendingProps),d_(e,i,l,f,a);case 3:t:{if(Ue(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Qf(e,i),ml(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Vr(i,De,l),l!==d.cache&&Bf(i,[De],a,!0),dl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=m_(e,i,l,a);break t}else if(l!==f){f=qn(Error(s(424)),i),ol(f),i=m_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(re=Kn(e.firstChild),Xe=i,Ut=!0,xr=null,Gn=!0,a=uy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(qs(),l===f){i=er(e,i,a);break t}We(e,i,l,a)}i=i.child}return i;case 26:return Rc(e,i),e===null?(a=D0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ut||(a=i.type,e=i.pendingProps,l=Hc(It.current).createElement(a),l[Re]=i,l[qe]=e,Je(l,a,e),Ce(l),i.stateNode=l):i.memoizedState=D0(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ws(i),e===null&&Ut&&(l=i.stateNode=R0(i.type,i.pendingProps,It.current),Xe=i,Gn=!0,f=re,Kr(i.type)?(sm=f,re=Kn(l.firstChild)):re=f),We(e,i,i.pendingProps.children,a),Rc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ut&&((f=l=re)&&(l=uA(l,i.type,i.pendingProps,Gn),l!==null?(i.stateNode=l,Xe=i,re=Kn(l.firstChild),Gn=!1,f=!0):f=!1),f||Mr(i)),ws(i),f=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,tm(f,d)?l=null:_!==null&&tm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Zf(e,i,Sw,null,null,a),Vl._currentValue=f),Rc(e,i),We(e,i,l,a),i.child;case 6:return e===null&&Ut&&((e=a=re)&&(a=cA(a,i.pendingProps,Gn),a!==null?(i.stateNode=a,Xe=i,re=null,e=!0):e=!1),e||Mr(i)),null;case 13:return p_(e,i,a);case 4:return Ue(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ys(i,null,l,a):We(e,i,l,a),i.child;case 11:return a_(e,i,i.type,i.pendingProps,a);case 7:return We(e,i,i.pendingProps,a),i.child;case 8:return We(e,i,i.pendingProps.children,a),i.child;case 12:return We(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Vr(i,i.type,l.value),We(e,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Fs(i),f=$e(f),l=l(f),i.flags|=1,We(e,i,l,a),i.child;case 14:return o_(e,i,i.type,i.pendingProps,a);case 15:return l_(e,i,i.type,i.pendingProps,a);case 19:return y_(e,i,a);case 31:return xw(e,i,a);case 22:return u_(e,i,a,i.pendingProps);case 24:return Fs(i),l=$e(De),e===null?(f=Hf(),f===null&&(f=ie,d=jf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Gf(i),Vr(i,De,f)):((e.lanes&a)!==0&&(Qf(e,i),ml(i,null,null,a),dl()),f=e.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Vr(i,De,l)):(l=d.cache,Vr(i,De,l),l!==f.cache&&Bf(i,[De],a,!0))),We(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function nr(e){e.flags|=4}function Cd(e,i,a,l,f){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(G_())e.flags|=8192;else throw Ks=hc,Ff}else e.flags&=-16777217}function v_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!V0(i))if(G_())e.flags|=8192;else throw Ks=hc,Ff}function Ic(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Vu():536870912,e.lanes|=i,Xa|=i)}function El(e,i){if(!Ut)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function se(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function Vw(e,i,a){var l=i.pendingProps;switch(kf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ji(De),le(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(La(i)?nr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pf())),se(i),null;case 26:var f=i.type,d=i.memoizedState;return e===null?(nr(i),d!==null?(se(i),v_(i,d)):(se(i),Cd(i,f,null,l,a))):d?d!==e.memoizedState?(nr(i),se(i),v_(i,d)):(se(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&nr(i),se(i),Cd(i,f,e,l,a)),null;case 27:if(ma(i),a=It.current,f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return se(i),null}e=ct.current,La(i)?Jg(i):(e=R0(f,l,a),i.stateNode=e,nr(i))}return se(i),null;case 5:if(ma(i),f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return se(i),null}if(d=ct.current,La(i))Jg(i);else{var _=Hc(It.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Re]=i,d[qe]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Je(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&nr(i)}}return se(i),Cd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&nr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=It.current,La(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,f=Xe,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Re]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||p0(e.nodeValue,a)),e||Mr(i,!0)}else e=Hc(e).createTextNode(l),e[Re]=i,i.stateNode=e}return se(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=La(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Re]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),e=!1}else a=Pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(bn(i),i):(bn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return se(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=La(i),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Re]=i}else qs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),f=!1}else f=Pf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(bn(i),i):(bn(i),null)}return bn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Ic(i,i.updateQueue),se(i),null);case 4:return le(),e===null&&Xd(i.stateNode.containerInfo),se(i),null;case 10:return Ji(i.type),se(i),null;case 19:if(tt(Te),l=i.memoizedState,l===null)return se(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)El(l,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=pc(e),d!==null){for(i.flags|=128,El(l,!1),e=d.updateQueue,i.updateQueue=e,Ic(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Kg(a,e),a=a.sibling;return lt(Te,Te.current&1|2),Ut&&$i(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&on()>Mc&&(i.flags|=128,f=!0,El(l,!1),i.lanes=4194304)}else{if(!f)if(e=pc(d),e!==null){if(i.flags|=128,f=!0,e=e.updateQueue,i.updateQueue=e,Ic(i,e),El(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ut)return se(i),null}else 2*on()-l.renderingStartTime>Mc&&a!==536870912&&(i.flags|=128,f=!0,El(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=on(),e.sibling=null,a=Te.current,lt(Te,f?a&1|2:a&1),Ut&&$i(i,l.treeForkCount),e):(se(i),null);case 22:case 23:return bn(i),$f(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),a=i.updateQueue,a!==null&&Ic(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&tt(Gs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ji(De),se(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function kw(e,i){switch(kf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ji(De),le(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ma(i),null;case 31:if(i.memoizedState!==null){if(bn(i),i.alternate===null)throw Error(s(340));qs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(bn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));qs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return tt(Te),null;case 4:return le(),null;case 10:return Ji(i.type),null;case 22:case 23:return bn(i),$f(),e!==null&&tt(Gs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ji(De),null;case 25:return null;default:return null}}function E_(e,i){switch(kf(i),i.tag){case 3:Ji(De),le();break;case 26:case 27:case 5:ma(i);break;case 4:le();break;case 31:i.memoizedState!==null&&bn(i);break;case 13:bn(i);break;case 19:tt(Te);break;case 10:Ji(i.type);break;case 22:case 23:bn(i),$f(),e!==null&&tt(Gs);break;case 24:Ji(De)}}function Tl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(w){$t(i,i.return,w)}}function Br(e,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=i;var D=a,j=w;try{j()}catch(Y){$t(f,D,Y)}}}l=l.next}while(l!==d)}}catch(Y){$t(i,i.return,Y)}}function T_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{hy(i,a)}catch(l){$t(e,e.return,l)}}}function w_(e,i,a){a.props=$s(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function wl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){$t(e,i,f)}}function Oi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$t(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$t(e,i,f)}else a.current=null}function A_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$t(e,e.return,f)}}function Id(e,i,a){try{var l=e.stateNode;iA(l,e.type,a,i),l[qe]=i}catch(f){$t(e,e.return,f)}}function S_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kr(e.type)||e.tag===4}function Dd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||S_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ti));else if(l!==4&&(l===27&&Kr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Nd(e,i,a),e=e.sibling;e!==null;)Nd(e,i,a),e=e.sibling}function Dc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Kr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Dc(e,i,a),e=e.sibling;e!==null;)Dc(e,i,a),e=e.sibling}function b_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Je(i,l,a),i[Re]=e,i[qe]=a}catch(d){$t(e,e.return,d)}}var ir=!1,xe=!1,Od=!1,R_=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Lw(e,i){if(e=e.containerInfo,Jd=$c,e=Ug(e),Sf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,w=-1,D=-1,j=0,Y=0,Z=e,q=null;e:for(;;){for(var Q;Z!==a||f!==0&&Z.nodeType!==3||(w=_+f),Z!==d||l!==0&&Z.nodeType!==3||(D=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)q=Z,Z=Q;for(;;){if(Z===e)break e;if(q===a&&++j===f&&(w=_),q===d&&++Y===l&&(D=_),(Q=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=Q}a=w===-1||D===-1?null:{start:w,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zd={focusedElem:e,selectionRange:a},$c=!1,Fe=i;Fe!==null;)if(i=Fe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Fe=e;else for(;Fe!==null;){switch(i=Fe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ht=$s(a.type,f);e=l.getSnapshotBeforeUpdate(ht,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){$t(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)nm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Fe=e;break}Fe=i.return}}function C_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:sr(e,a),l&4&&Tl(5,a);break;case 1:if(sr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){$t(a,a.return,_)}else{var f=$s(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(a,a.return,_)}}l&64&&T_(a),l&512&&wl(a,a.return);break;case 3:if(sr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hy(e,i)}catch(_){$t(a,a.return,_)}}break;case 27:i===null&&l&4&&b_(a);case 26:case 5:sr(e,a),i===null&&l&4&&A_(a),l&512&&wl(a,a.return);break;case 12:sr(e,a);break;case 31:sr(e,a),l&4&&N_(e,a);break;case 13:sr(e,a),l&4&&O_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Gw.bind(null,a),hA(e,a))));break;case 22:if(l=a.memoizedState!==null||ir,!l){i=i!==null&&i.memoizedState!==null||xe,f=ir;var d=xe;ir=l,(xe=i)&&!d?ar(e,a,(a.subtreeFlags&8772)!==0):sr(e,a),ir=f,xe=d}break;case 30:break;default:sr(e,a)}}function I_(e){var i=e.alternate;i!==null&&(e.alternate=null,I_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&va(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,mn=!1;function rr(e,i,a){for(a=a.child;a!==null;)D_(e,i,a),a=a.sibling}function D_(e,i,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:xe||Oi(a,i),rr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xe||Oi(a,i);var l=ce,f=mn;Kr(a.type)&&(ce=a.stateNode,mn=!1),rr(e,i,a),Ol(a.stateNode),ce=l,mn=f;break;case 5:xe||Oi(a,i);case 6:if(l=ce,f=mn,ce=null,rr(e,i,a),ce=l,mn=f,ce!==null)if(mn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ce.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ce!==null&&(mn?(e=ce,T0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),io(e)):T0(ce,a.stateNode));break;case 4:l=ce,f=mn,ce=a.stateNode.containerInfo,mn=!0,rr(e,i,a),ce=l,mn=f;break;case 0:case 11:case 14:case 15:Br(2,a,i),xe||Br(4,a,i),rr(e,i,a);break;case 1:xe||(Oi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&w_(a,i,l)),rr(e,i,a);break;case 21:rr(e,i,a);break;case 22:xe=(l=xe)||a.memoizedState!==null,rr(e,i,a),xe=l;break;default:rr(e,i,a)}}function N_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{io(e)}catch(a){$t(i,i.return,a)}}}function O_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{io(e)}catch(a){$t(i,i.return,a)}}function Pw(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new R_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new R_),i;default:throw Error(s(435,e.tag))}}function Nc(e,i){var a=Pw(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=Qw.bind(null,e,l);l.then(f,f)}})}function pn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=i,w=_;t:for(;w!==null;){switch(w.tag){case 27:if(Kr(w.type)){ce=w.stateNode,mn=!1;break t}break;case 5:ce=w.stateNode,mn=!1;break t;case 3:case 4:ce=w.stateNode.containerInfo,mn=!0;break t}w=w.return}if(ce===null)throw Error(s(160));D_(d,_,f),ce=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)x_(i,e),i=i.sibling}var ai=null;function x_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(i,e),gn(e),l&4&&(Br(3,e,e.return),Tl(3,e),Br(5,e,e.return));break;case 1:pn(i,e),gn(e),l&512&&(xe||a===null||Oi(a,a.return)),l&64&&ir&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ai;if(pn(i,e),gn(e),l&512&&(xe||a===null||Oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[yi]||d[Re]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Je(d,l,a),d[Re]=e,Ce(d),l=d;break t;case"link":var _=x0("link","href",f).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break e}}d=f.createElement(l),Je(d,l,a),f.head.appendChild(d);break;case"meta":if(_=x0("meta","content",f).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break e}}d=f.createElement(l),Je(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Re]=e,Ce(d),l=d}e.stateNode=l}else M0(f,e.type,e.stateNode);else e.stateNode=O0(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?M0(f,e.type,e.stateNode):O0(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Id(e,e.memoizedProps,a.memoizedProps)}break;case 27:pn(i,e),gn(e),l&512&&(xe||a===null||Oi(a,a.return)),a!==null&&l&4&&Id(e,e.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,e),gn(e),l&512&&(xe||a===null||Oi(a,a.return)),e.flags&32){f=e.stateNode;try{dn(f,"")}catch(ht){$t(e,e.return,ht)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Id(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Od=!0);break;case 6:if(pn(i,e),gn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ht){$t(e,e.return,ht)}}break;case 3:if(Qc=null,f=ai,ai=Fc(i.containerInfo),pn(i,e),ai=f,gn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{io(i.containerInfo)}catch(ht){$t(e,e.return,ht)}Od&&(Od=!1,M_(e));break;case 4:l=ai,ai=Fc(e.stateNode.containerInfo),pn(i,e),gn(e),ai=l;break;case 12:pn(i,e),gn(e);break;case 31:pn(i,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nc(e,l)));break;case 13:pn(i,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xc=on()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nc(e,l)));break;case 22:f=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,j=ir,Y=xe;if(ir=j||f,xe=Y||D,pn(i,e),xe=Y,ir=j,gn(e),l&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||D||ir||xe||Ws(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=D.stateNode;var Z=D.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;w.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ht){$t(D,D.return,ht)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ht){$t(D,D.return,ht)}}}else if(i.tag===18){if(a===null){D=i;try{var Q=D.stateNode;f?w0(Q,!0):w0(D.stateNode,!1)}catch(ht){$t(D,D.return,ht)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nc(e,a))));break;case 19:pn(i,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nc(e,l)));break;case 30:break;case 21:break;default:pn(i,e),gn(e)}}function gn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(S_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Dd(e);Dc(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var w=Dd(e);Dc(e,w,_);break;case 3:case 4:var D=a.stateNode.containerInfo,j=Dd(e);Nd(e,j,D);break;default:throw Error(s(161))}}catch(Y){$t(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function M_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;M_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function sr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)C_(e,i.alternate,i),i=i.sibling}function Ws(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Br(4,i,i.return),Ws(i);break;case 1:Oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&w_(i,i.return,a),Ws(i);break;case 27:Ol(i.stateNode);case 26:case 5:Oi(i,i.return),Ws(i);break;case 22:i.memoizedState===null&&Ws(i);break;case 30:Ws(i);break;default:Ws(i)}e=e.sibling}}function ar(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ar(f,d,a),Tl(4,d);break;case 1:if(ar(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){$t(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)cy(D[f],w)}catch(j){$t(l,l.return,j)}}a&&_&64&&T_(d),wl(d,d.return);break;case 27:b_(d);case 26:case 5:ar(f,d,a),a&&l===null&&_&4&&A_(d),wl(d,d.return);break;case 12:ar(f,d,a);break;case 31:ar(f,d,a),a&&_&4&&N_(f,d);break;case 13:ar(f,d,a),a&&_&4&&O_(f,d);break;case 22:d.memoizedState===null&&ar(f,d,a),wl(d,d.return);break;case 30:break;default:ar(f,d,a)}i=i.sibling}}function xd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ll(a))}function Md(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ll(e))}function oi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)V_(e,i,a,l),i=i.sibling}function V_(e,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:oi(e,i,a,l),f&2048&&Tl(9,i);break;case 1:oi(e,i,a,l);break;case 3:oi(e,i,a,l),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ll(e)));break;case 12:if(f&2048){oi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){$t(i,i.return,D)}}else oi(e,i,a,l);break;case 31:oi(e,i,a,l);break;case 13:oi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?oi(e,i,a,l):Al(e,i):d._visibility&2?oi(e,i,a,l):(d._visibility|=2,Qa(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&xd(_,i);break;case 24:oi(e,i,a,l),f&2048&&Md(i.alternate,i);break;default:oi(e,i,a,l)}}function Qa(e,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,w=a,D=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:Qa(d,_,w,D,f),Tl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Qa(d,_,w,D,f):Al(d,_):(Y._visibility|=2,Qa(d,_,w,D,f)),f&&j&2048&&xd(_.alternate,_);break;case 24:Qa(d,_,w,D,f),f&&j&2048&&Md(_.alternate,_);break;default:Qa(d,_,w,D,f)}i=i.sibling}}function Al(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,f=l.flags;switch(l.tag){case 22:Al(a,l),f&2048&&xd(l.alternate,l);break;case 24:Al(a,l),f&2048&&Md(l.alternate,l);break;default:Al(a,l)}i=i.sibling}}var Sl=8192;function Ka(e,i,a){if(e.subtreeFlags&Sl)for(e=e.child;e!==null;)k_(e,i,a),e=e.sibling}function k_(e,i,a){switch(e.tag){case 26:Ka(e,i,a),e.flags&Sl&&e.memoizedState!==null&&AA(a,ai,e.memoizedState,e.memoizedProps);break;case 5:Ka(e,i,a);break;case 3:case 4:var l=ai;ai=Fc(e.stateNode.containerInfo),Ka(e,i,a),ai=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,Ka(e,i,a),Sl=l):Ka(e,i,a));break;default:Ka(e,i,a)}}function L_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function bl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Fe=l,U_(l,e)}L_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)P_(e),e=e.sibling}function P_(e){switch(e.tag){case 0:case 11:case 15:bl(e),e.flags&2048&&Br(9,e,e.return);break;case 3:bl(e);break;case 12:bl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Oc(e)):bl(e);break;default:bl(e)}}function Oc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Fe=l,U_(l,e)}L_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Br(8,i,i.return),Oc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(i));break;default:Oc(i)}e=e.sibling}}function U_(e,i){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:Br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Fe=l;else t:for(a=e;Fe!==null;){l=Fe;var f=l.sibling,d=l.return;if(I_(l),l===a){Fe=null;break t}if(f!==null){f.return=d,Fe=f;break t}Fe=d}}}var Uw={getCacheForType:function(e){var i=$e(De),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return $e(De).controller.signal}},zw=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ie=null,Nt=null,xt=0,Xt=0,Rn=null,jr=!1,Ya=!1,Vd=!1,or=0,me=0,qr=0,Js=0,kd=0,Cn=0,Xa=0,Rl=null,yn=null,Ld=!1,xc=0,z_=0,Mc=1/0,Vc=null,Hr=null,Be=0,Fr=null,$a=null,lr=0,Pd=0,Ud=null,B_=null,Cl=0,zd=null;function In(){return(Qt&2)!==0&&xt!==0?xt&-xt:X.T!==null?Gd():ku()}function j_(){if(Cn===0)if((xt&536870912)===0||Ut){var e=bs;bs<<=1,(bs&3932160)===0&&(bs=262144),Cn=e}else Cn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),Cn}function _n(e,i,a){(e===ie&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Wa(e,0),Gr(e,xt,Cn,!1)),Rs(e,a),((Qt&2)===0||e!==ie)&&(e===ie&&((Qt&2)===0&&(Js|=a),me===4&&Gr(e,xt,Cn,!1)),xi(e))}function q_(e,i,a){if((Qt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Wn(e,i),f=l?qw(e,i):jd(e,i,!0),d=l;do{if(f===0){Ya&&!l&&Gr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!Bw(a)){f=jd(e,i,!1),d=!1;continue}if(f===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var w=e;f=Rl;var D=w.current.memoizedState.isDehydrated;if(D&&(Wa(w,_).flags|=256),_=jd(w,_,!1),_!==2){if(Vd&&!D){w.errorRecoveryDisabledLanes|=d,Js|=d,f=4;break t}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Wa(e,0),Gr(e,i,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Gr(l,i,Cn,!jr);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=xc+300-on(),10<f)){if(Gr(l,i,Cn,!jr),mi(l,0,!0)!==0)break t;lr=i,l.timeoutHandle=v0(H_.bind(null,l,a,yn,Vc,Ld,i,Cn,Js,Xa,jr,d,"Throttled",-0,0),f);break t}H_(l,a,yn,Vc,Ld,i,Cn,Js,Xa,jr,d,null,-0,0)}}break}while(!0);xi(e)}function H_(e,i,a,l,f,d,_,w,D,j,Y,Z,q,Q){if(e.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},k_(i,d,Z);var ht=(d&62914560)===d?xc-on():(d&4194048)===d?z_-on():0;if(ht=SA(Z,ht),ht!==null){lr=d,e.cancelPendingCommit=ht(W_.bind(null,e,i,d,a,l,f,_,w,D,Y,Z,null,q,Q)),Gr(e,d,_,!j);return}}W_(e,i,d,a,l,f,_,w,D)}function Bw(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!wn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gr(e,i,a,l){i&=~kd,i&=~Js,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var f=i;0<f;){var d=31-ve(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Cs(e,a,i)}function kc(){return(Qt&6)===0?(Il(0),!1):!0}function Bd(){if(Nt!==null){if(Xt===0)var e=Nt.return;else e=Nt,Wi=Hs=null,nd(e),ja=null,cl=0,e=Nt;for(;e!==null;)E_(e.alternate,e),e=e.return;Nt=null}}function Wa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,aA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),lr=0,Bd(),ie=e,Nt=a=Xi(e.current,null),xt=i,Xt=0,Rn=null,jr=!1,Ya=Wn(e,i),Vd=!1,Xa=Cn=kd=Js=qr=me=0,yn=Rl=null,Ld=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var f=31-ve(l),d=1<<f;i|=e[f],l&=~d}return or=i,nc(),a}function F_(e,i){Ct=null,X.H=_l,i===Ba||i===cc?(i=ay(),Xt=3):i===Ff?(i=ay(),Xt=4):Xt=i===_d?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,Nt===null&&(me=1,Sc(e,qn(i,e.current)))}function G_(){var e=Sn.current;return e===null?!0:(xt&4194048)===xt?Qn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===Qn:!1}function Q_(){var e=X.H;return X.H=_l,e===null?_l:e}function K_(){var e=X.A;return X.A=Uw,e}function Lc(){me=4,jr||(xt&4194048)!==xt&&Sn.current!==null||(Ya=!0),(qr&134217727)===0&&(Js&134217727)===0||ie===null||Gr(ie,xt,Cn,!1)}function jd(e,i,a){var l=Qt;Qt|=2;var f=Q_(),d=K_();(ie!==e||xt!==i)&&(Vc=null,Wa(e,i)),i=!1;var _=me;t:do try{if(Xt!==0&&Nt!==null){var w=Nt,D=Rn;switch(Xt){case 8:Bd(),_=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(i=!0);var j=Xt;if(Xt=0,Rn=null,Ja(e,w,D,j),a&&Ya){_=0;break t}break;default:j=Xt,Xt=0,Rn=null,Ja(e,w,D,j)}}jw(),_=me;break}catch(Y){F_(e,Y)}while(!0);return i&&e.shellSuspendCounter++,Wi=Hs=null,Qt=l,X.H=f,X.A=d,Nt===null&&(ie=null,xt=0,nc()),_}function jw(){for(;Nt!==null;)Y_(Nt)}function qw(e,i){var a=Qt;Qt|=2;var l=Q_(),f=K_();ie!==e||xt!==i?(Vc=null,Mc=on()+500,Wa(e,i)):Ya=Wn(e,i);t:do try{if(Xt!==0&&Nt!==null){i=Nt;var d=Rn;e:switch(Xt){case 1:Xt=0,Rn=null,Ja(e,i,d,1);break;case 2:case 9:if(ry(d)){Xt=0,Rn=null,X_(i);break}i=function(){Xt!==2&&Xt!==9||ie!==e||(Xt=7),xi(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:ry(d)?(Xt=0,Rn=null,X_(i)):(Xt=0,Rn=null,Ja(e,i,d,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var w=Nt;if(_?V0(_):w.stateNode.complete){Xt=0,Rn=null;var D=w.sibling;if(D!==null)Nt=D;else{var j=w.return;j!==null?(Nt=j,Pc(j)):Nt=null}break e}}Xt=0,Rn=null,Ja(e,i,d,5);break;case 6:Xt=0,Rn=null,Ja(e,i,d,6);break;case 8:Bd(),me=6;break t;default:throw Error(s(462))}}Hw();break}catch(Y){F_(e,Y)}while(!0);return Wi=Hs=null,X.H=l,X.A=f,Qt=a,Nt!==null?0:(ie=null,xt=0,nc(),me)}function Hw(){for(;Nt!==null&&!yf();)Y_(Nt)}function Y_(e){var i=__(e.alternate,e,or);e.memoizedProps=e.pendingProps,i===null?Pc(e):Nt=i}function X_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=f_(a,i,i.pendingProps,i.type,void 0,xt);break;case 11:i=f_(a,i,i.pendingProps,i.type.render,i.ref,xt);break;case 5:nd(i);default:E_(a,i),i=Nt=Kg(i,or),i=__(a,i,or)}e.memoizedProps=e.pendingProps,i===null?Pc(e):Nt=i}function Ja(e,i,a,l){Wi=Hs=null,nd(i),ja=null,cl=0;var f=i.return;try{if(Ow(e,f,i,a,xt)){me=1,Sc(e,qn(a,e.current)),Nt=null;return}}catch(d){if(f!==null)throw Nt=f,d;me=1,Sc(e,qn(a,e.current)),Nt=null;return}i.flags&32768?(Ut||l===1?e=!0:Ya||(xt&536870912)!==0?e=!1:(jr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$_(i,e)):Pc(i)}function Pc(e){var i=e;do{if((i.flags&32768)!==0){$_(i,jr);return}e=i.return;var a=Vw(i.alternate,i,or);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);me===0&&(me=5)}function $_(e,i){do{var a=kw(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);me=6,Nt=null}function W_(e,i,a,l,f,d,_,w,D){e.cancelPendingCommit=null;do Uc();while(Be!==0);if((Qt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Df,Ef(e,a,d,_,w,D),e===ie&&(Nt=ie=null,xt=0),$a=i,Fr=e,lr=a,Pd=d,Ud=f,B_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Kw(Tr,function(){return n0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=ot.p,ot.p=2,_=Qt,Qt|=4;try{Lw(e,i,a)}finally{Qt=_,ot.p=f,X.T=l}}Be=1,J_(),Z_(),t0()}}function J_(){if(Be===1){Be=0;var e=Fr,i=$a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ot.p;ot.p=2;var f=Qt;Qt|=4;try{x_(i,e);var d=Zd,_=Ug(e.containerInfo),w=d.focusedElem,D=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&Pg(w.ownerDocument.documentElement,w)){if(D!==null&&Sf(w)){var j=D.start,Y=D.end;if(Y===void 0&&(Y=j),"selectionStart"in w)w.selectionStart=j,w.selectionEnd=Math.min(Y,w.value.length);else{var Z=w.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var Q=q.getSelection(),ht=w.textContent.length,_t=Math.min(D.start,ht),te=D.end===void 0?_t:Math.min(D.end,ht);!Q.extend&&_t>te&&(_=te,te=_t,_t=_);var k=Lg(w,_t),N=Lg(w,te);if(k&&N&&(Q.rangeCount!==1||Q.anchorNode!==k.node||Q.anchorOffset!==k.offset||Q.focusNode!==N.node||Q.focusOffset!==N.offset)){var z=Z.createRange();z.setStart(k.node,k.offset),Q.removeAllRanges(),_t>te?(Q.addRange(z),Q.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),Q.addRange(z))}}}}for(Z=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Z.length;w++){var W=Z[w];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}$c=!!Jd,Zd=Jd=null}finally{Qt=f,ot.p=l,X.T=a}}e.current=i,Be=2}}function Z_(){if(Be===2){Be=0;var e=Fr,i=$a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ot.p;ot.p=2;var f=Qt;Qt|=4;try{C_(e,i.alternate,i)}finally{Qt=f,ot.p=l,X.T=a}}Be=3}}function t0(){if(Be===4||Be===3){Be=0,Iu();var e=Fr,i=$a,a=lr,l=B_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Be=5:(Be=0,$a=Fr=null,e0(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Hr=null),Gi(a),i=i.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot($n,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,f=ot.p,ot.p=2,X.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{X.T=i,ot.p=f}}(lr&3)!==0&&Uc(),xi(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===zd?Cl++:(Cl=0,zd=e):Cl=0,Il(0)}}function e0(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ll(i)))}function Uc(){return J_(),Z_(),t0(),n0()}function n0(){if(Be!==5)return!1;var e=Fr,i=Pd;Pd=0;var a=Gi(lr),l=X.T,f=ot.p;try{ot.p=32>a?32:a,X.T=null,a=Ud,Ud=null;var d=Fr,_=lr;if(Be=0,$a=Fr=null,lr=0,(Qt&6)!==0)throw Error(s(331));var w=Qt;if(Qt|=4,P_(d.current),V_(d,d.current,_,a),Qt=w,Il(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{ot.p=f,X.T=l,e0(e,i)}}function i0(e,i,a){i=qn(a,i),i=yd(e.stateNode,i,2),e=Pr(e,i,2),e!==null&&(Rs(e,2),xi(e))}function $t(e,i,a){if(e.tag===3)i0(e,e,a);else for(;i!==null;){if(i.tag===3){i0(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hr===null||!Hr.has(l))){e=qn(a,e),a=r_(2),l=Pr(i,a,2),l!==null&&(s_(a,l,i,e),Rs(l,2),xi(l));break}}i=i.return}}function qd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new zw;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Vd=!0,f.add(a),e=Fw.bind(null,e,i,a),i.then(e,e))}function Fw(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ie===e&&(xt&a)===a&&(me===4||me===3&&(xt&62914560)===xt&&300>on()-xc?(Qt&2)===0&&Wa(e,0):kd|=a,Xa===xt&&(Xa=0)),xi(e)}function r0(e,i){i===0&&(i=Vu()),e=Bs(e,i),e!==null&&(Rs(e,i),xi(e))}function Gw(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),r0(e,a)}function Qw(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),r0(e,a)}function Kw(e,i){return ze(e,i)}var zc=null,Za=null,Hd=!1,Bc=!1,Fd=!1,Qr=0;function xi(e){e!==Za&&e.next===null&&(Za===null?zc=Za=e:Za=Za.next=e),Bc=!0,Hd||(Hd=!0,Xw())}function Il(e,i){if(!Fd&&Bc){Fd=!0;do for(var a=!1,l=zc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-ve(42|e)+1)-1,d&=f&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,l0(l,d))}else d=xt,d=mi(l,l===ie?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,l0(l,d));l=l.next}while(a);Fd=!1}}function Yw(){s0()}function s0(){Bc=Hd=!1;var e=0;Qr!==0&&sA()&&(e=Qr);for(var i=on(),a=null,l=zc;l!==null;){var f=l.next,d=a0(l,i);d===0?(l.next=null,a===null?zc=f:a.next=f,f===null&&(Za=a)):(a=l,(e!==0||(d&3)!==0)&&(Bc=!0)),l=f}Be!==0&&Be!==5||Il(e),Qr!==0&&(Qr=0)}function a0(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ve(d),w=1<<_,D=f[_];D===-1?((w&a)===0||(w&l)!==0)&&(f[_]=vf(w,i)):D<=i&&(e.expiredLanes|=w),d&=~w}if(i=ie,a=xt,a=mi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Er(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Er(l),Gi(a)){case 2:case 8:a=Uo;break;case 32:a=Tr;break;case 268435456:a=Du;break;default:a=Tr}return l=o0.bind(null,e),a=ze(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Er(l),e.callbackPriority=2,e.callbackNode=null,2}function o0(e,i){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Uc()&&e.callbackNode!==a)return null;var l=xt;return l=mi(e,e===ie?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(q_(e,l,i),a0(e,on()),e.callbackNode!=null&&e.callbackNode===a?o0.bind(null,e):null)}function l0(e,i){if(Uc())return null;q_(e,i,!0)}function Xw(){oA(function(){(Qt&6)!==0?ze(Po,Yw):s0()})}function Gd(){if(Qr===0){var e=Ua;e===0&&(e=fi,fi<<=1,(fi&261888)===0&&(fi=256)),Qr=e}return Qr}function u0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Aa(""+e)}function c0(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function $w(e,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=u0((f[qe]||null).action),_=l.submitter;_&&(i=(i=_[qe]||null)?u0(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var w=new bi("action","action",null,l,f);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qr!==0){var D=_?c0(f,_):new FormData(f);hd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(w.preventDefault(),D=_?c0(f,_):new FormData(f),hd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Qd=0;Qd<If.length;Qd++){var Kd=If[Qd],Ww=Kd.toLowerCase(),Jw=Kd[0].toUpperCase()+Kd.slice(1);si(Ww,"on"+Jw)}si(jg,"onAnimationEnd"),si(qg,"onAnimationIteration"),si(Hg,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(mw,"onTransitionRun"),si(pw,"onTransitionStart"),si(gw,"onTransitionCancel"),si(Fg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function h0(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var w=l[_],D=w.instance,j=w.currentTarget;if(w=w.listener,D!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=j;try{d(f)}catch(Y){ec(Y)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(w=l[_],D=w.instance,j=w.currentTarget,w=w.listener,D!==d&&f.isPropagationStopped())break t;d=w,f.currentTarget=j;try{d(f)}catch(Y){ec(Y)}f.currentTarget=null,d=D}}}}function Ot(e,i){var a=i[_a];a===void 0&&(a=i[_a]=new Set);var l=e+"__bubble";a.has(l)||(f0(i,e,2,!1),a.add(l))}function Yd(e,i,a){var l=0;i&&(l|=4),f0(a,e,l,i)}var jc="_reactListening"+Math.random().toString(36).slice(2);function Xd(e){if(!e[jc]){e[jc]=!0,jo.forEach(function(a){a!=="selectionchange"&&(Zw.has(a)||Yd(a,!1,e),Yd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[jc]||(i[jc]=!0,Yd("selectionchange",!1,i))}}function f0(e,i,a,l){switch(j0(i)){case 2:var f=CA;break;case 8:f=IA;break;default:f=cm}a=f.bind(null,i,a,e),f=void 0,!xs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(i,a,{capture:!0,passive:f}):e.addEventListener(i,a,!0):f!==void 0?e.addEventListener(i,a,{passive:f}):e.addEventListener(i,a,!1)}function $d(e,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=_i(w),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}w=w.parentNode}}l=l.return}Cr(function(){var j=d,Y=Un(a),Z=[];t:{var q=Gg.get(e);if(q!==void 0){var Q=bi,ht=e;switch(e){case"keypress":if(Vs(a)===0)break t;case"keydown":case"keyup":Q=Ju;break;case"focusin":ht="focus",Q=Ls;break;case"focusout":ht="blur",Q=Ls;break;case"beforeblur":case"afterblur":Q=Ls;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case jg:case qg:case Hg:Q=Gu;break;case Fg:Q=A;break;case"scroll":case"scrollend":Q=Zo;break;case"wheel":Q=F;break;case"copy":case"cut":case"paste":Q=Qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Yi;break;case"toggle":case"beforetoggle":Q=Rt}var _t=(i&4)!==0,te=!_t&&(e==="scroll"||e==="scrollend"),k=_t?q!==null?q+"Capture":null:q;_t=[];for(var N=j,z;N!==null;){var W=N;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||k===null||(W=ei(N,k),W!=null&&_t.push(Nl(N,W,z))),te)break;N=N.return}0<_t.length&&(q=new Q(q,ht,null,a,Y),Z.push({event:q,listeners:_t}))}}if((i&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",q&&a!==$o&&(ht=a.relatedTarget||a.fromElement)&&(_i(ht)||ht[gi]))break t;if((Q||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(ht=a.relatedTarget||a.toElement,Q=j,ht=ht?_i(ht):null,ht!==null&&(te=u(ht),_t=ht.tag,ht!==te||_t!==5&&_t!==27&&_t!==6)&&(ht=null)):(Q=null,ht=j),Q!==ht)){if(_t=tl,W="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Yi,W="onPointerLeave",k="onPointerEnter",N="pointer"),te=Q==null?q:En(Q),z=ht==null?q:En(ht),q=new _t(W,N+"leave",Q,a,Y),q.target=te,q.relatedTarget=z,W=null,_i(Y)===j&&(_t=new _t(k,N+"enter",ht,a,Y),_t.target=z,_t.relatedTarget=te,W=_t),te=W,Q&&ht)e:{for(_t=tA,k=Q,N=ht,z=0,W=k;W;W=_t(W))z++;W=0;for(var pt=N;pt;pt=_t(pt))W++;for(;0<z-W;)k=_t(k),z--;for(;0<W-z;)N=_t(N),W--;for(;z--;){if(k===N||N!==null&&k===N.alternate){_t=k;break e}k=_t(k),N=_t(N)}_t=null}else _t=null;Q!==null&&d0(Z,q,Q,_t,!1),ht!==null&&te!==null&&d0(Z,te,ht,_t,!0)}}t:{if(q=j?En(j):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var Ht=Ng;else if(Ig(q))if(Og)Ht=hw;else{Ht=uw;var dt=lw}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&wa(j.elementType)&&(Ht=Ng):Ht=cw;if(Ht&&(Ht=Ht(e,j))){Dg(Z,Ht,a,Y);break t}dt&&dt(e,q,j),e==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&Ko(q,"number",q.value)}switch(dt=j?En(j):window,e){case"focusin":(Ig(dt)||dt.contentEditable==="true")&&(Na=dt,bf=j,sl=null);break;case"focusout":sl=bf=Na=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,zg(Z,a,Y);break;case"selectionchange":if(dw)break;case"keydown":case"keyup":zg(Z,a,Y)}var Dt;if(Gt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Da?Ps(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(Ii&&a.locale!=="ko"&&(Da||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Da&&(Dt=Jo()):(Si=Y,Wo="value"in Si?Si.value:Si.textContent,Da=!0)),dt=qc(j,Mt),0<dt.length&&(Mt=new Ci(Mt,e,null,a,Y),Z.push({event:Mt,listeners:dt}),Dt?Mt.data=Dt:(Dt=Ia(a),Dt!==null&&(Mt.data=Dt)))),(Dt=Bn?rw(e,a):sw(e,a))&&(Mt=qc(j,"onBeforeInput"),0<Mt.length&&(dt=new Ci("onBeforeInput","beforeinput",null,a,Y),Z.push({event:dt,listeners:Mt}),dt.data=Dt)),$w(Z,e,j,a,Y)}h0(Z,i)})}function Nl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function qc(e,i){for(var a=i+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ei(e,a),f!=null&&l.unshift(Nl(e,f,d)),f=ei(e,i),f!=null&&l.push(Nl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function tA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function d0(e,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var w=a,D=w.alternate,j=w.stateNode;if(w=w.tag,D!==null&&D===l)break;w!==5&&w!==26&&w!==27||j===null||(D=j,f?(j=ei(a,d),j!=null&&_.unshift(Nl(a,j,D))):f||(j=ei(a,d),j!=null&&_.push(Nl(a,j,D)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var eA=/\r\n?/g,nA=/\u0000|\uFFFD/g;function m0(e){return(typeof e=="string"?e:""+e).replace(eA,`
`).replace(nA,"")}function p0(e,i){return i=m0(i),m0(e)===i}function Zt(e,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||dn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&dn(e,""+l);break;case"className":Tn(e,"class",l);break;case"tabIndex":Tn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,a,l);break;case"style":Xo(e,l,d);break;case"data":if(i!=="object"){Tn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Aa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",f.name,f,null),Zt(e,i,"formEncType",f.formEncType,f,null),Zt(e,i,"formMethod",f.formMethod,f,null),Zt(e,i,"formTarget",f.formTarget,f,null)):(Zt(e,i,"encType",f.encType,f,null),Zt(e,i,"method",f.method,f,null),Zt(e,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Aa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ti);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Aa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Ea(e,"popover",l);break;case"xlinkActuate":Ie(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ie(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ie(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ie(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ie(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ie(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qu.get(a)||a,Ea(e,a,l))}}function Wd(e,i,a,l,f,d){switch(a){case"style":Xo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?dn(e,l):(typeof l=="number"||typeof l=="bigint")&&dn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=e[qe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Ea(e,a,l)}}}function Je(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,d,_,a,null)}}f&&Zt(e,i,"srcSet",a.srcSet,a,null),l&&Zt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var w=d=_=f=null,D=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":D=Y;break;case"defaultChecked":j=Y;break;case"value":d=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Zt(e,i,l,Y,a,null)}}zu(e,d,w,D,j,_,f,!1);return;case"select":Ot("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:Zt(e,i,f,w,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Ar(e,!!l,i,!1):a!=null&&Ar(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Zt(e,i,_,w,a,null)}Sr(e,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(e,i,D,l,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ot(Dl[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,j,l,a,null)}return;default:if(wa(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Wd(e,i,Y,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Zt(e,i,w,l,a,null))}function iA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,w=null,D=null,j=null,Y=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=Z;default:l.hasOwnProperty(Q)||Zt(e,i,Q,null,l,Z)}}for(var q in l){var Q=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(Q!=null||Z!=null))switch(q){case"type":d=Q;break;case"name":f=Q;break;case"checked":j=Q;break;case"defaultChecked":Y=Q;break;case"value":_=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==Z&&Zt(e,i,q,Q,l,Z)}}Ta(e,_,w,D,j,Y,d,f);return;case"select":Q=_=w=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(d)||Zt(e,i,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":q=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==D&&Zt(e,i,f,d,l,D)}i=w,a=_,l=Q,q!=null?Ar(e,!!a,q,!1):!!l!=!!a&&(i!=null?Ar(e,!!a,i,!0):Ar(e,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Zt(e,i,w,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Zt(e,i,_,f,l,d)}Bu(e,q,Q);return;case"option":for(var ht in a)if(q=a[ht],a.hasOwnProperty(ht)&&q!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:Zt(e,i,ht,null,l,q)}for(D in l)if(q=l[D],Q=a[D],l.hasOwnProperty(D)&&q!==Q&&(q!=null||Q!=null))switch(D){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Zt(e,i,D,q,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)q=a[_t],a.hasOwnProperty(_t)&&q!=null&&!l.hasOwnProperty(_t)&&Zt(e,i,_t,null,l,q);for(j in l)if(q=l[j],Q=a[j],l.hasOwnProperty(j)&&q!==Q&&(q!=null||Q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Zt(e,i,j,q,l,Q)}return;default:if(wa(i)){for(var te in a)q=a[te],a.hasOwnProperty(te)&&q!==void 0&&!l.hasOwnProperty(te)&&Wd(e,i,te,void 0,l,q);for(Y in l)q=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||q===Q||q===void 0&&Q===void 0||Wd(e,i,Y,q,l,Q);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&Zt(e,i,k,null,l,q);for(Z in l)q=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||q===Q||q==null&&Q==null||Zt(e,i,Z,q,l,Q)}function g0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,w=f.duration;if(d&&w&&g0(_)){for(_=0,w=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],j=D.startTime;if(j>w)break;var Y=D.transferSize,Z=D.initiatorType;Y&&g0(Z)&&(D=D.responseEnd,_+=Y*(D<w?1:(w-j)/(D-j)))}if(--l,i+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jd=null,Zd=null;function Hc(e){return e.nodeType===9?e:e.ownerDocument}function y0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function tm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var em=null;function sA(){var e=window.event;return e&&e.type==="popstate"?e===em?!1:(em=e,!0):(em=null,!1)}var v0=typeof setTimeout=="function"?setTimeout:void 0,aA=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,oA=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(e){return E0.resolve(null).then(e).catch(lA)}:v0;function lA(e){setTimeout(function(){throw e})}function Kr(e){return e==="head"}function T0(e,i){var a=i,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),io(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ol(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ol(a);for(var d=a.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[yi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ol(e.ownerDocument.body);a=f}while(a);io(i)}function w0(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function nm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function uA(e,i,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[yi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function cA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kn(e.nextSibling),e===null))return null;return e}function A0(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Kn(e.nextSibling),e===null))return null;return e}function im(e){return e.data==="$?"||e.data==="$~"}function rm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function hA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Kn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var sm=null;function S0(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Kn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function b0(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function R0(e,i,a){switch(i=Hc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ol(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);va(e)}var Yn=new Map,C0=new Set;function Fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ur=ot.d;ot.d={f:fA,r:dA,D:mA,C:pA,L:gA,m:yA,X:vA,S:_A,M:EA};function fA(){var e=ur.f(),i=kc();return e||i}function dA(e){var i=Pn(e);i!==null&&i.tag===5&&i.type==="form"?Fy(i):ur.r(e)}var to=typeof document>"u"?null:document;function I0(e,i,a){var l=to;if(l&&typeof i=="string"&&i){var f=fn(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),C0.has(f)||(C0.add(f),e={rel:e,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Je(i,"link",e),Ce(i),l.head.appendChild(i)))}}function mA(e){ur.D(e),I0("dns-prefetch",e,null)}function pA(e,i){ur.C(e,i),I0("preconnect",e,i)}function gA(e,i,a){ur.L(e,i,a);var l=to;if(l&&e&&i){var f='link[rel="preload"][as="'+fn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(e)+'"]';var d=f;switch(i){case"style":d=eo(e);break;case"script":d=no(e)}Yn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Yn.set(d,e),l.querySelector(f)!==null||i==="style"&&l.querySelector(xl(d))||i==="script"&&l.querySelector(Ml(d))||(i=l.createElement("link"),Je(i,"link",e),Ce(i),l.head.appendChild(i)))}}function yA(e,i){ur.m(e,i);var a=to;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(e)}if(!Yn.has(d)&&(e=T({rel:"modulepreload",href:e},i),Yn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(d)))return}l=a.createElement("link"),Je(l,"link",e),Ce(l),a.head.appendChild(l)}}}function _A(e,i,a){ur.S(e,i,a);var l=to;if(l&&e){var f=vi(l).hoistableStyles,d=eo(e);i=i||"default";var _=f.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(xl(d)))w.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Yn.get(d))&&am(e,a);var D=_=l.createElement("link");Ce(D),Je(D,"link",e),D._p=new Promise(function(j,Y){D.onload=j,D.onerror=Y}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Gc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(d,_)}}}function vA(e,i){ur.X(e,i);var a=to;if(a&&e){var l=vi(a).hoistableScripts,f=no(e),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(e=T({src:e,async:!0},i),(i=Yn.get(f))&&om(e,i),d=a.createElement("script"),Ce(d),Je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function EA(e,i){ur.M(e,i);var a=to;if(a&&e){var l=vi(a).hoistableScripts,f=no(e),d=l.get(f);d||(d=a.querySelector(Ml(f)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Yn.get(f))&&om(e,i),d=a.createElement("script"),Ce(d),Je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function D0(e,i,a,l){var f=(f=It.current)?Fc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=eo(a.href),a=vi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=eo(a.href);var d=vi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(xl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Yn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(e,a),d||TA(f,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(a),a=vi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function eo(e){return'href="'+fn(e)+'"'}function xl(e){return'link[rel="stylesheet"]['+e+"]"}function N0(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function TA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Je(i,"link",a),Ce(i),e.head.appendChild(i))}function no(e){return'[src="'+fn(e)+'"]'}function Ml(e){return"script[async]"+e}function O0(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return i.instance=l,Ce(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ce(l),Je(l,"style",f),Gc(l,a.precedence,e),i.instance=l;case"stylesheet":f=eo(a.href);var d=e.querySelector(xl(f));if(d)return i.state.loading|=4,i.instance=d,Ce(d),d;l=N0(a),(f=Yn.get(f))&&am(l,f),d=(e.ownerDocument||e).createElement("link"),Ce(d);var _=d;return _._p=new Promise(function(w,D){_.onload=w,_.onerror=D}),Je(d,"link",l),i.state.loading|=4,Gc(d,a.precedence,e),i.instance=d;case"script":return d=no(a.src),(f=e.querySelector(Ml(d)))?(i.instance=f,Ce(f),f):(l=a,(f=Yn.get(d))&&(l=T({},a),om(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ce(f),Je(f,"link",l),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Gc(l,a.precedence,e));return i.instance}function Gc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===i)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function am(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function om(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Qc=null;function x0(e,i,a){if(Qc===null){var l=new Map,f=Qc=new Map;f.set(a,l)}else f=Qc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[yi]||d[Re]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function M0(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function wA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function V0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function AA(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=eo(l.href),d=i.querySelector(xl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Kc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ce(d);return}d=i.ownerDocument||i,l=N0(l),(f=Yn.get(f))&&am(l,f),d=d.createElement("link"),Ce(d);var _=d;_._p=new Promise(function(w,D){_.onload=w,_.onerror=D}),Je(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Kc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var lm=0;function SA(e,i){return e.stylesheets&&e.count===0&&Xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&lm===0&&(lm=62500*rA());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>lm?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yc=null;function Xc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yc=new Map,i.forEach(bA,e),Yc=null,Kc.call(e))}function bA(e,i){if(!(i.state.loading&4)){var a=Yc.get(e);if(a)var l=a.get(null);else{a=new Map,Yc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Kc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var Vl={$$typeof:et,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function RA(e,i,a,l,f,d,_,w,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function k0(e,i,a,l,f,d,_,w,D,j,Y,Z){return e=new RA(e,i,a,_,D,j,Y,Z,w),i=1,d===!0&&(i|=24),d=An(3,null,null,i),e.current=d,d.stateNode=e,i=jf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Gf(d),e}function L0(e){return e?(e=Ma,e):Ma}function P0(e,i,a,l,f,d){f=L0(f),l.context===null?l.context=f:l.pendingContext=f,l=Lr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Pr(e,l,i),a!==null&&(_n(a,e,i),fl(a,e,i))}function U0(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function um(e,i){U0(e,i),(e=e.alternate)&&U0(e,i)}function z0(e){if(e.tag===13||e.tag===31){var i=Bs(e,67108864);i!==null&&_n(i,e,67108864),um(e,67108864)}}function B0(e){if(e.tag===13||e.tag===31){var i=In();i=Is(i);var a=Bs(e,i);a!==null&&_n(a,e,i),um(e,i)}}var $c=!0;function CA(e,i,a,l){var f=X.T;X.T=null;var d=ot.p;try{ot.p=2,cm(e,i,a,l)}finally{ot.p=d,X.T=f}}function IA(e,i,a,l){var f=X.T;X.T=null;var d=ot.p;try{ot.p=8,cm(e,i,a,l)}finally{ot.p=d,X.T=f}}function cm(e,i,a,l){if($c){var f=hm(l);if(f===null)$d(e,i,l,Wc,a),q0(e,l);else if(NA(f,e,i,a,l))l.stopPropagation();else if(q0(e,l),i&4&&-1<DA.indexOf(e)){for(;f!==null;){var d=Pn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=di(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var D=1<<31-ve(_);w.entanglements[1]|=D,_&=~D}xi(d),(Qt&6)===0&&(Mc=on()+500,Il(0))}}break;case 31:case 13:w=Bs(d,2),w!==null&&_n(w,d,2),kc(),um(d,2)}if(d=hm(l),d===null&&$d(e,i,l,Wc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else $d(e,i,l,null,a)}}function hm(e){return e=Un(e),fm(e)}var Wc=null;function fm(e){if(Wc=null,e=_i(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=h(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Wc=e,null}function j0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case Po:return 2;case Uo:return 8;case Tr:case _f:return 32;case Du:return 268435456;default:return 32}default:return 32}}var dm=!1,Yr=null,Xr=null,$r=null,kl=new Map,Ll=new Map,Wr=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q0(e,i){switch(e){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(i.pointerId)}}function Pl(e,i,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Pn(i),i!==null&&z0(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function NA(e,i,a,l,f){switch(i){case"focusin":return Yr=Pl(Yr,e,i,a,l,f),!0;case"dragenter":return Xr=Pl(Xr,e,i,a,l,f),!0;case"mouseover":return $r=Pl($r,e,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return kl.set(d,Pl(kl.get(d)||null,e,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ll.set(d,Pl(Ll.get(d)||null,e,i,a,l,f)),!0}return!1}function H0(e){var i=_i(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){e.blockedOn=i,Jn(e.priority,function(){B0(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Jn(e.priority,function(){B0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=hm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);$o=l,a.target.dispatchEvent(l),$o=null}else return i=Pn(a),i!==null&&z0(i),e.blockedOn=a,!1;i.shift()}return!0}function F0(e,i,a){Jc(e)&&a.delete(i)}function OA(){dm=!1,Yr!==null&&Jc(Yr)&&(Yr=null),Xr!==null&&Jc(Xr)&&(Xr=null),$r!==null&&Jc($r)&&($r=null),kl.forEach(F0),Ll.forEach(F0)}function Zc(e,i){e.blockedOn===i&&(e.blockedOn=null,dm||(dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,OA)))}var th=null;function G0(e){th!==e&&(th=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===e&&(th=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],f=e[i+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=Pn(a);d!==null&&(e.splice(i,3),i-=3,hd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function io(e){function i(D){return Zc(D,e)}Yr!==null&&Zc(Yr,e),Xr!==null&&Zc(Xr,e),$r!==null&&Zc($r,e),kl.forEach(i),Ll.forEach(i);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)H0(a),a.blockedOn===null&&Wr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[qe]||null;if(typeof d=="function")_||G0(a);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[qe]||null)w=_.formAction;else if(fm(f)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),G0(a)}}}function Q0(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function mm(e){this._internalRoot=e}eh.prototype.render=mm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=In();P0(a,l,e,i,null,null)},eh.prototype.unmount=mm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;P0(e.current,2,null,e,null,null),kc(),i[gi]=null}};function eh(e){this._internalRoot=e}eh.prototype.unstable_scheduleHydration=function(e){if(e){var i=ku();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Wr.length&&i!==0&&i<Wr[a].priority;a++);Wr.splice(a,0,e),a===0&&H0(e)}};var K0=t.version;if(K0!=="19.2.3")throw Error(s(527,K0,"19.2.3"));ot.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var xA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{$n=nh.inject(xA),Ke=nh}catch{}}return zl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",f=t_,d=e_,_=n_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=k0(e,1,!1,null,null,a,l,null,f,d,_,Q0),e[gi]=i.current,Xd(e),new mm(i)},zl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=t_,_=e_,w=n_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=k0(e,1,!0,i,a??null,l,f,D,d,_,w,Q0),i.context=L0(null),a=i.current,l=In(),l=Is(l),f=Lr(l),f.callback=null,Pr(a,f,l),a=l,i.current.lanes=a,Rs(i,a),xi(i),e[gi]=i.current,Xd(e),new eh(i)},zl.version="19.2.3",zl}var iv;function qA(){if(iv)return ym.exports;iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ym.exports=jA(),ym.exports}var HA=qA();const FA=YE(HA),GA="modulepreload",QA=function(r){return"/"+r},rv={},ne=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let h=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=h(n.map(g=>{if(g=QA(g),g in rv)return;rv[g]=!0;const E=g.endsWith(".css"),T=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const S=document.createElement("link");if(S.rel=E?"stylesheet":GA,E||(S.as="script"),S.crossOrigin="",S.href=g,p&&S.setAttribute("nonce",p),document.head.appendChild(S),E)return new Promise((M,G)=>{S.addEventListener("load",M),S.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return t().catch(u)})};/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sv="popstate";function KA(r={}){function t(o,u){let{pathname:h="/",search:m="",hash:p=""}=ua(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Um("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Zl(u))}function s(o,u){Mn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return XA(t,n,s,r)}function he(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Mn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YA(){return Math.random().toString(36).substring(2,10)}function av(r,t){return{usr:r.state,key:r.key,idx:t}}function Um(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?ua(t):t,state:n,key:t&&t.key||s||YA()}}function Zl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ua(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function XA(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let B=E(),J=B==null?null:B-g;g=B,p&&p({action:m,location:K.location,delta:J})}function S(B,J){m="PUSH";let rt=Um(K.location,B,J);n&&n(rt,B),g=E()+1;let et=av(rt,g),ft=K.createHref(rt);try{h.pushState(et,"",ft)}catch(vt){if(vt instanceof DOMException&&vt.name==="DataCloneError")throw vt;o.location.assign(ft)}u&&p&&p({action:m,location:K.location,delta:1})}function M(B,J){m="REPLACE";let rt=Um(K.location,B,J);n&&n(rt,B),g=E();let et=av(rt,g),ft=K.createHref(rt);h.replaceState(et,"",ft),u&&p&&p({action:m,location:K.location,delta:0})}function G(B){return $A(B)}let K={get action(){return m},get location(){return r(o,h)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(sv,T),p=B,()=>{o.removeEventListener(sv,T),p=null}},createHref(B){return t(o,B)},createURL:G,encodeLocation(B){let J=G(B);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:S,replace:M,go(B){return h.go(B)}};return K}function $A(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),he(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Zl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function XE(r,t,n="/"){return WA(r,t,n,!1)}function WA(r,t,n,s){let o=typeof t=="string"?ua(t):t,u=dr(o.pathname||"/",n);if(u==null)return null;let h=$E(r);JA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=uS(u);m=oS(h[p],g,s)}return m}function $E(r,t=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;he(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=fr([s,E.relativePath]),S=n.concat(E);h.children&&h.children.length>0&&(he(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),$E(h.children,t,S,T,p)),!(h.path==null&&!h.index)&&t.push({path:T,score:sS(T,h.index),routesMeta:S})};return r.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of WE(h.path))u(h,m,!0,g)}),t}function WE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=WE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function JA(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:aS(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ZA=/^:[\w-]+$/,tS=3,eS=2,nS=1,iS=10,rS=-2,ov=r=>r==="*";function sS(r,t){let n=r.split("/"),s=n.length;return n.some(ov)&&(s+=rS),t&&(s+=eS),n.filter(o=>!ov(o)).reduce((o,u)=>o+(ZA.test(u)?tS:u===""?nS:iS),s)}function aS(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function oS(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:fr([u,T.pathname]),pathnameBase:dS(fr([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=fr([u,T.pathnameBase]))}return h}function Sh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=lS(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},S)=>{if(E==="*"){let G=m[S]||"";h=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const M=m[S];return T&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function lS(r,t=!1,n=!0){Mn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function uS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function dr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cS=r=>JE.test(r);function hS(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ua(r):r,u;if(n)if(cS(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Mn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=lv(n.substring(1),"/"):u=lv(n,t)}else u=t;return{pathname:u,search:mS(s),hash:pS(o)}}function lv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fS(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gp(r){let t=fS(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function yp(r,t,n,s=!1){let o;typeof r=="string"?o=ua(r):(o={...r},he(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),he(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),he(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=t.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?t[T]:"/"}let p=hS(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var fr=r=>r.join("/").replace(/\/\/+/g,"/"),dS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),mS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,pS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,gS=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function yS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function _S(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function t1(r,t){let n=r;if(typeof n!="string"||!JE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(ZE)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=dr(h.pathname,t);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Mn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var e1=["POST","PUT","PATCH","DELETE"];new Set(e1);var vS=["GET",...e1];new Set(vS);var So=P.createContext(null);So.displayName="DataRouter";var Gh=P.createContext(null);Gh.displayName="DataRouterState";var ES=P.createContext(!1),n1=P.createContext({isTransitioning:!1});n1.displayName="ViewTransition";var TS=P.createContext(new Map);TS.displayName="Fetchers";var wS=P.createContext(null);wS.displayName="Await";var kn=P.createContext(null);kn.displayName="Navigation";var hu=P.createContext(null);hu.displayName="Location";var Xn=P.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var _p=P.createContext(null);_p.displayName="RouteError";var i1="REACT_ROUTER_ERROR",AS="REDIRECT",SS="ROUTE_ERROR_RESPONSE";function bS(r){if(r.startsWith(`${i1}:${AS}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function RS(r){if(r.startsWith(`${i1}:${SS}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new gS(t.status,t.statusText,t.data)}catch{}}function CS(r,{relative:t}={}){he(bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(kn),{hash:o,pathname:u,search:h}=fu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:fr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function bo(){return P.useContext(hu)!=null}function Hi(){return he(bo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(hu).location}var r1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s1(r){P.useContext(kn).static||P.useLayoutEffect(r)}function vp(){let{isDataRoute:r}=P.useContext(Xn);return r?qS():IS()}function IS(){he(bo(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(So),{basename:t,navigator:n}=P.useContext(kn),{matches:s}=P.useContext(Xn),{pathname:o}=Hi(),u=JSON.stringify(gp(s)),h=P.useRef(!1);return s1(()=>{h.current=!0}),P.useCallback((p,g={})=>{if(Mn(h.current,r1),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=yp(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:fr([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}var DS=P.createContext(null);function NS(r){let t=P.useContext(Xn).outlet;return P.useMemo(()=>t&&P.createElement(DS.Provider,{value:r},t),[t,r])}function L6(){let{matches:r}=P.useContext(Xn),t=r[r.length-1];return t?t.params:{}}function fu(r,{relative:t}={}){let{matches:n}=P.useContext(Xn),{pathname:s}=Hi(),o=JSON.stringify(gp(n));return P.useMemo(()=>yp(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function OS(r,t){return a1(r,t)}function a1(r,t,n,s,o){var rt;he(bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(kn),{matches:h}=P.useContext(Xn),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let et=T&&T.path||"";l1(g,!T||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let S=Hi(),M;if(t){let et=typeof t=="string"?ua(t):t;he(E==="/"||((rt=et.pathname)==null?void 0:rt.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),M=et}else M=S;let G=M.pathname||"/",K=G;if(E!=="/"){let et=E.replace(/^\//,"").split("/");K="/"+G.replace(/^\//,"").split("/").slice(et.length).join("/")}let B=XE(r,{pathname:K});Mn(T||B!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Mn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=LS(B&&B.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:fr([E,u.encodeLocation?u.encodeLocation(et.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:fr([E,u.encodeLocation?u.encodeLocation(et.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathnameBase])})),h,n,s,o);return t&&J?P.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},J):J}function xS(){let r=jS(),t=yS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:o},n):null,h)}var MS=P.createElement(xS,null),o1=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=RS(r.digest);n&&(r=n)}let t=r!==void 0?P.createElement(Xn.Provider,{value:this.props.routeContext},P.createElement(_p.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?P.createElement(VS,{error:r},t):t}};o1.contextType=ES;var wm=new WeakMap;function VS({children:r,error:t}){let{basename:n}=P.useContext(kn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=bS(t.digest);if(s){let o=wm.get(t);if(o)throw o;let u=t1(s.location,n);if(ZE&&!wm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw wm.set(t,h),h}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function kS({routeContext:r,match:t,children:n}){let s=P.useContext(So);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Xn.Provider,{value:r},n)}function LS(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n==null?void 0:n.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);he(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:S,errors:M}=n,G=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!M||M[T.route.id]===void 0);if(T.route.lazy||G){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{var S,M;s(E,{location:n.location,params:((M=(S=n.matches)==null?void 0:S[0])==null?void 0:M.params)??{},unstable_pattern:_S(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,S)=>{let M,G=!1,K=null,B=null;n&&(M=h&&T.route.id?h[T.route.id]:void 0,K=T.route.errorElement||MS,m&&(p<0&&S===0?(l1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,B=null):p===S&&(G=!0,B=T.route.hydrateFallbackElement||null)));let J=t.concat(u.slice(0,S+1)),rt=()=>{let et;return M?et=K:G?et=B:T.route.Component?et=P.createElement(T.route.Component,null):T.route.element?et=T.route.element:et=E,P.createElement(kS,{match:T,routeContext:{outlet:E,matches:J,isDataRoute:n!=null},children:et})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?P.createElement(o1,{location:n.location,revalidation:n.revalidation,component:K,error:M,children:rt(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:g}):rt()},null)}function Ep(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PS(r){let t=P.useContext(So);return he(t,Ep(r)),t}function US(r){let t=P.useContext(Gh);return he(t,Ep(r)),t}function zS(r){let t=P.useContext(Xn);return he(t,Ep(r)),t}function Tp(r){let t=zS(r),n=t.matches[t.matches.length-1];return he(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function BS(){return Tp("useRouteId")}function jS(){var s;let r=P.useContext(_p),t=US("useRouteError"),n=Tp("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function qS(){let{router:r}=PS("useNavigate"),t=Tp("useNavigate"),n=P.useRef(!1);return s1(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{Mn(n.current,r1),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var uv={};function l1(r,t,n){!t&&!uv[r]&&(uv[r]=!0,Mn(!1,n))}P.memo(HS);function HS({routes:r,future:t,state:n,onError:s}){return a1(r,void 0,n,s,t)}function lo({to:r,replace:t,state:n,relative:s}){he(bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(kn);Mn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(Xn),{pathname:h}=Hi(),m=vp(),p=yp(r,gp(u),h,s==="path"),g=JSON.stringify(p);return P.useEffect(()=>{m(JSON.parse(g),{replace:t,state:n,relative:s})},[m,g,s,t,n]),null}function FS(r){return NS(r.context)}function Vt(r){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GS({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){he(!bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=ua(n));let{pathname:g="/",search:E="",hash:T="",state:S=null,key:M="default"}=n,G=P.useMemo(()=>{let K=dr(g,m);return K==null?null:{location:{pathname:K,search:E,hash:T,state:S,key:M},navigationType:s}},[m,g,E,T,S,M,s]);return Mn(G!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:P.createElement(kn.Provider,{value:p},P.createElement(hu.Provider,{children:t,value:G}))}function QS({children:r,location:t}){return OS(zm(r),t)}function zm(r,t=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...t,o];if(s.type===P.Fragment){n.push.apply(n,zm(s.props.children,u));return}he(s.type===Vt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=zm(s.props.children,u)),n.push(h)}),n}var fh="get",dh="application/x-www-form-urlencoded";function Qh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function KS(r){return Qh(r)&&r.tagName.toLowerCase()==="button"}function YS(r){return Qh(r)&&r.tagName.toLowerCase()==="form"}function XS(r){return Qh(r)&&r.tagName.toLowerCase()==="input"}function $S(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function WS(r,t){return r.button===0&&(!t||t==="_self")&&!$S(r)}var ih=null;function JS(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var ZS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(r){return r!=null&&!ZS.has(r)?(Mn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):r}function tb(r,t){let n,s,o,u,h;if(YS(r)){let m=r.getAttribute("action");s=m?dr(m,t):null,n=r.getAttribute("method")||fh,o=Am(r.getAttribute("enctype"))||dh,u=new FormData(r)}else if(KS(r)||XS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?dr(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||fh,o=Am(r.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||dh,u=new FormData(m,r),!JS()){let{name:g,type:E,value:T}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(Qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fh,s=null,o=dh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function eb(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&dr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function nb(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ib(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function rb(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await nb(u,n);return h.links?h.links():[]}return[]}));return lb(s.flat(1).filter(ib).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function cv(r,t,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function sb(r,t,{includeHydrateFallback:n}={}){return ab(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ab(r){return[...new Set(r)]}function ob(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function lb(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(ob(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function u1(){let r=P.useContext(So);return wp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ub(){let r=P.useContext(Gh);return wp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ap=P.createContext(void 0);Ap.displayName="FrameworkContext";function c1(){let r=P.useContext(Ap);return wp(r,"You must render this element inside a <HydratedRouter> element"),r}function cb(r,t){let n=P.useContext(Ap),[s,o]=P.useState(!1),[u,h]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=t,S=P.useRef(null);P.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let K=J=>{J.forEach(rt=>{h(rt.isIntersecting)})},B=new IntersectionObserver(K,{threshold:.5});return S.current&&B.observe(S.current),()=>{B.disconnect()}}},[r]),P.useEffect(()=>{if(s){let K=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(K)}}},[s]);let M=()=>{o(!0)},G=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Bl(m,M),onBlur:Bl(p,G),onMouseEnter:Bl(g,M),onMouseLeave:Bl(E,G),onTouchStart:Bl(T,M)}]:[!1,S,{}]}function Bl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function hb({page:r,...t}){let{router:n}=u1(),s=P.useMemo(()=>XE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(db,{page:r,matches:s,...t}):null}function fb(r){let{manifest:t,routeModules:n}=c1(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return rb(r,t,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,t,n]),s}function db({page:r,matches:t,...n}){let s=Hi(),{future:o,manifest:u,routeModules:h}=c1(),{basename:m}=u1(),{loaderData:p,matches:g}=ub(),E=P.useMemo(()=>cv(r,t,g,u,s,"data"),[r,t,g,u,s]),T=P.useMemo(()=>cv(r,t,g,u,s,"assets"),[r,t,g,u,s]),S=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,B=!1;if(t.forEach(rt=>{var ft;let et=u.routes[rt.route.id];!et||!et.hasLoader||(!E.some(vt=>vt.route.id===rt.route.id)&&rt.route.id in p&&((ft=h[rt.route.id])!=null&&ft.shouldRevalidate)||et.hasClientLoader?B=!0:K.add(rt.route.id))}),K.size===0)return[];let J=eb(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return B&&K.size>0&&J.searchParams.set("_routes",t.filter(rt=>K.has(rt.route.id)).map(rt=>rt.route.id).join(",")),[J.pathname+J.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,t,r,h]),M=P.useMemo(()=>sb(T,u),[T,u]),G=fb(T);return P.createElement(P.Fragment,null,S.map(K=>P.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),M.map(K=>P.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),G.map(({key:K,link:B})=>P.createElement("link",{key:K,nonce:n.nonce,...B})))}function mb(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var pb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pb&&(window.__reactRouterVersion="7.12.0")}catch{}function gb({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=KA({window:s,v5Compat:!0}));let u=o.current,[h,m]=P.useState({action:u.action,location:u.location}),p=P.useCallback(g=>{n===!1?m(g):P.startTransition(()=>m(g))},[n]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(GS,{basename:r,children:t,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var h1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f1=P.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S,...M},G){let{basename:K,unstable_useTransitions:B}=P.useContext(kn),J=typeof g=="string"&&h1.test(g),rt=t1(g,K);g=rt.to;let et=CS(g,{relative:o}),[ft,vt,Tt]=cb(s,M),C=vb(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:B});function b(V){t&&t(V),V.defaultPrevented||C(V)}let R=P.createElement("a",{...M,...Tt,href:rt.absoluteURL||et,onClick:rt.isExternal||u?t:b,ref:mb(G,vt),target:p,"data-discover":!J&&n==="render"?"true":void 0});return ft&&!J?P.createElement(P.Fragment,null,R,P.createElement(hb,{page:et})):R});f1.displayName="Link";var Sp=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=fu(h,{relative:g.relative}),S=Hi(),M=P.useContext(Gh),{navigator:G,basename:K}=P.useContext(kn),B=M!=null&&Sb(T)&&m===!0,J=G.encodeLocation?G.encodeLocation(T).pathname:T.pathname,rt=S.pathname,et=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(rt=rt.toLowerCase(),et=et?et.toLowerCase():null,J=J.toLowerCase()),et&&K&&(et=dr(et,K)||et);const ft=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let vt=rt===J||!o&&rt.startsWith(J)&&rt.charAt(ft)==="/",Tt=et!=null&&(et===J||!o&&et.startsWith(J)&&et.charAt(J.length)==="/"),C={isActive:vt,isPending:Tt,isTransitioning:B},b=vt?t:void 0,R;typeof s=="function"?R=s(C):R=[s,vt?"active":null,Tt?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return P.createElement(f1,{...g,"aria-current":b,className:R,ref:E,style:V,to:h,viewTransition:m},typeof p=="function"?p(C):p)});Sp.displayName="NavLink";var yb=P.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:h=fh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S,...M},G)=>{let{unstable_useTransitions:K}=P.useContext(kn),B=wb(),J=Ab(m,{relative:g}),rt=h.toLowerCase()==="get"?"get":"post",et=typeof m=="string"&&h1.test(m),ft=vt=>{if(p&&p(vt),vt.defaultPrevented)return;vt.preventDefault();let Tt=vt.nativeEvent.submitter,C=(Tt==null?void 0:Tt.getAttribute("formmethod"))||h,b=()=>B(Tt||vt.currentTarget,{fetcherKey:t,method:C,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:S});K&&n!==!1?P.startTransition(()=>b()):b()};return P.createElement("form",{ref:G,method:rt,action:J,onSubmit:s?p:ft,...M,"data-discover":!et&&r==="render"?"true":void 0})});yb.displayName="Form";function _b(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d1(r){let t=P.useContext(So);return he(t,_b(r)),t}function vb(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=vp(),E=Hi(),T=fu(r,{relative:u});return P.useCallback(S=>{if(WS(S,t)){S.preventDefault();let M=n!==void 0?n:Zl(E)===Zl(T),G=()=>g(r,{replace:M,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?P.startTransition(()=>G()):G()}},[E,g,T,n,s,t,r,o,u,h,m,p])}var Eb=0,Tb=()=>`__${String(++Eb)}__`;function wb(){let{router:r}=d1("useSubmit"),{basename:t}=P.useContext(kn),n=BS(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=tb(u,t);if(h.navigate===!1){let S=h.fetcherKey||Tb();await s(S,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,t,n])}function Ab(r,{relative:t}={}){let{basename:n}=P.useContext(kn),s=P.useContext(Xn);he(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(r||".",{relative:t})},h=Hi();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:fr([n,u.pathname])),Zl(u)}function Sb(r,{relative:t}={}){let n=P.useContext(n1);he(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=d1("useViewTransitionState"),o=fu(r,{relative:t});if(!n.isTransitioning)return!1;let u=dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sh(o.pathname,h)!=null||Sh(o.pathname,u)!=null}const bb=()=>{};var hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Rb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},p1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,M=g&63;p||(M=64,h||(S=64)),s.push(n[E],n[T],n[S],n[M])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(m1(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Rb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new Cb;const S=u<<2|m>>4;if(s.push(S),g!==64){const M=m<<4&240|g>>2;if(s.push(M),T!==64){const G=g<<6&192|T;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Cb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ib=function(r){const t=m1(r);return p1.encodeByteArray(t,!0)},bh=function(r){return Ib(r).replace(/\./g,"")},g1=function(r){try{return p1.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=()=>Db().__FIREBASE_DEFAULTS__,Ob=()=>{if(typeof process>"u"||typeof hv>"u")return;const r=hv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&g1(r[1]);return t&&JSON.parse(t)},Kh=()=>{try{return bb()||Nb()||Ob()||xb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},y1=r=>{var t,n;return(n=(t=Kh())==null?void 0:t.emulatorHosts)==null?void 0:n[r]},_1=r=>{const t=y1(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},v1=()=>{var r;return(r=Kh())==null?void 0:r.config},E1=r=>{var t;return(t=Kh())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bh(JSON.stringify(n)),bh(JSON.stringify(h)),""].join(".")}const Gl={};function Vb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Gl))Gl[t]?r.emulator.push(t):r.prod.push(t);return r}function kb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let fv=!1;function Rp(r,t){if(typeof window>"u"||typeof document>"u"||!vs(window.location.host)||Gl[r]===t||Gl[r]||fv)return;Gl[r]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=Vb().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{fv=!0,h()},S}function E(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=kb(s),M=n("text"),G=document.getElementById(M)||document.createElement("span"),K=n("learnmore"),B=document.getElementById(K)||document.createElement("a"),J=n("preprendIcon"),rt=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const et=S.element;m(et),E(B,K);const ft=g();p(rt,J),et.append(rt,G,B,ft),document.body.appendChild(et)}u?(G.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function Pb(){var t;const r=(t=Kh())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ub(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Bb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jb(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qb(){return!Pb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hb(){try{return typeof indexedDB=="object"}catch{return!1}}function Fb(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="FirebaseError";class Fi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Gb,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?Qb(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Fi(o,m,s)}}function Qb(r,t){return r.replace(Kb,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const Kb=/\{\$([^}]+)}/g;function Yb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ia(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=t[o];if(dv(u)&&dv(h)){if(!ia(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function dv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Xb(r,t){const n=new $b(r,t);return n.subscribe.bind(n)}class $b{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Wb(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wb(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(r){return r&&r._delegate?r._delegate:r}class fs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Mb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tR(t))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zs){return this.instances.has(t)}getOptions(t=Zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Zb(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Zs){return this.component?this.component.multipleInstances?t:Zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zb(r){return r===Zs?void 0:r}function tR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Jb(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const nR={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},iR=kt.INFO,rR={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},sR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=rR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cp{constructor(t){this.name=t,this._logLevel=iR,this._logHandler=sR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const aR=(r,t)=>t.some(n=>r instanceof n);let mv,pv;function oR(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lR(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w1=new WeakMap,Bm=new WeakMap,A1=new WeakMap,bm=new WeakMap,Ip=new WeakMap;function uR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(os(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&w1.set(n,r)}).catch(()=>{}),Ip.set(t,r),t}function cR(r){if(Bm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Bm.set(r,t)}let jm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Bm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||A1.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function hR(r){jm=r(jm)}function fR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Rm(this),t,...n);return A1.set(s,t.sort?t.sort():[t]),os(s)}:lR().includes(r)?function(...t){return r.apply(Rm(this),t),os(w1.get(this))}:function(...t){return os(r.apply(Rm(this),t))}}function dR(r){return typeof r=="function"?fR(r):(r instanceof IDBTransaction&&cR(r),aR(r,oR())?new Proxy(r,jm):r)}function os(r){if(r instanceof IDBRequest)return uR(r);if(bm.has(r))return bm.get(r);const t=dR(r);return t!==r&&(bm.set(r,t),Ip.set(t,r)),t}const Rm=r=>Ip.get(r);function mR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,t),m=os(h);return s&&h.addEventListener("upgradeneeded",p=>{s(os(h.result),p.oldVersion,p.newVersion,os(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const pR=["get","getKey","getAll","getAllKeys","count"],gR=["put","add","delete","clear"],Cm=new Map;function gv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Cm.get(t))return Cm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=gR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||pR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(t,u),u}hR(r=>({...r,get:(t,n,s)=>gv(t,n)||r.get(t,n,s),has:(t,n)=>!!gv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_R(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _R(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qm="@firebase/app",yv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new Cp("@firebase/app"),vR="@firebase/app-compat",ER="@firebase/analytics-compat",TR="@firebase/analytics",wR="@firebase/app-check-compat",AR="@firebase/app-check",SR="@firebase/auth",bR="@firebase/auth-compat",RR="@firebase/database",CR="@firebase/data-connect",IR="@firebase/database-compat",DR="@firebase/functions",NR="@firebase/functions-compat",OR="@firebase/installations",xR="@firebase/installations-compat",MR="@firebase/messaging",VR="@firebase/messaging-compat",kR="@firebase/performance",LR="@firebase/performance-compat",PR="@firebase/remote-config",UR="@firebase/remote-config-compat",zR="@firebase/storage",BR="@firebase/storage-compat",jR="@firebase/firestore",qR="@firebase/ai",HR="@firebase/firestore-compat",FR="firebase",GR="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",QR={[qm]:"fire-core",[vR]:"fire-core-compat",[TR]:"fire-analytics",[ER]:"fire-analytics-compat",[AR]:"fire-app-check",[wR]:"fire-app-check-compat",[SR]:"fire-auth",[bR]:"fire-auth-compat",[RR]:"fire-rtdb",[CR]:"fire-data-connect",[IR]:"fire-rtdb-compat",[DR]:"fire-fn",[NR]:"fire-fn-compat",[OR]:"fire-iid",[xR]:"fire-iid-compat",[MR]:"fire-fcm",[VR]:"fire-fcm-compat",[kR]:"fire-perf",[LR]:"fire-perf-compat",[PR]:"fire-rc",[UR]:"fire-rc-compat",[zR]:"fire-gcs",[BR]:"fire-gcs-compat",[jR]:"fire-fst",[HR]:"fire-fst-compat",[qR]:"fire-vertex","fire-js":"fire-js",[FR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new Map,KR=new Map,Fm=new Map;function _v(r,t){try{r.container.addComponent(t)}catch(n){mr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function ra(r){const t=r.name;if(Fm.has(t))return mr.debug(`There were multiple attempts to register component ${t}.`),!1;Fm.set(t,r);for(const n of tu.values())_v(n,r);for(const n of KR.values())_v(n,r);return!0}function Yh(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function li(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new du("app","Firebase",YR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=GR;function S1(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Hm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=v1()),!n)throw ls.create("no-options");const u=tu.get(o);if(u){if(ia(n,u.options)&&ia(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const h=new eR(o);for(const p of Fm.values())h.addComponent(p);const m=new XR(n,s,h);return tu.set(o,m),m}function Xh(r=Hm){const t=tu.get(r);if(!t&&r===Hm&&v1())return S1();if(!t)throw ls.create("no-app",{appName:r});return t}function $R(){return Array.from(tu.values())}function ki(r,t,n){let s=QR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${t}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mr.warn(h.join(" "));return}ra(new fs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="firebase-heartbeat-database",JR=1,eu="firebase-heartbeat-store";let Im=null;function b1(){return Im||(Im=mR(WR,JR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(r=>{throw ls.create("idb-open",{originalErrorMessage:r.message})})),Im}async function ZR(r){try{const n=(await b1()).transaction(eu),s=await n.objectStore(eu).get(R1(r));return await n.done,s}catch(t){if(t instanceof Fi)mr.warn(t.message);else{const n=ls.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});mr.warn(n.message)}}}async function vv(r,t){try{const s=(await b1()).transaction(eu,"readwrite");await s.objectStore(eu).put(t,R1(r)),await s.done}catch(n){if(n instanceof Fi)mr.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(s.message)}}}function R1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1024,eC=30;class nC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ev();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>eC){const h=sC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){mr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ev(),{heartbeatsToSend:s,unsentEntries:o}=iC(this._heartbeatsCache.heartbeats),u=bh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return mr.warn(n),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function iC(r,t=tC){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Tv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Tv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hb()?Fb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return vv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Tv(r){return bh(JSON.stringify({version:2,heartbeats:r})).length}function sC(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(r){ra(new fs("platform-logger",t=>new yR(t),"PRIVATE")),ra(new fs("heartbeat",t=>new nC(t),"PRIVATE")),ki(qm,yv,r),ki(qm,yv,"esm2020"),ki("fire-js","")}aC("");var oC="firebase",lC="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki(oC,lC,"app");var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,C1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,b){function R(){}R.prototype=b.prototype,C.F=b.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,O,L){for(var I=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)I[oe-2]=arguments[oe];return b.prototype[O].apply(V,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,R){R||(R=0);const V=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)V[O]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=C.g[0],R=C.g[1],O=C.g[2];let L=C.g[3],I;I=b+(L^R&(O^L))+V[0]+3614090360&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(O^b&(R^O))+V[1]+3905402710&4294967295,L=b+(I<<12&4294967295|I>>>20),I=O+(R^L&(b^R))+V[2]+606105819&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(b^O&(L^b))+V[3]+3250441966&4294967295,R=O+(I<<22&4294967295|I>>>10),I=b+(L^R&(O^L))+V[4]+4118548399&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(O^b&(R^O))+V[5]+1200080426&4294967295,L=b+(I<<12&4294967295|I>>>20),I=O+(R^L&(b^R))+V[6]+2821735955&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(b^O&(L^b))+V[7]+4249261313&4294967295,R=O+(I<<22&4294967295|I>>>10),I=b+(L^R&(O^L))+V[8]+1770035416&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(O^b&(R^O))+V[9]+2336552879&4294967295,L=b+(I<<12&4294967295|I>>>20),I=O+(R^L&(b^R))+V[10]+4294925233&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(b^O&(L^b))+V[11]+2304563134&4294967295,R=O+(I<<22&4294967295|I>>>10),I=b+(L^R&(O^L))+V[12]+1804603682&4294967295,b=R+(I<<7&4294967295|I>>>25),I=L+(O^b&(R^O))+V[13]+4254626195&4294967295,L=b+(I<<12&4294967295|I>>>20),I=O+(R^L&(b^R))+V[14]+2792965006&4294967295,O=L+(I<<17&4294967295|I>>>15),I=R+(b^O&(L^b))+V[15]+1236535329&4294967295,R=O+(I<<22&4294967295|I>>>10),I=b+(O^L&(R^O))+V[1]+4129170786&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(b^R))+V[6]+3225465664&4294967295,L=b+(I<<9&4294967295|I>>>23),I=O+(b^R&(L^b))+V[11]+643717713&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(O^L))+V[0]+3921069994&4294967295,R=O+(I<<20&4294967295|I>>>12),I=b+(O^L&(R^O))+V[5]+3593408605&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(b^R))+V[10]+38016083&4294967295,L=b+(I<<9&4294967295|I>>>23),I=O+(b^R&(L^b))+V[15]+3634488961&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(O^L))+V[4]+3889429448&4294967295,R=O+(I<<20&4294967295|I>>>12),I=b+(O^L&(R^O))+V[9]+568446438&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(b^R))+V[14]+3275163606&4294967295,L=b+(I<<9&4294967295|I>>>23),I=O+(b^R&(L^b))+V[3]+4107603335&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(O^L))+V[8]+1163531501&4294967295,R=O+(I<<20&4294967295|I>>>12),I=b+(O^L&(R^O))+V[13]+2850285829&4294967295,b=R+(I<<5&4294967295|I>>>27),I=L+(R^O&(b^R))+V[2]+4243563512&4294967295,L=b+(I<<9&4294967295|I>>>23),I=O+(b^R&(L^b))+V[7]+1735328473&4294967295,O=L+(I<<14&4294967295|I>>>18),I=R+(L^b&(O^L))+V[12]+2368359562&4294967295,R=O+(I<<20&4294967295|I>>>12),I=b+(R^O^L)+V[5]+4294588738&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^O)+V[8]+2272392833&4294967295,L=b+(I<<11&4294967295|I>>>21),I=O+(L^b^R)+V[11]+1839030562&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^b)+V[14]+4259657740&4294967295,R=O+(I<<23&4294967295|I>>>9),I=b+(R^O^L)+V[1]+2763975236&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^O)+V[4]+1272893353&4294967295,L=b+(I<<11&4294967295|I>>>21),I=O+(L^b^R)+V[7]+4139469664&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^b)+V[10]+3200236656&4294967295,R=O+(I<<23&4294967295|I>>>9),I=b+(R^O^L)+V[13]+681279174&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^O)+V[0]+3936430074&4294967295,L=b+(I<<11&4294967295|I>>>21),I=O+(L^b^R)+V[3]+3572445317&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^b)+V[6]+76029189&4294967295,R=O+(I<<23&4294967295|I>>>9),I=b+(R^O^L)+V[9]+3654602809&4294967295,b=R+(I<<4&4294967295|I>>>28),I=L+(b^R^O)+V[12]+3873151461&4294967295,L=b+(I<<11&4294967295|I>>>21),I=O+(L^b^R)+V[15]+530742520&4294967295,O=L+(I<<16&4294967295|I>>>16),I=R+(O^L^b)+V[2]+3299628645&4294967295,R=O+(I<<23&4294967295|I>>>9),I=b+(O^(R|~L))+V[0]+4096336452&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~O))+V[7]+1126891415&4294967295,L=b+(I<<10&4294967295|I>>>22),I=O+(b^(L|~R))+V[14]+2878612391&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~b))+V[5]+4237533241&4294967295,R=O+(I<<21&4294967295|I>>>11),I=b+(O^(R|~L))+V[12]+1700485571&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~O))+V[3]+2399980690&4294967295,L=b+(I<<10&4294967295|I>>>22),I=O+(b^(L|~R))+V[10]+4293915773&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~b))+V[1]+2240044497&4294967295,R=O+(I<<21&4294967295|I>>>11),I=b+(O^(R|~L))+V[8]+1873313359&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~O))+V[15]+4264355552&4294967295,L=b+(I<<10&4294967295|I>>>22),I=O+(b^(L|~R))+V[6]+2734768916&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~b))+V[13]+1309151649&4294967295,R=O+(I<<21&4294967295|I>>>11),I=b+(O^(R|~L))+V[4]+4149444226&4294967295,b=R+(I<<6&4294967295|I>>>26),I=L+(R^(b|~O))+V[11]+3174756917&4294967295,L=b+(I<<10&4294967295|I>>>22),I=O+(b^(L|~R))+V[2]+718787259&4294967295,O=L+(I<<15&4294967295|I>>>17),I=R+(L^(O|~b))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const R=b-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<b;){if(O==0)for(;L<=R;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(V[O++]=C.charCodeAt(L++),O==this.blockSize){o(this,V),O=0;break}}else for(;L<b;)if(V[O++]=C[L++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[b++]=this.g[R]>>>V&255;return C};function u(C,b){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=b(C)}function h(C,b){this.h=b;const R=[];let V=!0;for(let O=C.length-1;O>=0;O--){const L=C[O]|0;V&&L==b||(R[O]=L,V=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(b){return new h([b|0],b<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return B(g(-C));const b=[];let R=1;for(let V=0;C>=R;V++)b[V]=C/R|0,R*=4294967296;return new h(b,0)}function E(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return B(E(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(b,8));let V=T;for(let L=0;L<C.length;L+=8){var O=Math.min(8,C.length-L);const I=parseInt(C.substring(L,L+O),b);O<8?(O=g(Math.pow(b,O)),V=V.j(O).add(g(I))):(V=V.j(R),V=V.add(g(I)))}return V}var T=p(0),S=p(1),M=p(16777216);r=h.prototype,r.m=function(){if(K(this))return-B(this).m();let C=0,b=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(G(this))return"0";if(K(this))return"-"+B(this).toString(C);const b=g(Math.pow(C,6));var R=this;let V="";for(;;){const O=ft(R,b).g;R=J(R,O.j(b));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=O,G(R))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function G(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function K(C){return C.h==-1}r.l=function(C){return C=J(this,C),K(C)?-1:G(C)?0:1};function B(C){const b=C.g.length,R=[];for(let V=0;V<b;V++)R[V]=~C.g[V];return new h(R,~C.h).add(S)}r.abs=function(){return K(this)?B(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let O=0;O<=b;O++){let L=V+(this.i(O)&65535)+(C.i(O)&65535),I=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);V=I>>>16,L&=65535,I&=65535,R[O]=I<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function J(C,b){return C.add(B(b))}r.j=function(C){if(G(this)||G(C))return T;if(K(this))return K(C)?B(this).j(B(C)):B(B(this).j(C));if(K(C))return B(this.j(B(C)));if(this.l(M)<0&&C.l(M)<0)return g(this.m()*C.m());const b=this.g.length+C.g.length,R=[];for(var V=0;V<2*b;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<C.g.length;O++){const L=this.i(V)>>>16,I=this.i(V)&65535,oe=C.i(O)>>>16,Pe=C.i(O)&65535;R[2*V+2*O]+=I*Pe,rt(R,2*V+2*O),R[2*V+2*O+1]+=L*Pe,rt(R,2*V+2*O+1),R[2*V+2*O+1]+=I*oe,rt(R,2*V+2*O+1),R[2*V+2*O+2]+=L*oe,rt(R,2*V+2*O+2)}for(C=0;C<b;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=b;C<2*b;C++)R[C]=0;return new h(R,0)};function rt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function et(C,b){this.g=C,this.h=b}function ft(C,b){if(G(b))throw Error("division by zero");if(G(C))return new et(T,T);if(K(C))return b=ft(B(C),b),new et(B(b.g),B(b.h));if(K(b))return b=ft(C,B(b)),new et(B(b.g),b.h);if(C.g.length>30){if(K(C)||K(b))throw Error("slowDivide_ only works with positive integers.");for(var R=S,V=b;V.l(C)<=0;)R=vt(R),V=vt(V);var O=Tt(R,1),L=Tt(V,1);for(V=Tt(V,2),R=Tt(R,2);!G(V);){var I=L.add(V);I.l(C)<=0&&(O=O.add(R),L=I),V=Tt(V,1),R=Tt(R,1)}return b=J(C,O.j(b)),new et(O,b)}for(O=T;C.l(b)>=0;){for(R=Math.max(1,Math.floor(C.m()/b.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=g(R),I=L.j(b);K(I)||I.l(C)>0;)R-=V,L=g(R),I=L.j(b);G(L)&&(L=S),O=O.add(L),C=J(C,I)}return new et(O,C)}r.B=function(C){return ft(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)&C.i(V);return new h(R,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)|C.i(V);return new h(R,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)^C.i(V);return new h(R,this.h^C.h)};function vt(C){const b=C.g.length+1,R=[];for(let V=0;V<b;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new h(R,C.h)}function Tt(C,b){const R=b>>5;b%=32;const V=C.g.length-R,O=[];for(let L=0;L<V;L++)O[L]=b>0?C.i(L+R)>>>b|C.i(L+R+1)<<32-b:C.i(L+R);return new h(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,C1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,us=h}).apply(typeof wv<"u"?wv:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I1,ql,D1,mh,Gm,N1,O1,x1;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break t;v=v[U]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,U,F){for(var st=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)st[Rt-2]=arguments[Rt];return y.prototype[U].apply(A,st)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function G(c,y){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const F=U.length||0;c.length=v+F;for(let st=0;st<F;st++)c[v+st]=U[st]}else c.push(U)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(c){h.setTimeout(()=>{throw c},0)}function J(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class rt{constructor(){this.h=this.g=null}add(y,v){const A=et.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var et=new K(()=>new ft,c=>c.reset());class ft{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,Tt=!1,C=new rt,b=()=>{const c=Promise.resolve(void 0);vt=()=>{c.then(R)}};function R(){for(var c;c=J();){try{c.h.call(c.g)}catch(v){B(v)}var y=et;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}Tt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function oe(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(oe,O),oe.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),X=0;function ot(c,y,v,A,U){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=U,this.key=++X,this.da=this.fa=!1}function gt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function qt(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Kt(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function x(c){const y={};for(const v in c)y[v]=c[v];return y}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(c,y){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let F=0;F<tt.length;F++)v=tt[F],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ct(c){this.src=c,this.g={},this.h=0}ct.prototype.add=function(c,y,v,A,U){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const st=It(c,y,A,U);return st>-1?(y=c[st],v||(y.fa=!1)):(y=new ot(y,this.src,F,!!A,U),y.fa=v,c.push(y)),y};function At(c,y){const v=y.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,y,void 0),F;(F=U>=0)&&Array.prototype.splice.call(A,U,1),F&&(gt(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function It(c,y,v,A){for(let U=0;U<c.length;++U){const F=c[U];if(!F.da&&F.listener==y&&F.capture==!!v&&F.ha==A)return U}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Ue={};function le(c,y,v,A,U){if(Array.isArray(y)){for(let F=0;F<y.length;F++)le(c,y[F],v,A,U);return null}return v=Lo(v),c&&c[Pe]?c.J(y,v,m(A)?!!A.capture:!1,U):ws(c,y,v,!1,A,U)}function ws(c,y,v,A,U,F){if(!y)throw Error("Invalid event type");const st=m(U)?!!U.capture:!!U;let Rt=As(c);if(Rt||(c[zt]=Rt=new ct(c)),v=Rt.add(y,v,A,st,F),v.proxy)return v;if(A=ma(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(U=st),U===void 0&&(U=!1),c.addEventListener(y.toString(),A,U);else if(c.attachEvent)c.attachEvent(hi(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ma(){function c(v){return y.call(c.src,c.listener,v)}const y=Vo;return c}function pa(c,y,v,A,U){if(Array.isArray(y))for(var F=0;F<y.length;F++)pa(c,y[F],v,A,U);else A=m(A)?!!A.capture:!!A,v=Lo(v),c&&c[Pe]?(c=c.i,F=String(y).toString(),F in c.g&&(y=c.g[F],v=It(y,v,A,U),v>-1&&(gt(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[F],c.h--)))):c&&(c=As(c))&&(y=c.g[y.toString()],c=-1,y&&(c=It(y,v,A,U)),(v=c>-1?y[c]:null)&&ga(v))}function ga(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Pe])At(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(hi(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=As(y))?(At(v,c),v.h==0&&(v.src=null,y[zt]=null)):gt(c)}}}function hi(c){return c in Ue?Ue[c]:Ue[c]="on"+c}function Vo(c,y){if(c.da)c=!0;else{y=new oe(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&ga(c),c=v.call(A,y)}return c}function As(c){return c=c[zt],c instanceof ct?c:null}var ko="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lo(c){return typeof c=="function"?c:(c[ko]||(c[ko]=function(y){return c.handleEvent(y)}),c[ko])}function Se(){V.call(this),this.i=new ct(this),this.M=this,this.G=null}T(Se,V),Se.prototype[Pe]=!0,Se.prototype.removeEventListener=function(c,y,v,A){pa(this,c,y,v,A)};function ze(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var U=y;y=new O(A,c),lt(y,U)}U=!0;let F,st;if(v)for(st=v.length-1;st>=0;st--)F=y.g=v[st],U=Er(F,A,!0,y)&&U;if(F=y.g=c,U=Er(F,A,!0,y)&&U,U=Er(F,A,!1,y)&&U,v)for(st=0;st<v.length;st++)F=y.g=v[st],U=Er(F,A,!1,y)&&U}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)gt(v[A]);delete c.g[y],c.h--}}this.G=null},Se.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},Se.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Er(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let F=0;F<y.length;++F){const st=y[F];if(st&&!st.da&&st.capture==v){const Rt=st.listener,Ee=st.ha||st.src;st.fa&&At(c.i,st),U=Rt.call(Ee,A)!==!1&&U}}return U&&!A.defaultPrevented}function yf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Iu(c){c.g=yf(()=>{c.g=null,c.i&&(c.i=!1,Iu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class on extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Iu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(c){V.call(this),this.h=c,this.g={}}T(Ss,V);var Po=[];function Uo(c){qt(c.g,function(y,v){this.g.hasOwnProperty(v)&&ga(y)},c),c.g={}}Ss.prototype.N=function(){Ss.Z.N.call(this),Uo(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tr=h.JSON.stringify,_f=h.JSON.parse,Du=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Nu(){}function Ou(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){O.call(this,"d")}T(Ke,O);function Ln(){O.call(this,"c")}T(Ln,O);var ve={},xu=null;function ya(){return xu=xu||new Se}ve.Ia="serverreachability";function Mu(c){O.call(this,ve.Ia,c)}T(Mu,O);function fi(c){const y=ya();ze(y,new Mu(y))}ve.STAT_EVENT="statevent";function bs(c,y){O.call(this,ve.STAT_EVENT,c),this.stat=y}T(bs,O);function be(c){const y=ya();ze(y,new bs(y,c))}ve.Ja="timingevent";function di(c,y){O.call(this,ve.Ja,c),this.size=y}T(di,O);function mi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function vf(c,y,v,A,U,F){c.info(function(){if(c.g)if(F){var st="",Rt=F.split("&");for(let Gt=0;Gt<Rt.length;Gt++){var Ee=Rt[Gt].split("=");if(Ee.length>1){const ue=Ee[0];Ee=Ee[1];const Bn=ue.split("_");st=Bn.length>=2&&Bn[1]=="type"?st+(ue+"="+Ee+"&"):st+(ue+"=redacted&")}}}else st=null;else st=F;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+y+`
`+v+`
`+st})}function Vu(c,y,v,A,U,F,st){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+y+`
`+v+`
`+F+" "+st})}function pi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ef(c,v)+(A?" "+A:"")})}function Rs(c,y){c.info(function(){return"TIMEOUT: "+y})}Wn.prototype.info=function(){};function Ef(c,y){if(!c.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let st=1;st<A.length;st++)A[st]=""}}}}return Tr(F)}catch{return y}}var Cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bo;function Is(){}T(Is,Nu),Is.prototype.g=function(){return new XMLHttpRequest},Bo=new Is;function Gi(c){return encodeURIComponent(String(c))}function ku(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Jn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new Ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Re={},qe={};function gi(c,y,v){c.M=1,c.A=Ds(Ie(y)),c.u=v,c.R=!0,_a(c,null)}function _a(c,y){c.F=Date.now(),yi(c),c.B=Ie(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),wa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Zn,c.g=$u(c.j,v?y:null,!c.u),c.P>0&&(c.O=new on(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Po[0]=U.toString()),U=Po);for(let F=0;F<U.length;F++){const st=le(v,U[F],A||y.handleEvent,!1,y.h||y);if(!st)break;y.g[st.key]=st}y=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),fi(),vf(c.i,c.v,c.B,c.l,c.S,c.u)}Jn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ni(c)==3?y.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)t:{const Rt=ni(this.g),Ee=this.g.ya(),Gt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Rt!=4||Ee==7||(Ee==8||Gt<=0?fi(3):fi(2)),_i(this);var y=this.g.ca();this.X=y;var v=Tf(this);if(this.o=y==200,Vu(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var F=A;break e}}F=null}if(c=F)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,c);else{this.o=!1,this.m=3,be(12),En(this),Pn(this);break t}}if(this.R){c=!0;let ue;for(;!this.K&&this.C<v.length;)if(ue=Pu(this,v),ue==qe){Rt==4&&(this.m=4,be(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Re){this.m=4,be(15),pi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,ue,null),vi(this,ue);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,be(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,v,"[Invalid Chunked Response]"),En(this),Pn(this);else if(v.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),el(st),st.P=!0,be(11))}}else pi(this.i,this.l,v,null),vi(this,v);Rt==4&&En(this),this.o&&!this.K&&(Rt==4?Qu(this.j,this):(this.o=!1,yi(this)))}else Ki(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),En(this),Pn(this)}}}catch{}finally{}};function Tf(c){if(!Lu(c))return c.g.la();const y=Ye(c.g);if(y==="")return"";let v="";const A=y.length,U=ni(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return En(c),Pn(c),"";c.h.i=new h.TextDecoder}for(let F=0;F<A;F++)c.h.h=!0,v+=c.h.i.decode(y[F],{stream:!(U&&F==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Pu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?qe:(v=Number(y.substring(v,A)),isNaN(v)?Re:(A+=1,A+v>y.length?qe:(y=y.slice(A,A+v),c.C=A+v,y)))}Jn.prototype.cancel=function(){this.K=!0,En(this)};function yi(c){c.T=Date.now()+c.H,va(c,c.H)}function va(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=mi(g(c.aa,c),y)}function _i(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Rs(this.i,this.B),this.M!=2&&(fi(),be(17)),En(this),this.m=2,Pn(this)):va(this,this.T-c)};function Pn(c){c.j.I==0||c.K||Qu(c.j,c)}function En(c){_i(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Uo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function vi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ti(v.h,c))){if(!c.L&&Ti(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ca(v),Dr(v);else break t;Ls(v),be(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=mi(g(v.Va,v),6e3));Ei(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ci(v,11)}else if((c.L||v.g==c)&&Ca(v),!I(y))for(U=v.Ba.g.parse(y),y=0;y<U.length;y++){let Gt=U[y];const ue=Gt[0];if(!(ue<=v.K))if(v.K=ue,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const Bn=Gt[3];Bn!=null&&(v.ka=Bn,v.j.info("VER="+v.ka));const Ii=Gt[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const ii=Gt[5];ii!=null&&typeof ii=="number"&&ii>0&&(A=1.5*ii,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ri=c.g;if(ri){const Ps=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var F=A.h;F.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ho(F,F.h),F.h=null))}if(A.G){const Ia=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(A.wa=Ia,Yt(A.J,A.G,Ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var st=c;if(A.na=Xu(A,A.L?A.ba:null,A.W),st.L){Fo(A.h,st);var Rt=st,Ee=A.O;Ee&&(Rt.H=Ee),Rt.D&&(_i(Rt),yi(Rt)),A.g=st}else Fu(A);v.i.length>0&&Ri(v)}else Gt[0]!="stop"&&Gt[0]!="close"||Ci(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ci(v,7):Zo(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}fi(4)}catch{}}var Ce=class{constructor(c,y){this.g=c,this.map=y}};function jo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ei(c){return c.h?1:c.g?c.g.size:0}function Ti(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ho(c,y){c.g?c.g.add(y):c.h=y}function Fo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}jo.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Go(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return M(c.i)}var Uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let U,F=null;A>=0?(U=c[v].substring(0,A),F=c[v].substring(A+1)):U=c[v],y(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Tn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Tn?(this.l=c.l,He(this,c.j),this.o=c.o,this.g=c.g,wr(this,c.u),this.h=c.h,Qo(this,qu(c.i)),this.m=c.m):c&&(y=String(c).match(Uu))?(this.l=!1,He(this,y[1]||"",!0),this.o=wi(y[2]||""),this.g=wi(y[3]||"",!0),wr(this,y[4]),this.h=wi(y[5]||"",!0),Qo(this,y[6]||"",!0),this.m=wi(y[7]||"")):(this.l=!1,this.i=new Sr(null,this.l))}Tn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ns(y,Ta,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ns(y,Ta,!0),"@"),c.push(Gi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ns(v,v.charAt(0)=="/"?Ko:zu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ns(v,Bu)),c.join("")},Tn.prototype.resolve=function(c){const y=Ie(this);let v=!!c.j;v?He(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)wr(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=y.h.lastIndexOf("/");U!=-1&&(A=y.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let st=0;st<U.length;){const Rt=U[st++];Rt=="."?A&&st==U.length&&F.push(""):Rt==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&st==U.length&&F.push("")):(F.push(Rt),A=!0)}A=F.join("/")}else A=U}return v?y.h=A:v=c.i.toString()!=="",v?Qo(y,qu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Ie(c){return new Tn(c)}function He(c,y,v){c.j=v?wi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Qo(c,y,v){y instanceof Sr?(c.i=y,Aa(c.i,c.l)):(v||(y=Ns(y,Ar)),c.i=new Sr(y,c.l))}function Yt(c,y,v){c.i.set(y,v)}function Ds(c){return Yt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function wi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ns(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,fn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ta=/[#\/\?@]/g,zu=/[#\?:]/g,Ko=/[#\?]/g,Ar=/[#\?@]/g,Bu=/#/g;function Sr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ea(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Sr.prototype,r.add=function(c,y){dn(this),this.i=null,c=br(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ju(c,y){dn(c),y=br(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Yo(c,y){return dn(c),y=br(c,y),c.g.has(y)}r.forEach=function(c,y){dn(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(y,U,A,this)},this)},this)};function Xo(c,y){dn(c);let v=[];if(typeof y=="string")Yo(c,y)&&(v=v.concat(c.g.get(br(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return dn(this),this.i=null,c=br(this,c),Yo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Xo(this,c),c.length>0?String(c[0]):y):y};function wa(c,y,v){ju(c,y),v.length>0&&(c.i=null,c.g.set(br(c,y),M(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const U=Gi(v);v=Xo(this,v);for(let F=0;F<v.length;F++){let st=U;v[F]!==""&&(st+="="+Gi(v[F])),c.push(st)}}return this.i=c.join("&")};function qu(c){const y=new Sr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function br(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Aa(c,y){y&&!c.j&&(dn(c),c.i=null,c.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(ju(this,A),wa(this,U,v))},c)),c.j=y}function ti(c,y){const v=new Wn;if(h.Image){const A=new Image;A.onload=E(Un,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Un,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Un,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Un,v,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function $o(c,y){const v=new Wn,A=new AbortController,U=setTimeout(()=>{A.abort(),Un(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(U),F.ok?Un(v,"TestPingServer: ok",!0,y):Un(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Un(v,"TestPingServer: error",!1,y)})}function Un(c,y,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Rr(){this.g=new Du}function Ai(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ai,Nu),Ai.prototype.g=function(){return new Os(this.i,this.h)};function Os(c,y){Se.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Os,Se),r=Os.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ei(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Cr(this):ei(this),this.readyState==3&&Sa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Cr(this))},r.Na=function(c){this.g&&(this.response=c,Cr(this))},r.ga=function(){this.g&&Cr(this)};function Cr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ei(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zn(c){let y="";return qt(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function xs(c,y,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=zn(v),typeof c=="string"?v!=null&&Gi(v):Yt(c,y,v))}function Wt(c){Se.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Wt,Se);var Si=/^https?$/i,Wo=["POST","PUT"];r=Wt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bo.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){Ms(this,F);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())v.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),U=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Wo,y,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,st]of v)this.g.setRequestHeader(F,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Ms(this,F)}};function Ms(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Jo(c),Qi(c)}function Jo(c){c.A||(c.A=!0,ze(c,"complete"),ze(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ze(this,"complete"),ze(this,"abort"),Qi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),Wt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Vs(this):this.Xa())},r.Xa=function(){Vs(this)};function Vs(c){if(c.h&&typeof u<"u"){if(c.v&&ni(c)==4)setTimeout(c.Ca.bind(c),0);else if(ze(c,"readystatechange"),ni(c)==4){c.h=!1;try{const F=c.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var A;if(A=F===0){let st=String(c.D).match(Uu)[1]||null;!st&&h.self&&h.self.location&&(st=h.self.location.protocol.slice(0,-1)),A=!Si.test(st?st.toLowerCase():"")}v=A}if(v)ze(c,"complete"),ze(c,"success");else{c.o=6;try{var U=ni(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Jo(c)}}finally{Qi(c)}}}}function Qi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||ze(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),_f(y)}};function Ye(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(c){const y={};c=(c.g&&ni(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=ku(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=y[U]||[];y[U]=F,F.push(v)}Kt(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ir(c){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,c),this.Za=bi("retryDelaySeedMs",1e4,c),this.Ta=bi("forwardChannelMaxRetries",2,c),this.va=bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new jo(c&&c.concurrentRequestLimit),this.Ba=new Rr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ir.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){be(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Xu(this,null,this.W),Ri(this)};function Zo(c){if(ba(c),c.I==3){var y=c.V++,v=Ie(c.J);if(Yt(v,"SID",c.M),Yt(v,"RID",y),Yt(v,"TYPE","terminate"),ks(c,v),y=new Jn(c,c.j,y),y.M=2,y.A=Ds(Ie(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=$u(y.j,null),y.g.ea(y.A)),y.F=Date.now(),yi(y)}Yu(c)}function Dr(c){c.g&&(el(c),c.g.cancel(),c.g=null)}function ba(c){Dr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ca(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ri(c){if(!qo(c.h)&&!c.m){c.m=!0;var y=c.Ea;vt||b(),Tt||(vt(),Tt=!0),C.add(y,c),c.D=0}}function Ra(c,y){return Ei(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=mi(g(c.Ea,c,y),Ku(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Jn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=x(F),lt(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=Hu(this,U,y),v=Ie(this.J),Yt(v,"RID",c),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),ks(this,v),F&&(this.R?y="headers="+Gi(zn(F))+"&"+y:this.u&&xs(v,this.u,F)),Ho(this.h,U),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",y),Yt(v,"SID","null"),U.U=!0,gi(U,v,null)):gi(U,v,y),this.I=2}}else this.I==3&&(c?tl(this,c):this.i.length==0||qo(this.h)||tl(this))};function tl(c,y){var v;y?v=y.l:v=c.V++;const A=Ie(c.J);Yt(A,"SID",c.M),Yt(A,"RID",v),Yt(A,"AID",c.K),ks(c,A),c.u&&c.o&&xs(A,c.u,c.o),v=new Jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Hu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ho(c.h,v),gi(v,A,y)}function ks(c,y){c.H&&qt(c.H,function(v,A){Yt(y,A,v)}),c.l&&qt({},function(v,A){Yt(y,A,v)})}function Hu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;t:{var U=c.i;let Rt=-1;for(;;){const Ee=["count="+v];Rt==-1?v>0?(Rt=U[0].g,Ee.push("ofs="+Rt)):Rt=0:Ee.push("ofs="+Rt);let Gt=!0;for(let ue=0;ue<v;ue++){var F=U[ue].g;const Bn=U[ue].map;if(F-=Rt,F<0)Rt=Math.max(0,U[ue].g-100),Gt=!1;else try{F="req"+F+"_"||"";try{var st=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Ii,ii]of st){let ri=ii;m(ii)&&(ri=Tr(ii)),Ee.push(F+Ii+"="+encodeURIComponent(ri))}}catch(Ii){throw Ee.push(F+"type="+encodeURIComponent("_badmap")),Ii}}catch{A&&A(Bn)}}if(Gt){st=Ee.join("&");break t}}st=void 0}return c=c.i.splice(0,v),y.G=c,st}function Fu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;vt||b(),Tt||(vt(),Tt=!0),C.add(y,c),c.A=0}}function Ls(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=mi(g(c.Da,c),Ku(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=mi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Dr(this),Gu(this))};function el(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Gu(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Ie(c.na);Yt(y,"RID","rpc"),Yt(y,"SID",c.M),Yt(y,"AID",c.K),Yt(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Yt(y,"TO",c.ia),Yt(y,"TYPE","xmlhttp"),ks(c,y),c.u&&c.o&&xs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ds(Ie(y)),v.u=null,v.R=!0,_a(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Dr(this),Ls(this),be(19))};function Ca(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Qu(c,y){var v=null;if(c.g==y){Ca(c),el(c),c.g=null;var A=2}else if(Ti(c.h,y))v=y.G,Fo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var U=c.D;A=ya(),ze(A,new di(A,v)),Ri(c)}else Fu(c);else if(U=y.m,U==3||U==0&&y.X>0||!(A==1&&Ra(c,y)||A==2&&Ls(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),U){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function Ku(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ci(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const U=!A;A=new Tn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||He(A,"https"),Ds(A),U?ti(A.toString(),v):$o(A.toString(),v)}else be(2);c.I=0,c.l&&c.l.pa(y),Yu(c),ba(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Yu(c){if(c.I=0,c.ja=[],c.l){const y=Go(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ja,y),G(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function Xu(c,y,v){var A=v instanceof Tn?Ie(v):new Tn(v);if(A.g!="")y&&(A.g=y+"."+A.g),wr(A,A.u);else{var U=h.location;A=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const F=new Tn(null);A&&He(F,A),y&&(F.g=y),U&&wr(F,U),v&&(F.h=v),A=F}return v=c.G,y=c.wa,v&&y&&Yt(A,v,y),Yt(A,"VER",c.ka),ks(c,A),A}function $u(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Wt(new Ai({ab:v})):new Wt(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}r=Wu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Nr(){}Nr.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){Se.call(this),this.g=new Ir(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Yi(this)}T(ln,Se),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Zo(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Tr(c),c=v);y.i.push(new Ce(y.Ya++,c)),y.I==3&&Ri(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,ln.Z.N.call(this)};function Ju(c){Ke.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Ju,Ke);function Zu(){Ln.call(this),this.status=1}T(Zu,Ln);function Yi(c){this.g=c}T(Yi,Wu),Yi.prototype.ra=function(){ze(this.g,"a")},Yi.prototype.qa=function(c){ze(this.g,new Ju(c))},Yi.prototype.pa=function(c){ze(this.g,new Zu)},Yi.prototype.oa=function(){ze(this.g,"b")},Nr.prototype.createWebChannel=Nr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,x1=function(){return new Nr},O1=function(){return ya()},N1=ve,Gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,mh=Cs,zo.COMPLETE="complete",D1=zo,Ou.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",Se.prototype.listen=Se.prototype.J,ql=Ou,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,I1=Wt}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore",Sv="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Cp("@firebase/firestore");function ro(){return sa.logLevel}function ut(r,...t){if(sa.logLevel<=kt.DEBUG){const n=t.map(Dp);sa.debug(`Firestore (${Ro}): ${r}`,...n)}}function pr(r,...t){if(sa.logLevel<=kt.ERROR){const n=t.map(Dp);sa.error(`Firestore (${Ro}): ${r}`,...n)}}function yo(r,...t){if(sa.logLevel<=kt.WARN){const n=t.map(Dp);sa.warn(`Firestore (${Ro}): ${r}`,...n)}}function Dp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,M1(r,s,n)}function M1(r,t,n){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw pr(s),new Error(s)}function jt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||M1(t,o,s)}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Fi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class cC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hC{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){jt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Li,t.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Li)}}),0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new V1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class fC{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dC{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new fC(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mC{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){jt(this.o===void 0,3512);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=pC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Lt(r,t){return r<t?-1:r>t?1:0}function Qm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Dm(o)===Dm(u)?Lt(o,u):Dm(o)?1:-1}return Lt(r.length,t.length)}const gC=55296,yC=57343;function Dm(r){const t=r.charCodeAt(0);return t>=gC&&t<=yC}function _o(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="__name__";class Mi{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Mi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Mi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Mi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Lt(t.length,n.length)}static compareSegments(t,n){const s=Mi.isNumericId(t),o=Mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(t).compare(Mi.extractNumericId(n)):Qm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return us.fromString(t.substring(4,t.length-2))}}class ee extends Mi{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new at($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const _C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Mi{construct(t,n,s){return new tn(t,n,s)}static isValidIdentifier(t){return _C.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rv}static keyField(){return new tn([Rv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new at($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new at($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new at($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new at($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ee.fromString(t))}static fromName(t){return new mt(ee.fromString(t).popFirst(5))}static empty(){return new mt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(r,t,n){if(!n)throw new at($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function vC(r,t,n,s){if(t===!0&&s===!0)throw new at($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Cv(r){if(!mt.isDocumentKey(r))throw new at($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Iv(r){if(mt.isDocumentKey(r))throw new at($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function L1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function $h(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Vn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(r);throw new at($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(r,t){const n={typeString:r};return t&&(n.value=t),n}function pu(r,t){if(!L1(r))throw new at($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new at($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=-62135596800,Nv=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Nv);return new ae(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new at($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Dv)throw new at($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nv}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(pu(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Dv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Le("string",ae._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ae(0,0))}static max(){return new Et(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function EC(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new ae(n+1,0):new ae(n,s));return new ds(o,mt.empty(),t)}function TC(r){return new ds(r.readTime,r.key,nu)}class ds{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new ds(Et.min(),mt.empty(),nu)}static max(){return new ds(Et.max(),mt.empty(),nu)}}function wC(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:Lt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==AC)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,s)=>{n(t)}))}static reject(t){return new nt(((n,s)=>{s(t)}))}static waitFor(t){return new nt(((n,s)=>{let o=0,u=0,h=!1;t.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next((o=>o?nt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new nt(((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(t,n){return new nt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function bC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Wh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=-1;function gu(r){return r==null}function Rh(r){return r===0&&1/r==-1/0}function RC(r){return typeof r=="number"&&Number.isInteger(r)&&!Rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="";function CC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Ov(t)),t=IC(r.get(n),t);return Ov(t)}function IC(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case P1:n+="";break;default:n+=u}}return n}function Ov(r){return r+P1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Es(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function U1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n){this.comparator=t,this.root=n||Ze.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sh(this.root,t,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sh(this.root,t,this.comparator,!0)}}class sh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ze.RED,this.left=o??Ze.EMPTY,this.right=u??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ze(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(t){return new Mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new je(this.comparator);return n.data=t,n}}class Mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new Nn([])}unionWith(t){let n=new je(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Nn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return _o(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new z1("Invalid base64 string: "+u):u}})(t);return new en(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(t);return new en(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const DC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(r){if(jt(!!r,39018),typeof r=="string"){let t=0;const n=DC.exec(r);if(jt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ae(r.seconds),nanos:Ae(r.nanos)}}function Ae(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ps(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="server_timestamp",j1="__type__",q1="__previous_value__",H1="__local_write_time__";function xp(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[j1])==null?void 0:s.stringValue)===B1}function Jh(r){const t=r.mapValue.fields[q1];return xp(t)?Jh(t):t}function iu(r){const t=ms(r.mapValue.fields[H1].timestampValue);return new ae(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,n,s,o,u,h,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Ch="(default)";class ru{constructor(t,n){this.projectId=t,this.database=n||Ch}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(t){return t instanceof ru&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="__type__",OC="__max__",ah={mapValue:{}},G1="__vector__",Ih="value";function gs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xp(r)?4:MC(r)?9007199254740991:xC(r)?10:11:yt(28295,{value:r})}function qi(r,t){if(r===t)return!0;const n=gs(r);if(n!==gs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return iu(r).isEqual(iu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ms(o.timestampValue),m=ms(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return ps(o.bytesValue).isEqual(ps(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ae(o.geoPointValue.latitude)===Ae(u.geoPointValue.latitude)&&Ae(o.geoPointValue.longitude)===Ae(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ae(o.integerValue)===Ae(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ae(o.doubleValue),m=Ae(u.doubleValue);return h===m?Rh(h)===Rh(m):isNaN(h)&&isNaN(m)}return!1})(r,t);case 9:return _o(r.arrayValue.values||[],t.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(xv(h)!==xv(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!qi(h[p],m[p])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function su(r,t){return(r.values||[]).find((n=>qi(n,t)))!==void 0}function vo(r,t){if(r===t)return 0;const n=gs(r),s=gs(t);if(n!==s)return Lt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lt(r.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=Ae(u.integerValue||u.doubleValue),p=Ae(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return Vv(r.timestampValue,t.timestampValue);case 4:return Vv(iu(r),iu(t));case 5:return Qm(r.stringValue,t.stringValue);case 6:return(function(u,h){const m=ps(u),p=ps(h);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Lt(m[g],p[g]);if(E!==0)return E}return Lt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=Lt(Ae(u.latitude),Ae(h.latitude));return m!==0?m:Lt(Ae(u.longitude),Ae(h.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return kv(r.arrayValue,t.arrayValue);case 10:return(function(u,h){var S,M,G,K;const m=u.fields||{},p=h.fields||{},g=(S=m[Ih])==null?void 0:S.arrayValue,E=(M=p[Ih])==null?void 0:M.arrayValue,T=Lt(((G=g==null?void 0:g.values)==null?void 0:G.length)||0,((K=E==null?void 0:E.values)==null?void 0:K.length)||0);return T!==0?T:kv(g,E)})(r.mapValue,t.mapValue);case 11:return(function(u,h){if(u===ah.mapValue&&h===ah.mapValue)return 0;if(u===ah.mapValue)return 1;if(h===ah.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const S=Qm(p[T],E[T]);if(S!==0)return S;const M=vo(m[p[T]],g[E[T]]);if(M!==0)return M}return Lt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function Vv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Lt(r,t);const n=ms(r),s=ms(t),o=Lt(n.seconds,s.seconds);return o!==0?o:Lt(n.nanos,s.nanos)}function kv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=vo(n[o],s[o]);if(u)return u}return Lt(n.length,s.length)}function Eo(r){return Km(r)}function Km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ms(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ps(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return mt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Km(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Km(n.fields[h])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function ph(r){switch(gs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Jh(r);return t?16+ph(t):16;case 5:return 2*r.stringValue.length;case 6:return ps(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ph(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Es(s.fields,((u,h)=>{o+=u.length+ph(h)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function Lv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Ym(r){return!!r&&"integerValue"in r}function Mp(r){return!!r&&"arrayValue"in r}function Pv(r){return!!r&&"nullValue"in r}function Uv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gh(r){return!!r&&"mapValue"in r}function xC(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[F1])==null?void 0:s.stringValue)===G1}function Ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Es(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Ql(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ql(r.arrayValue.values[n]);return t}return{...r}}function MC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===OC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!gh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ql(n)}setAll(t){let n=tn.emptyPath(),s={},o=[];t.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Ql(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return qi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Es(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new hn(Ql(this.value))}}function Q1(r){const t=[];return Es(r.fields,((n,s)=>{const o=new tn([n]);if(gh(s)){const u=Q1(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)})),new Nn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,s,o,u,h,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new Qe(t,0,Et.min(),Et.min(),Et.min(),hn.empty(),0)}static newFoundDocument(t,n,s,o){return new Qe(t,1,n,Et.min(),s,o,0)}static newNoDocument(t,n){return new Qe(t,2,n,Et.min(),Et.min(),hn.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,Et.min(),Et.min(),hn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,n){this.position=t,this.inclusive=n}}function zv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],h=r.position[o];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(h.referenceValue),n.key):s=vo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Bv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!qi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t,n="asc"){this.field=t,this.dir=n}}function VC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{}class Ve extends K1{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new LC(t,n,s):n==="array-contains"?new zC(t,s):n==="in"?new BC(t,s):n==="not-in"?new jC(t,s):n==="array-contains-any"?new qC(t,s):new Ve(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new PC(t,s):new UC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends K1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ci(t,n)}matches(t){return Y1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Y1(r){return r.op==="and"}function X1(r){return kC(r)&&Y1(r)}function kC(r){for(const t of r.filters)if(t instanceof ci)return!1;return!0}function Xm(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+Eo(r.value);if(X1(r))return r.filters.map((t=>Xm(t))).join(",");{const t=r.filters.map((n=>Xm(n))).join(",");return`${r.op}(${t})`}}function $1(r,t){return r instanceof Ve?(function(s,o){return o instanceof Ve&&s.op===o.op&&s.field.isEqual(o.field)&&qi(s.value,o.value)})(r,t):r instanceof ci?(function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&$1(h,o.filters[m])),!0):!1})(r,t):void yt(19439)}function W1(r){return r instanceof Ve?(function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`})(r):r instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(W1).join(" ,")+"}"})(r):"Filter"}class LC extends Ve{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class PC extends Ve{constructor(t,n){super(t,"in",n),this.keys=J1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class UC extends Ve{constructor(t,n){super(t,"not-in",n),this.keys=J1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function J1(r,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((s=>mt.fromName(s.referenceValue)))}class zC extends Ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Mp(n)&&su(n.arrayValue,this.value)}}class BC extends Ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class jC extends Ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!su(this.value.arrayValue,n)}}class qC extends Ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>su(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,n=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function jv(r,t=null,n=[],s=[],o=null,u=null,h=null){return new HC(r,t,n,s,o,u,h)}function Vp(r){const t=St(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Xm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),gu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Eo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Eo(s))).join(",")),t.Te=n}return t.Te}function kp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!VC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!$1(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Bv(r.startAt,t.startAt)&&Bv(r.endAt,t.endAt)}function $m(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FC(r,t,n,s,o,u,h,m){return new Do(r,t,n,s,o,u,h,m)}function Lp(r){return new Do(r)}function qv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Z1(r){return r.collectionGroup!==null}function Kl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new je(tn.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new au(u,s))})),n.has(tn.keyField().canonicalString())||t.Ie.push(new au(tn.keyField(),s))}return t.Ie}function Pi(r){const t=St(r);return t.Ee||(t.Ee=GC(t,Kl(r))),t.Ee}function GC(r,t){if(r.limitType==="F")return jv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new au(o.field,u)}));const n=r.endAt?new Dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Dh(r.startAt.position,r.startAt.inclusive):null;return jv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Wm(r,t){const n=r.filters.concat([t]);return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Jm(r,t,n){return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Zh(r,t){return kp(Pi(r),Pi(t))&&r.limitType===t.limitType}function tT(r){return`${Vp(Pi(r))}|lt:${r.limitType}`}function so(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>W1(o))).join(", ")}]`),gu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Eo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Eo(o))).join(",")),`Target(${s})`})(Pi(r))}; limitType=${r.limitType})`}function tf(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=zv(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(h,m,p){const g=zv(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Kl(s),o))})(r,t)}function QC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function eT(r){return(t,n)=>{let s=!1;for(const o of Kl(r)){const u=KC(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function KC(r,t,n){const s=r.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?vo(p,g):yt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Es(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return U1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new fe(mt.comparator);function gr(){return YC}const nT=new fe(mt.comparator);function Hl(...r){let t=nT;for(const n of r)t=t.insert(n.key,n);return t}function iT(r){let t=nT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ta(){return Yl()}function rT(){return Yl()}function Yl(){return new ha((r=>r.toString()),((r,t)=>r.isEqual(t)))}const XC=new fe(mt.comparator),$C=new je(mt.comparator);function Pt(...r){let t=$C;for(const n of r)t=t.add(n);return t}const WC=new je(Lt);function JC(){return WC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(t)?"-0":t}}function sT(r){return{integerValue:""+r}}function ZC(r,t){return RC(t)?sT(t):Pp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function tI(r,t,n){return r instanceof Nh?(function(o,u){const h={fields:{[j1]:{stringValue:B1},[H1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&xp(u)&&(u=Jh(u)),u&&(h.fields[q1]=u),{mapValue:h}})(n,t):r instanceof ou?oT(r,t):r instanceof lu?lT(r,t):(function(o,u){const h=aT(o,u),m=Hv(h)+Hv(o.Ae);return Ym(h)&&Ym(o.Ae)?sT(m):Pp(o.serializer,m)})(r,t)}function eI(r,t,n){return r instanceof ou?oT(r,t):r instanceof lu?lT(r,t):n}function aT(r,t){return r instanceof Oh?(function(s){return Ym(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Nh extends ef{}class ou extends ef{constructor(t){super(),this.elements=t}}function oT(r,t){const n=uT(t);for(const s of r.elements)n.some((o=>qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class lu extends ef{constructor(t){super(),this.elements=t}}function lT(r,t){let n=uT(t);for(const s of r.elements)n=n.filter((o=>!qi(o,s)));return{arrayValue:{values:n}}}class Oh extends ef{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Hv(r){return Ae(r.integerValue||r.doubleValue)}function uT(r){return Mp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function nI(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof ou&&o instanceof ou||s instanceof lu&&o instanceof lu?_o(s.elements,o.elements,qi):s instanceof Oh&&o instanceof Oh?qi(s.Ae,o.Ae):s instanceof Nh&&o instanceof Nh})(r.transform,t.transform)}class iI{constructor(t,n){this.version=t,this.transformResults=n}}class ke{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ke}static exists(t){return new ke(void 0,t)}static updateTime(t){return new ke(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class nf{}function cT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new _u(r.key,ke.none()):new yu(r.key,r.data,ke.none());{const n=r.data,s=hn.empty();let o=new je(tn.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ts(r.key,s,new Nn(o.toArray()),ke.none())}}function rI(r,t,n){r instanceof yu?(function(o,u,h){const m=o.value.clone(),p=Gv(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,t,n):r instanceof Ts?(function(o,u,h){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Gv(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(hT(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,n)}function Xl(r,t,n,s){return r instanceof yu?(function(u,h,m,p){if(!yh(u.precondition,h))return m;const g=u.value.clone(),E=Qv(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,t,n,s):r instanceof Ts?(function(u,h,m,p){if(!yh(u.precondition,h))return m;const g=Qv(u.fieldTransforms,p,h),E=h.data;return E.setAll(hT(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,h,m){return yh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,t,n)}function sI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=aT(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function Fv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_o(s,o,((u,h)=>nI(u,h)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class yu extends nf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends nf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function hT(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function Gv(r,t,n){const s=new Map;jt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,eI(h,m,n[o]))}return s}function Qv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,tI(u,h,t))}return s}class _u extends nf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fT extends nf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&rI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Xl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Xl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=rT();return this.mutations.forEach((o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=cT(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&_o(this.mutations,t.mutations,((n,s)=>Fv(n,s)))&&_o(this.baseMutations,t.baseMutations,((n,s)=>Fv(n,s)))}}class Up{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){jt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return XC})();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Up(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,Bt;function dT(r){switch(r){case $.OK:return yt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function mT(r){if(r===void 0)return pr("GRPC error has no .code"),$.UNKNOWN;switch(r){case Me.OK:return $.OK;case Me.CANCELLED:return $.CANCELLED;case Me.UNKNOWN:return $.UNKNOWN;case Me.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Me.INTERNAL:return $.INTERNAL;case Me.UNAVAILABLE:return $.UNAVAILABLE;case Me.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Me.NOT_FOUND:return $.NOT_FOUND;case Me.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Me.ABORTED:return $.ABORTED;case Me.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Me.DATA_LOSS:return $.DATA_LOSS;default:return yt(39323,{code:r})}}(Bt=Me||(Me={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new us([4294967295,4294967295],0);function Kv(r){const t=uI().encode(r),n=new C1;return n.update(t),new Uint8Array(n.digest())}function Yv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new us([n,s],0),new us([o,u],0)]}class zp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=us.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(us.fromNumber(s)));return o.compare(cI)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Kv(t),[s,o]=Yv(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new zp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(t){if(this.ge===0)return;const n=Kv(t),[s,o]=Yv(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,vu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new rf(Et.min(),o,new fe(Lt),gr(),Pt())}}class vu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new vu(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class pT{constructor(t,n){this.targetId=t,this.Ce=n}}class gT{constructor(t,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Xv{constructor(){this.ve=0,this.Fe=$v(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),n=Pt(),s=Pt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:u})}})),new vu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=$v()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hI{constructor(t){this.Ge=t,this.ze=new Map,this.je=gr(),this.Je=oh(),this.He=oh(),this.Ye=new fe(Lt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if($m(u))if(s===0){const h=new mt(u.path);this.et(n,h,Qe.newNoDocument(h,Et.min()))}else jt(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(t),p=m?this.ct(m,t,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ps(s).toUint8Array()}catch(p){if(p instanceof z1)return yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new zp(h,o,u)}catch(p){return yo(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&$m(m.target)){const p=new mt(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Qe.newNoDocument(p,t))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Pt();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(t)));const o=new rf(t,n,this.Ye,this.je,s);return this.je=gr(),this.Je=oh(),this.He=oh(),this.Ye=new fe(Lt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Xv,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new je(Lt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new je(Lt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Xv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function oh(){return new fe(mt.comparator)}function $v(){return new fe(mt.comparator)}const fI={asc:"ASCENDING",desc:"DESCENDING"},dI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mI={and:"AND",or:"OR"};class pI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Zm(r,t){return r.useProto3Json||gu(t)?t:{value:t}}function xh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function gI(r,t){return xh(r,t.toTimestamp())}function xn(r){return jt(!!r,49232),Et.fromTimestamp((function(n){const s=ms(n);return new ae(s.seconds,s.nanos)})(r))}function Bp(r,t){return tp(r,t).canonicalString()}function tp(r,t){const n=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function _T(r){const t=ee.fromString(r);return jt(ST(t),10190,{key:t.toString()}),t}function Mh(r,t){return Bp(r.databaseId,t.path)}function $l(r,t){const n=_T(t);if(n.get(1)!==r.databaseId.projectId)throw new at($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new at($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(ET(n))}function vT(r,t){return Bp(r.databaseId,t)}function yI(r){const t=_T(r);return t.length===4?ee.emptyPath():ET(t)}function ep(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ET(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Wv(r,t,n){return{name:Mh(r,t),fields:n.value.mapValue.fields}}function _I(r,t){return"found"in t?(function(s,o){jt(!!o.found,43571),o.found.name,o.found.updateTime;const u=$l(s,o.found.name),h=xn(o.found.updateTime),m=o.found.createTime?xn(o.found.createTime):Et.min(),p=new hn({mapValue:{fields:o.found.fields}});return Qe.newFoundDocument(u,h,m,p)})(r,t):"missing"in t?(function(s,o){jt(!!o.missing,3894),jt(!!o.readTime,22933);const u=$l(s,o.missing),h=xn(o.readTime);return Qe.newNoDocument(u,h)})(r,t):yt(7234,{result:t})}function vI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:yt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(jt(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?$.UNKNOWN:mT(g.code);return new at(E,g.message||"")})(h);n=new gT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=$l(r,s.document.name),u=xn(s.document.updateTime),h=s.document.createTime?xn(s.document.createTime):Et.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Qe.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new _h(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=$l(r,s.document),u=s.readTime?xn(s.readTime):Et.min(),h=Qe.newNoDocument(o,u),m=s.removedTargetIds||[];n=new _h([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=$l(r,s.document),u=s.removedTargetIds||[];n=new _h([],u,o,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new lI(o,u),m=s.targetId;n=new pT(m,h)}}return n}function TT(r,t){let n;if(t instanceof yu)n={update:Wv(r,t.key,t.value)};else if(t instanceof _u)n={delete:Mh(r,t.key)};else if(t instanceof Ts)n={update:Wv(r,t.key,t.data),updateMask:II(t.fieldMask)};else{if(!(t instanceof fT))return yt(16599,{Vt:t.type});n={verify:Mh(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Nh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Oh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw yt(20930,{transform:h.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:gI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(r,t.precondition)),n}function EI(r,t){return r&&r.length>0?(jt(t!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?xn(o.updateTime):xn(u);return h.isEqual(Et.min())&&(h=xn(u)),new iI(h,o.transformResults||[])})(n,t)))):[]}function TI(r,t){return{documents:[vT(r,t.path)]}}function wI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=vT(r,o);const u=(function(g){if(g.length!==0)return AT(ci.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(S){return{field:ao(S.field),direction:bI(S.dir)}})(E)))})(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Zm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function AI(r){let t=yI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){jt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const S=wT(T);return S instanceof ci&&X1(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((S=>(function(G){return new au(oo(G.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,gu(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,M=T.values||[];return new Dh(M,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,M=T.values||[];return new Dh(M,S)})(n.endAt)),FC(t,o,h,u,m,"F",p,g)}function SI(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function wT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=oo(n.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(n.unaryFilter.field);return Ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=oo(n.unaryFilter.field);return Ve.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ve.create(oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((s=>wT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(r):yt(30097,{filter:r})}function bI(r){return fI[r]}function RI(r){return dI[r]}function CI(r){return mI[r]}function ao(r){return{fieldPath:r.canonicalString()}}function oo(r){return tn.fromServerFormat(r.fieldPath)}function AT(r){return r instanceof Ve?(function(n){if(n.op==="=="){if(Uv(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(Pv(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Uv(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(Pv(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:RI(n.op),value:n.value}}})(r):r instanceof ci?(function(n){const s=n.getFilters().map((o=>AT(o)));return s.length===1?s[0]:{compositeFilter:{op:CI(n.op),filters:s}}})(r):yt(54877,{filter:r})}function II(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function ST(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,n,s,o,u=Et.min(),h=Et.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new ss(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(t){this.yt=t}}function NI(r){const t=AI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.Cn=new xI}addToCollectionParentIndex(t,n){return this.Cn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(ds.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(ds.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class xI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new je(ee.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new je(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bT=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(bT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new To(0)}static cr(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="LruGarbageCollector",MI=1048576;function tE([r,t],[n,s]){const o=Lt(r,n);return o===0?Lt(t,s):o}class VI{constructor(t){this.Ir=t,this.buffer=new je(tE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();tE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class kI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(Zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?ut(Zv,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Vr(3e5)}))}}class LI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(Wh.ce);const s=new VI(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(Jv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),ro()<=kt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function PI(r,t){return new LI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.changes=new ha((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Xl(s.mutation,o,Nn.empty(),ae.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Pt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Pt()){const o=ta();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let h=Hl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(t,n){const s=ta();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Pt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(t,n,s,o){let u=gr();const h=Yl(),m=(function(){return Yl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ts)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Xl(E.mutation,g,E.mutation.getFieldMask(),ae.now())):h.set(g.key,Nn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new zI(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Yl();let o=new fe(((h,m)=>h-m)),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Nn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Pt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=rT();E.forEach((S=>{if(!u.has(S)){const M=cT(n.get(S),s.get(S));M!==null&&T.set(S,M),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return nt.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(h){return mt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Z1(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):nt.resolve(ta());let m=nu,p=u;return h.next((g=>nt.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?nt.resolve():this.remoteDocumentCache.getEntry(t,E).next((S=>{p=p.insert(E,S)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Pt()))).next((E=>({batchId:m,changes:iT(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let h=Hl();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(p=>{const g=(function(T,S){return new Do(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((E=>{E.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Qe.newInvalidDocument(E)))}));let m=Hl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Xl(E.mutation,g,Nn.empty(),ae.now()),tf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:xn(o.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:NI(o.bundledQuery),readTime:xn(o.readTime)}})(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.overlays=new fe(mt.comparator),this.qr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ta();return nt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),nt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const o=ta(),u=n.length+1,h=new mt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new fe(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ta(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ta(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return nt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new oI(n,s));let u=this.qr.get(n);u===void 0&&(u=Pt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this.Qr=new je(Ge.$r),this.Ur=new je(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Ge(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new Ge(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new mt(new ee([])),s=new Ge(n,t),o=new Ge(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new mt(new ee([])),s=new Ge(n,t),o=new Ge(n,t+1);let u=Pt();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(t){const n=new Ge(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ge{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return mt.comparator(t.key,n.key)||Lt(t.Yr,n.Yr)}static Kr(t,n){return Lt(t.Yr,n.Yr)||mt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new je(Ge.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new aI(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Ge(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(h)}lookupMutationBatch(t,n){return nt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Op:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ge(n,0),o=new Ge(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new je(Lt);return n.forEach((o=>{const u=new Ge(o,0),h=new Ge(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),nt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const h=new Ge(new mt(u),0);let m=new je(Lt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),nt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){jt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return nt.forEach(n.mutations,(o=>{const u=new Ge(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new Ge(n,0),o=this.Zr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.ri=t,this.docs=(function(){return new fe(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let s=gr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Qe.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=gr();const h=n.path,m=new mt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||wC(TC(E),s)<=0||(o.has(E.key)||tf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){yt(9500)}ii(t,n){return nt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new QI(this)}getSize(t){return nt.resolve(this.size)}}class QI extends UI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),nt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.persistence=t,this.si=new ha((n=>Vp(n)),kp),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new jp,this.targetCount=0,this.ai=To.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),nt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new To(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.Pr(n),nt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(t,h))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t,n){this.ui={},this.overlays={},this.ci=new Wh(0),this.li=!1,this.li=!0,this.hi=new HI,this.referenceDelegate=t(this),this.Pi=new KI(this),this.indexManager=new OI,this.remoteDocumentCache=(function(o){return new GI(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new DI(n),this.Ii=new jI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new qI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new FI(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ut("MemoryPersistence","Starting transaction:",t);const o=new YI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return nt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class YI extends SC{constructor(t){super(),this.currentSequenceNumber=t}}class qp{constructor(t){this.persistence=t,this.Ri=new jp,this.Vi=null}static mi(t){return new qp(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(s=>{const o=mt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,Et.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return nt.or([()=>nt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Vh{constructor(t,n){this.persistence=t,this.pi=new ha((s=>CC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=PI(this,n)}static mi(t,n){return new Vh(t,n)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return nt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?nt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(h=>this.br(t,h,n).next((m=>{m||(s++,u.removeEntry(h,Et.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ph(t.data.value)),n}br(t,n,s){return nt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qb()?8:bC(an())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new XI;return this.Ss(t,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,h,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(ro()<=kt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(ro()<=kt.DEBUG&&ut("QueryEngine","Query:",so(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ro()<=kt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Pi(n))):nt.resolve())}ys(t,n){if(qv(n))return nt.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Jm(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const h=Pt(...u);return this.ps.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(t,Jm(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return qv(n)||o.isEqual(Et.min())?nt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?nt.resolve(null):(ro()<=kt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.vs(t,h,n,EC(o,nu)).next((m=>m)))}))}Ds(t,n){let s=new je(eT(t));return n.forEach(((o,u)=>{tf(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return ro()<=kt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",so(n)),this.ps.getDocumentsMatchingQuery(t,n,ds.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="LocalStore",WI=3e8;class JI{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new fe(Lt),this.xs=new ha((u=>Vp(u)),kp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new BI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function ZI(r,t,n,s){return new JI(r,t,n,s)}async function CT(r,t){const n=St(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Pt();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function t4(r,t){const n=St(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,S=T.keys();let M=nt.resolve();return S.forEach((G=>{M=M.next((()=>E.getEntry(p,G))).next((K=>{const B=g.docVersions.get(G);jt(B!==null,48541),K.version.compareTo(B)<0&&(T.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function IT(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function e4(r,t){const n=St(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const S=o.get(T);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let M=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?M=M.withResumeToken(en.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(T,M),(function(K,B,J){return K.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=WI?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(S,M,E)&&m.push(n.Pi.updateTargetData(u,M))}));let p=gr(),g=Pt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(n4(u,h,t.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Et.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return nt.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function n4(r,t,n){let s=Pt(),o=Pt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let h=gr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ut(Fp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function i4(r,t){const n=St(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Op),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function r4(r,t){const n=St(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,nt.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new ss(t,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function np(r,t,n){const s=St(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Io(h))throw h;ut(Fp,`Failed to update sequence numbers for target ${t}: ${h}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function eE(r,t,n){const s=St(r);let o=Et.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=St(p),S=T.xs.get(E);return S!==void 0?nt.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,E)})(s,h,Pi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,t,n?o:Et.min(),n?u:Pt()))).next((m=>(s4(s,QC(t),m),{documents:m,Qs:u})))))}function s4(r,t,n){let s=r.Os.get(t)||Et.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class nE{constructor(){this.activeTargetIds=JC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class a4{constructor(){this.Mo=new nE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new nE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="ConnectivityMonitor";class rE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(iE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(iE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function ip(){return lh===null?lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",l4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const h=ip(),m=this.zo(t,n.toUriEncodedString());ut(Nm,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=vs(g);return this.Jo(t,m,p,s,E).then((T=>(ut(Nm,`Received RPC '${t}' ${h}: `,T),T)),(T=>{throw yo(Nm,`RPC '${t}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(t,n,s,o,u,h){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=l4[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class h4 extends u4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const h=ip();return new Promise(((m,p)=>{const g=new I1;g.setWithCredentials(!0),g.listenOnce(D1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case mh.NO_ERROR:const T=g.getResponseJson();ut(rn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),m(T);break;case mh.TIMEOUT:ut(rn,`RPC '${t}' ${h} timed out`),p(new at($.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const S=g.getStatus();if(ut(rn,`RPC '${t}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const G=M==null?void 0:M.error;if(G&&G.status&&G.message){const K=(function(J){const rt=J.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(rt)>=0?rt:$.UNKNOWN})(G.status);p(new at(K,G.message))}else p(new at($.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new at($.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ut(rn,`RPC '${t}' ${h} completed.`)}}));const E=JSON.stringify(o);ut(rn,`RPC '${t}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=ip(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=x1(),m=O1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ut(rn,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let S=!1,M=!1;const G=new c4({Yo:B=>{M?ut(rn,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(S||(ut(rn,`Opening RPC '${t}' stream ${o} transport.`),T.open(),S=!0),ut(rn,`RPC '${t}' stream ${o} sending:`,B),T.send(B))},Zo:()=>T.close()}),K=(B,J,rt)=>{B.listen(J,(et=>{try{rt(et)}catch(ft){setTimeout((()=>{throw ft}),0)}}))};return K(T,ql.EventType.OPEN,(()=>{M||(ut(rn,`RPC '${t}' stream ${o} transport opened.`),G.o_())})),K(T,ql.EventType.CLOSE,(()=>{M||(M=!0,ut(rn,`RPC '${t}' stream ${o} transport closed`),G.a_(),this.E_(T))})),K(T,ql.EventType.ERROR,(B=>{M||(M=!0,yo(rn,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),G.a_(new at($.UNAVAILABLE,"The operation could not be completed")))})),K(T,ql.EventType.MESSAGE,(B=>{var J;if(!M){const rt=B.data[0];jt(!!rt,16349);const et=rt,ft=(et==null?void 0:et.error)||((J=et[0])==null?void 0:J.error);if(ft){ut(rn,`RPC '${t}' stream ${o} received error:`,ft);const vt=ft.status;let Tt=(function(R){const V=Me[R];if(V!==void 0)return mT(V)})(vt),C=ft.message;Tt===void 0&&(Tt=$.INTERNAL,C="Unknown error status: "+vt+" with message "+ft.message),M=!0,G.a_(new at(Tt,C)),T.close()}else ut(rn,`RPC '${t}' stream ${o} received:`,rt),G.u_(rt)}})),K(m,N1.STAT_EVENT,(B=>{B.stat===Gm.PROXY?ut(rn,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===Gm.NOPROXY&&ut(rn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(r){return new pI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="PersistentStream";class DT{constructor(t,n,s,o,u,h,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Gp(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new at($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(sE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ut(sE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class f4 extends DT{constructor(t,n,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=vI(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Et.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Et.min():h.readTime?xn(h.readTime):Et.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=ep(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=$m(p)?{documents:TI(u,p)}:{query:wI(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=yT(u,h.resumeToken);const g=Zm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Et.min())>0){m.readTime=xh(u,h.snapshotVersion.toTimestamp());const g=Zm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=SI(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=ep(this.serializer),n.removeTarget=t,this.q_(n)}}class d4 extends DT{constructor(t,n,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=EI(t.writeResults,t.commitTime),s=xn(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=ep(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>TT(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{}class p4 extends m4{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new at($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(t,tp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new at($.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(t,tp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at($.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class g4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(n),this.aa=!1):ut("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class y4{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{fa(this)&&(ut(aa,"Restarting streams for network reachability change."),await(async function(p){const g=St(p);g.Ea.add(4),await Eu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await af(g)})(this))}))})),this.Ra=new g4(s,o)}}async function af(r){if(fa(r))for(const t of r.da)await t(!0)}async function Eu(r){for(const t of r.da)await t(!1)}function NT(r,t){const n=St(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Xp(n)?Yp(n):No(n).O_()&&Kp(n,t))}function Qp(r,t){const n=St(r),s=No(n);n.Ia.delete(t),s.O_()&&OT(n,t),n.Ia.size===0&&(s.O_()?s.L_():fa(n)&&n.Ra.set("Unknown"))}function Kp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}No(r).Y_(t)}function OT(r,t){r.Va.Ue(t),No(r).Z_(t)}function Yp(r){r.Va=new hI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),No(r).start(),r.Ra.ua()}function Xp(r){return fa(r)&&!No(r).x_()&&r.Ia.size>0}function fa(r){return St(r).Ea.size===0}function xT(r){r.Va=void 0}async function _4(r){r.Ra.set("Online")}async function v4(r){r.Ia.forEach(((t,n)=>{Kp(r,t)}))}async function E4(r,t){xT(r),Xp(r)?(r.Ra.ha(t),Yp(r)):r.Ra.set("Unknown")}async function T4(r,t,n){if(r.Ra.set("Online"),t instanceof gT&&t.state===2&&t.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ut(aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await kh(r,s)}else if(t instanceof _h?r.Va.Ze(t):t instanceof pT?r.Va.st(t):r.Va.tt(t),!n.isEqual(Et.min()))try{const s=await IT(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),OT(u,p);const T=new ss(E.target,p,g,E.sequenceNumber);Kp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ut(aa,"Failed to raise snapshot:",s),await kh(r,s)}}async function kh(r,t,n){if(!Io(t))throw t;r.Ea.add(1),await Eu(r),r.Ra.set("Offline"),n||(n=()=>IT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(aa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await af(r)}))}function MT(r,t){return t().catch((n=>kh(r,n,t)))}async function of(r){const t=St(r),n=ys(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Op;for(;w4(t);)try{const o=await i4(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,A4(t,o)}catch(o){await kh(t,o)}VT(t)&&kT(t)}function w4(r){return fa(r)&&r.Ta.length<10}function A4(r,t){r.Ta.push(t);const n=ys(r);n.O_()&&n.X_&&n.ea(t.mutations)}function VT(r){return fa(r)&&!ys(r).x_()&&r.Ta.length>0}function kT(r){ys(r).start()}async function S4(r){ys(r).ra()}async function b4(r){const t=ys(r);for(const n of r.Ta)t.ea(n.mutations)}async function R4(r,t,n){const s=r.Ta.shift(),o=Up.from(s,t,n);await MT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await of(r)}async function C4(r,t){t&&ys(r).X_&&await(async function(s,o){if((function(h){return dT(h)&&h!==$.ABORTED})(o.code)){const u=s.Ta.shift();ys(s).B_(),await MT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await of(s)}})(r,t),VT(r)&&kT(r)}async function aE(r,t){const n=St(r);n.asyncQueue.verifyOperationInProgress(),ut(aa,"RemoteStore received new credentials");const s=fa(n);n.Ea.add(3),await Eu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await af(n)}async function I4(r,t){const n=St(r);t?(n.Ea.delete(2),await af(n)):t||(n.Ea.add(2),await Eu(n),n.Ra.set("Unknown"))}function No(r){return r.ma||(r.ma=(function(n,s,o){const u=St(n);return u.sa(),new f4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:_4.bind(null,r),t_:v4.bind(null,r),r_:E4.bind(null,r),H_:T4.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Xp(r)?Yp(r):r.Ra.set("Unknown")):(await r.ma.stop(),xT(r))}))),r.ma}function ys(r){return r.fa||(r.fa=(function(n,s,o){const u=St(n);return u.sa(),new d4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:S4.bind(null,r),r_:C4.bind(null,r),ta:b4.bind(null,r),na:R4.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await of(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const h=Date.now()+s,m=new $p(t,n,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(r,t){if(pr("AsyncQueue",`${t}: ${r}`),Io(r))return new at($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(t){return new ho(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ho)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.ga=new fe(mt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class wo{constructor(t,n,s,o,u,h,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new wo(t,n,ho.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class N4{constructor(){this.queries=lE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=St(n),u=o.queries;o.queries=lE(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new at($.ABORTED,"Firestore shutting down"))}}function lE(){return new ha((r=>tT(r)),Zh)}async function LT(r,t){const n=St(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new D4,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Wp(h,`Initialization of query '${so(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Jp(n)}async function PT(r,t){const n=St(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function O4(r,t){const n=St(r);let s=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Jp(n)}function x4(r,t,n){const s=St(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Jp(r){r.Ca.forEach((t=>{t.next()}))}var rp,uE;(uE=rp||(rp={})).Ma="default",uE.Cache="cache";class UT{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new wo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t){this.key=t}}class BT{constructor(t){this.key=t}}class M4{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=eT(t),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new oE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const S=o.get(E),M=tf(this.query,T)?T:null,G=!!S&&this.mutatedKeys.has(S.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let B=!1;S&&M?S.data.isEqual(M.data)?G!==K&&(s.track({type:3,doc:M}),B=!0):this.su(S,M)||(s.track({type:2,doc:M}),B=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!S&&M?(s.track({type:0,doc:M}),B=!0):S&&!M&&(s.track({type:1,doc:S}),B=!0,(p||g)&&(m=!0)),B&&(M?(h=h.add(M),u=K?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort(((E,T)=>(function(M,G){const K=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:B})}};return K(M)-K(G)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new wo(this.query,t.tu,u,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new BT(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new zT(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Pt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zp="SyncEngine";class V4{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class k4{constructor(t){this.key=t,this.hu=!1}}class L4{constructor(t,n,s,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ha((m=>tT(m)),Zh),this.Iu=new Map,this.Eu=new Set,this.du=new fe(mt.comparator),this.Au=new Map,this.Ru=new jp,this.Vu={},this.mu=new Map,this.fu=To.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P4(r,t,n=!0){const s=QT(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await jT(s,t,n,!0),o}async function U4(r,t){const n=QT(r);await jT(n,t,!0,!1)}async function jT(r,t,n,s){const o=await r4(r.localStore,Pi(t)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await z4(r,t,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&NT(r.remoteStore,o),m}async function z4(r,t,n,s,o){r.pu=(T,S,M)=>(async function(K,B,J,rt){let et=B.view.ru(J);et.Cs&&(et=await eE(K.localStore,B.query,!1).then((({documents:C})=>B.view.ru(C,et))));const ft=rt&&rt.targetChanges.get(B.targetId),vt=rt&&rt.targetMismatches.get(B.targetId)!=null,Tt=B.view.applyChanges(et,K.isPrimaryClient,ft,vt);return hE(K,B.targetId,Tt.au),Tt.snapshot})(r,T,S,M);const u=await eE(r.localStore,t,!0),h=new M4(t,u.Qs),m=h.ru(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);hE(r,n,g.au);const E=new V4(t,n,h);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),g.snapshot}async function B4(r,t,n){const s=St(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!Zh(h,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await np(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Qp(s.remoteStore,o.targetId),sp(s,o.targetId)})).catch(Co)):(sp(s,o.targetId),await np(s.localStore,o.targetId,!0))}async function j4(r,t){const n=St(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Qp(n.remoteStore,s.targetId))}async function q4(r,t,n){const s=X4(r);try{const o=await(function(h,m){const p=St(h),g=ae.now(),E=m.reduce(((M,G)=>M.add(G.key)),Pt());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let G=gr(),K=Pt();return p.Ns.getEntries(M,E).next((B=>{G=B,G.forEach(((J,rt)=>{rt.isValidDocument()||(K=K.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,G))).next((B=>{T=B;const J=[];for(const rt of m){const et=sI(rt,T.get(rt.key).overlayedDocument);et!=null&&J.push(new Ts(rt.key,et,Q1(et.value.mapValue),ke.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,J,m)})).next((B=>{S=B;const J=B.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(M,B.batchId,J)}))})).then((()=>({batchId:S.batchId,changes:iT(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new fe(Lt)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Tu(s,o.changes),await of(s.remoteStore)}catch(o){const u=Wp(o,"Failed to persist write");n.reject(u)}}async function qT(r,t){const n=St(r);try{const s=await e4(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?jt(h.hu,14607):o.removedDocuments.size>0&&(jt(h.hu,42227),h.hu=!1))})),await Tu(n,s,t)}catch(s){await Co(s)}}function cE(r,t,n){const s=St(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=St(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const S of T.Sa)S.va(m)&&(g=!0)})),g&&Jp(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function H4(r,t,n){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let h=new fe(mt.comparator);h=h.insert(u,Qe.newNoDocument(u,Et.min()));const m=Pt().add(u),p=new rf(Et.min(),new Map,new fe(Lt),h,m);await qT(s,p),s.du=s.du.remove(u),s.Au.delete(t),tg(s)}else await np(s.localStore,t,!1).then((()=>sp(s,t,n))).catch(Co)}async function F4(r,t){const n=St(r),s=t.batch.batchId;try{const o=await t4(n.localStore,t);FT(n,s,null),HT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,o)}catch(o){await Co(o)}}async function G4(r,t,n){const s=St(r);try{const o=await(function(h,m){const p=St(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(jt(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,t);FT(s,t,n),HT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Tu(s,o)}catch(o){await Co(o)}}function HT(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function FT(r,t,n){const s=St(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function sp(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||GT(r,s)}))}function GT(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Qp(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),tg(r))}function hE(r,t,n){for(const s of n)s instanceof zT?(r.Ru.addReference(s.key,t),Q4(r,s)):s instanceof BT?(ut(Zp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||GT(r,s.key)):yt(19791,{wu:s})}function Q4(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ut(Zp,"New document in limbo: "+n),r.Eu.add(s),tg(r))}function tg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new mt(ee.fromString(t)),s=r.fu.next();r.Au.set(s,new k4(n)),r.du=r.du.insert(n,s),NT(r.remoteStore,new ss(Pi(Lp(n.path)),s,"TargetPurposeLimboResolution",Wh.ce))}}async function Tu(r,t,n){const s=St(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,t,n).then((g=>{var E;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Hp.As(p.targetId,g);u.push(T)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=St(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>nt.forEach(g,(S=>nt.forEach(S.Es,(M=>E.persistence.referenceDelegate.addReference(T,S.targetId,M))).next((()=>nt.forEach(S.ds,(M=>E.persistence.referenceDelegate.removeReference(T,S.targetId,M)))))))))}catch(T){if(!Io(T))throw T;ut(Fp,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const M=E.Ms.get(S),G=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(S,K)}}})(s.localStore,u))}async function K4(r,t){const n=St(r);if(!n.currentUser.isEqual(t)){ut(Zp,"User change. New user:",t.toKey());const s=await CT(n.localStore,t);n.currentUser=t,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new at($.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Ls)}}function Y4(r,t){const n=St(r),s=n.Au.get(t);if(s&&s.hu)return Pt().add(s.key);{let o=Pt();const u=n.Iu.get(t);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function QT(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=qT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=H4.bind(null,t),t.Pu.H_=O4.bind(null,t.eventManager),t.Pu.yu=x4.bind(null,t.eventManager),t}function X4(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=F4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=G4.bind(null,t),t}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return ZI(this.persistence,new $I,t.initialUser,this.serializer)}Cu(t){return new RT(qp.mi,this.serializer)}Du(t){return new a4}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class $4 extends Lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){jt(this.persistence.referenceDelegate instanceof Vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new kI(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new RT((s=>Vh.mi(s,n)),this.serializer)}}class ap{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=K4.bind(null,this.syncEngine),await I4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new N4})()}createDatastore(t){const n=sf(t.databaseInfo.databaseId),s=(function(u){return new h4(u)})(t.databaseInfo);return(function(u,h,m,p){return new p4(u,h,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,h,m){return new y4(s,o,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>cE(this.syncEngine,n,0)),(function(){return rE.v()?new rE:new o4})())}createSyncEngine(t,n){return(function(o,u,h,m,p,g,E){const T=new L4(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=St(o);ut(aa,"RemoteStore shutting down."),u.Ea.add(5),await Eu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}ap.provider={build:()=>new ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):pr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new at($.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const h=St(o),m={documents:u.map((T=>Mh(h.serializer,T)))},p=await h.Ho("BatchGetDocuments",h.serializer.databaseId,ee.emptyPath(),m,u.length),g=new Map;p.forEach((T=>{const S=_I(h.serializer,T);g.set(S.key.toString(),S)}));const E=[];return u.forEach((T=>{const S=g.get(T.toString());jt(!!S,55234,{key:T}),E.push(S)})),E})(this.datastore,t);return n.forEach((s=>this.recordVersion(s))),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new _u(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((n=>{t.delete(n.key.toString())})),t.forEach(((n,s)=>{const o=mt.fromPath(s);this.mutations.push(new fT(o,this.precondition(o)))})),await(async function(s,o){const u=St(s),h={writes:o.map((m=>TT(u.serializer,m)))};await u.Go("Commit",u.serializer.databaseId,ee.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw yt(50498,{Gu:t.constructor.name});n=Et.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!n.isEqual(s))throw new at($.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(Et.min())?ke.exists(!1):ke.updateTime(n):ke.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Et.min()))throw new at($.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ke.updateTime(n)}return ke.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(t,n,s,o,u){this.asyncQueue=t,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new Gp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new W4(this.datastore),n=this.Hu(t);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(t){try{const n=this.updateFunction(t);return!gu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if((t==null?void 0:t.name)==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!dT(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="FirestoreClient";class Z4{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Np.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ut(_s,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ut(_s,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Wp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function xm(r,t){r.asyncQueue.verifyOperationInProgress(),ut(_s,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await CT(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function fE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await tD(r);ut(_s,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>aE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>aE(t.remoteStore,o))),r._onlineComponents=t}async function tD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(_s,"Using user provided OfflineComponentProvider");try{await xm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await xm(r,new Lh)}}else ut(_s,"Using default OfflineComponentProvider"),await xm(r,new $4(void 0));return r._offlineComponents}async function eg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(_s,"Using user provided OnlineComponentProvider"),await fE(r,r._uninitializedComponentsProvider._online)):(ut(_s,"Using default OnlineComponentProvider"),await fE(r,new ap))),r._onlineComponents}function eD(r){return eg(r).then((t=>t.syncEngine))}function nD(r){return eg(r).then((t=>t.datastore))}async function YT(r){const t=await eg(r),n=t.eventManager;return n.onListen=P4.bind(null,t.syncEngine),n.onUnlisten=B4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=U4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=j4.bind(null,t.syncEngine),n}function iD(r,t,n={}){const s=new Li;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new KT({next:S=>{E.Nu(),h.enqueueAndForget((()=>PT(u,T)));const M=S.docs.has(m);!M&&S.fromCache?g.reject(new at($.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&p&&p.source==="server"?g.reject(new at($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new UT(Lp(m.path),E,{includeMetadataChanges:!0,qa:!0});return LT(u,T)})(await YT(r),r.asyncQueue,t,n,s))),s.promise}function rD(r,t,n={}){const s=new Li;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new KT({next:S=>{E.Nu(),h.enqueueAndForget((()=>PT(u,T))),S.fromCache&&p.source==="server"?g.reject(new at($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new UT(m,E,{includeMetadataChanges:!0,qa:!0});return LT(u,T)})(await YT(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firestore.googleapis.com",mE=!0;class pE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$T,this.ssl=mE}else this.host=t.host,this.ssl=t.ssl??mE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=bT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<MI)throw new at($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class lf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new uC;switch(s.type){case"firstParty":return new dC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=dE.get(n);s&&(ut("ComponentProvider","Removing Datastore"),dE.delete(n),s.terminate())})(this),Promise.resolve()}}function sD(r,t,n,s={}){var g;r=Vn(r,lf);const o=vs(t),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(bp(`https://${m}`),Rp("Firestore",!0)),u.host!==$T&&u.host!==m&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ia(p,h)&&(r._setSettings(p),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=sn.MOCK_USER;else{E=T1(s.mockUserToken,(g=r._app)==null?void 0:g.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new at($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new sn(S)}r._authCredentials=new cC(new V1(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new da(this.firestore,t,this._query)}}class pe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pe(this.firestore,t,this._key)}toJSON(){return{type:pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(pu(n,pe._jsonSchema))return new pe(t,s||null,new mt(ee.fromString(n.referencePath)))}}pe._jsonSchemaVersion="firestore/documentReference/1.0",pe._jsonSchema={type:Le("string",pe._jsonSchemaVersion),referencePath:Le("string")};class cs extends da{constructor(t,n,s){super(t,n,Lp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pe(this.firestore,null,new mt(t))}withConverter(t){return new cs(this.firestore,t,this._path)}}function op(r,t,...n){if(r=ge(r),k1("collection","path",t),r instanceof lf){const s=ee.fromString(t,...n);return Iv(s),new cs(r,null,s)}{if(!(r instanceof pe||r instanceof cs))throw new at($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return Iv(s),new cs(r.firestore,null,s)}}function ng(r,t,...n){if(r=ge(r),arguments.length===1&&(t=Np.newId()),k1("doc","path",t),r instanceof lf){const s=ee.fromString(t,...n);return Cv(s),new pe(r,null,new mt(s))}{if(!(r instanceof pe||r instanceof cs))throw new at($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return Cv(s),new pe(r.firestore,r instanceof cs?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="AsyncQueue";class yE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Gp(this,"async_queue_retry"),this._c=()=>{const s=Om();s&&ut(gE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Li;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Io(t))throw t;ut(gE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",_E(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=$p.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:_E(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function _E(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class vr extends lf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new yE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yE(t),this._firestoreClient=void 0,await t}}}function aD(r,t){const n=typeof r=="object"?r:Xh(),s=typeof r=="string"?r:Ch,o=Yh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=_1("firestore");u&&sD(o,...u)}return o}function wu(r){if(r._terminated)throw new at($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||oD(r),r._firestoreClient}function oD(r){var s,o,u;const t=r._freezeSettings(),n=(function(m,p,g,E){return new NC(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,XT(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new Z4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dn(en.fromBase64String(t))}catch(n){throw new at($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Dn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(pu(t,Dn._jsonSchema))return Dn.fromBase64String(t.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:Le("string",Dn._jsonSchemaVersion),bytes:Le("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new at($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new at($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new at($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(t){if(pu(t,Ui._jsonSchema))return new Ui(t.latitude,t.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Le("string",Ui._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(pu(t,zi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new zi(t.vectorValues);throw new at($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Le("string",zi._jsonSchemaVersion),vectorValues:Le("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=/^__.*__$/;class uD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ts(t,this.data,this.fieldMask,n,this.fieldTransforms):new yu(t,this.data,n,this.fieldTransforms)}}class WT{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Ts(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function JT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class rg{constructor(t,n,s,o,u,h){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new rg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ph(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(JT(this.Ac)&&lD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class cD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||sf(t)}Cc(t,n,s,o=!1){return new rg({Ac:t,methodName:n,Dc:s,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xo(r){const t=r._freezeSettings(),n=sf(r._databaseId);return new cD(r._databaseId,!!t.ignoreUndefinedProperties,n)}function uf(r,t,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);og("Data must be an object, but it was:",h,s);const m=ZT(s,h);let p,g;if(u.merge)p=new Nn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const S=lp(t,T,n);if(!h.contains(S))throw new at($.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);e2(E,S)||E.push(S)}p=new Nn(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new uD(new hn(m),p,g)}class cf extends ig{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof cf}}function sg(r,t,n,s){const o=r.Cc(1,t,n);og("Data must be an object, but it was:",o,s);const u=[],h=hn.empty();Es(s,((p,g)=>{const E=lg(t,p,n);g=ge(g);const T=o.yc(E);if(g instanceof cf)u.push(E);else{const S=Au(g,T);S!=null&&(u.push(E),h.set(E,S))}}));const m=new Nn(u);return new WT(h,m,o.fieldTransforms)}function ag(r,t,n,s,o,u){const h=r.Cc(1,t,n),m=[lp(t,s,n)],p=[o];if(u.length%2!=0)throw new at($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(lp(t,u[S])),p.push(u[S+1]);const g=[],E=hn.empty();for(let S=m.length-1;S>=0;--S)if(!e2(g,m[S])){const M=m[S];let G=p[S];G=ge(G);const K=h.yc(M);if(G instanceof cf)g.push(M);else{const B=Au(G,K);B!=null&&(g.push(M),E.set(M,B))}}const T=new Nn(g);return new WT(E,T,h.fieldTransforms)}function hD(r,t,n,s=!1){return Au(n,r.Cc(s?4:3,t))}function Au(r,t){if(t2(r=ge(r)))return og("Unsupported field value:",t,r),ZT(r,t);if(r instanceof ig)return(function(s,o){if(!JT(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Au(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=ge(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ZC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ae.fromDate(s);return{timestampValue:xh(o.serializer,u)}}if(s instanceof ae){const u=new ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:xh(o.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dn)return{bytesValue:yT(o.serializer,s._byteString)};if(s instanceof pe){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof zi)return(function(h,m){return{mapValue:{fields:{[F1]:{stringValue:G1},[Ih]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Pp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${$h(s)}`)})(r,t)}function ZT(r,t){const n={};return U1(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Es(r,((s,o)=>{const u=Au(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function t2(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof Ui||r instanceof Dn||r instanceof pe||r instanceof ig||r instanceof zi)}function og(r,t,n){if(!t2(n)||!L1(n)){const s=$h(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function lp(r,t,n){if((t=ge(t))instanceof Oo)return t._internalPath;if(typeof t=="string")return lg(r,t);throw Ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const fD=new RegExp("[~\\*/\\[\\]]");function lg(r,t,n){if(t.search(fD)>=0)throw Ph(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Oo(...t.split("."))._internalPath}catch{throw Ph(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ph(r,t,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new at($.INVALID_ARGUMENT,m+r+p)}function e2(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new dD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(hf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dD extends Uh{data(){return super.data()}}function hf(r,t){return typeof t=="string"?lg(r,t):t instanceof Oo?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ug{}class n2 extends ug{}function pD(r,t,...n){let s=[];t instanceof ug&&s.push(t),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof cg)).length,m=u.filter((p=>p instanceof ff)).length;if(h>1||h>0&&m>0)throw new at($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class ff extends n2{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ff(t,n,s)}_apply(t){const n=this._parse(t);return i2(t._query,n),new da(t.firestore,t.converter,Wm(t._query,n))}_parse(t){const n=xo(t.firestore);return(function(u,h,m,p,g,E,T){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new at($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){EE(T,E);const G=[];for(const K of T)G.push(vE(p,u,K));S={arrayValue:{values:G}}}else S=vE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||EE(T,E),S=hD(m,h,T,E==="in"||E==="not-in");return Ve.create(g,E,S)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function gD(r,t,n){const s=t,o=hf("where",r);return ff._create(o,s,n)}class cg extends ug{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new cg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)i2(h,p),h=Wm(h,p)})(t._query,n),new da(t.firestore,t.converter,Wm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hg extends n2{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new hg(t,n)}_apply(t){const n=(function(o,u,h){if(o.startAt!==null)throw new at($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new at($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new au(u,h)})(t._query,this._field,this._direction);return new da(t.firestore,t.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Do(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,n))}}function U6(r,t="asc"){const n=t,s=hf("orderBy",r);return hg._create(s,n)}function vE(r,t,n){if(typeof(n=ge(n))=="string"){if(n==="")throw new at($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z1(t)&&n.indexOf("/")!==-1)throw new at($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!mt.isDocumentKey(s))throw new at($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Lv(r,new mt(s))}if(n instanceof pe)return Lv(r,n._key);throw new at($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function EE(r,t){if(!Array.isArray(r)||r.length===0)throw new at($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function i2(r,t){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new at($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class r2{convertValue(t,n="none"){switch(gs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ps(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Es(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){var s,o,u;const n=(u=(o=(s=t.fields)==null?void 0:s[Ih].arrayValue)==null?void 0:o.values)==null?void 0:u.map((h=>Ae(h.doubleValue)));return new zi(n)}convertGeoPoint(t){return new Ui(Ae(t.latitude),Ae(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Jh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(iu(t));default:return null}}convertTimestamp(t){const n=ms(t);return new ae(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);jt(ST(s),9688,{name:t});const o=new ru(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return o.isEqual(n)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class yD extends r2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,n)}}class uo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hs extends Uh{constructor(t,n,s,o,u,h){super(t,n,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(hf("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=hs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",hs._jsonSchema={type:Le("string",hs._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class vh extends hs{data(t={}){return super.data(t)}}class fo{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new uo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new vh(this._firestore,this._userDataWriter,s.key,s,new uo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:_D(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=fo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Np.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function _D(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(r){r=Vn(r,pe);const t=Vn(r.firestore,vr);return iD(wu(t),r._key).then((n=>vD(t,r,n)))}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:Le("string",fo._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class fg extends r2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,n)}}function up(r){r=Vn(r,da);const t=Vn(r.firestore,vr),n=wu(t),s=new fg(t);return mD(r._query),rD(n,r._query).then((o=>new fo(t,s,r,o)))}function z6(r,t,n){r=Vn(r,pe);const s=Vn(r.firestore,vr),o=df(r.converter,t,n);return Su(s,[uf(xo(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ke.none())])}function B6(r,t,n,...s){r=Vn(r,pe);const o=Vn(r.firestore,vr),u=xo(o);let h;return h=typeof(t=ge(t))=="string"||t instanceof Oo?ag(u,"updateDoc",r._key,t,n,s):sg(u,"updateDoc",r._key,t),Su(o,[h.toMutation(r._key,ke.exists(!0))])}function j6(r){return Su(Vn(r.firestore,vr),[new _u(r._key,ke.none())])}function q6(r,t){const n=Vn(r.firestore,vr),s=ng(r),o=df(r.converter,t);return Su(n,[uf(xo(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ke.exists(!1))]).then((()=>s))}function Su(r,t){return(function(s,o){const u=new Li;return s.asyncQueue.enqueueAndForget((async()=>q4(await eD(s),o,u))),u.promise})(wu(r),t)}function vD(r,t,n){const s=n.docs.get(t._key),o=new fg(r);return new hs(r,o,t._key,s,new uo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xo(t)}set(t,n,s){this._verifyNotCommitted();const o=as(t,this._firestore),u=df(o.converter,n,s),h=uf(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,ke.none())),this}update(t,n,s,...o){this._verifyNotCommitted();const u=as(t,this._firestore);let h;return h=typeof(n=ge(n))=="string"||n instanceof Oo?ag(this._dataReader,"WriteBatch.update",u._key,n,s,o):sg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,ke.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=as(t,this._firestore);return this._mutations=this._mutations.concat(new _u(n._key,ke.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new at($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function as(r,t){if((r=ge(r)).firestore!==t)throw new at($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=xo(t)}get(t){const n=as(t,this._firestore),s=new yD(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return yt(24041);const u=o[0];if(u.isFoundDocument())return new Uh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Uh(this._firestore,s,n._key,null,n.converter);throw yt(18433,{doc:u})}))}set(t,n,s){const o=as(t,this._firestore),u=df(o.converter,n,s),h=uf(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,h),this}update(t,n,s,...o){const u=as(t,this._firestore);let h;return h=typeof(n=ge(n))=="string"||n instanceof Oo?ag(this._dataReader,"Transaction.update",u._key,n,s,o):sg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,h),this}delete(t){const n=as(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD extends wD{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=as(t,this._firestore),s=new fg(this._firestore);return super.get(t).then((o=>new hs(this._firestore,s,n._key,o._document,new uo(!1,!1),n.converter)))}}function H6(r,t,n){r=Vn(r,vr);const s={...ED,...n};return(function(u){if(u.maxAttempts<1)throw new at($.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,h,m){const p=new Li;return u.asyncQueue.enqueueAndForget((async()=>{const g=await nD(u);new J4(u.asyncQueue,g,m,h,p).ju()})),p.promise})(wu(r),(o=>t(new AD(r,o))),s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(r){return wu(r=Vn(r,vr)),new TD(r,(t=>Su(r,t)))}(function(t,n=!0){(function(o){Ro=o})(ca),ra(new fs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new vr(new hC(s.getProvider("auth-internal")),new mC(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new at($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ki(Av,Sv,t),ki(Av,Sv,"esm2020")})();function a2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SD=a2,o2=new du("auth","Firebase",a2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Cp("@firebase/auth");function bD(r,...t){zh.logLevel<=kt.WARN&&zh.warn(`Auth (${ca}): ${r}`,...t)}function Eh(r,...t){zh.logLevel<=kt.ERROR&&zh.error(`Auth (${ca}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(r,...t){throw dg(r,...t)}function Bi(r,...t){return dg(r,...t)}function l2(r,t,n){const s={...SD(),[t]:n};return new du("auth","Firebase",s).create(t,{appName:r.name})}function ea(r){return l2(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return o2.create(r,...t)}function wt(r,t,...n){if(!r)throw dg(t,...n)}function cr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Eh(t),new Error(t)}function _r(r,t){r||cr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function RD(){return TE()==="http:"||TE()==="https:"}function TE(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RD()||zb()||"connection"in navigator)?navigator.onLine:!0}function ID(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n){this.shortDelay=t,this.longDelay=n,_r(n>t,"Short delay should be less than long delay!"),this.isMobile=Lb()||Bb()}get(){return CD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(r,t){_r(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OD=new bu(3e4,6e4);function pg(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Mo(r,t,n,s,o={}){return c2(r,o,async()=>{let u={},h={};s&&(t==="GET"?h=s:u={body:JSON.stringify(s)});const m=mu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:p,...u};return Ub()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&vs(r.emulatorConfig.host)&&(g.credentials="include"),u2.fetch()(await h2(r,r.config.apiHost,n,m),g)})}async function c2(r,t,n){r._canInitEmulator=!1;const s={...DD,...t};try{const o=new MD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw uh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw uh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw uh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw l2(r,E,g);yr(r,E)}}catch(o){if(o instanceof Fi)throw o;yr(r,"network-request-failed",{message:String(o)})}}async function xD(r,t,n,s,o={}){const u=await Mo(r,t,n,s,o);return"mfaPendingCredential"in u&&yr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function h2(r,t,n,s){const o=`${t}${n}?${s}`,u=r,h=u.config.emulator?mg(r.config,o):`${r.config.apiScheme}://${o}`;return ND.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class MD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Bi(this.auth,"network-request-failed")),OD.get())})}}function uh(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Bi(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(r,t){return Mo(r,"POST","/v1/accounts:delete",t)}async function Bh(r,t){return Mo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kD(r,t=!1){const n=ge(r),s=await n.getIdToken(t),o=gg(s);wt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Wl(Mm(o.auth_time)),issuedAtTime:Wl(Mm(o.iat)),expirationTime:Wl(Mm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Mm(r){return Number(r)*1e3}function gg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=g1(n);return o?JSON.parse(o):(Eh("Failed to decode base64 JWT payload"),null)}catch(o){return Eh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function wE(r){const t=gg(r);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Fi&&LD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function LD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(r){var T;const t=r.auth,n=await r.getIdToken(),s=await uu(r,Bh(t,{idToken:n}));wt(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?f2(o.providerUserInfo):[],h=zD(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(h!=null&&h.length),g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function UD(r){const t=ge(r);await jh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zD(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function f2(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(r,t){const n=await c2(r,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await h2(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&vs(r.emulatorConfig.host)&&(p.credentials="include"),u2.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jD(r,t){return Mo(r,"POST","/v2/accounts:revokeToken",pg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const n=wE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await BD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new mo;return s&&(wt(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(wt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(wt(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(r,t){wt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ui{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new PD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await uu(this,this.stsTokenManager.getToken(this.auth,t));return wt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return kD(this,t)}reload(){return UD(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ui({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(ea(this.auth));const t=await this.getIdToken();return await uu(this,VD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:M,providerData:G,stsTokenManager:K}=n;wt(T&&K,t,"internal-error");const B=mo.fromJSON(this.name,K);wt(typeof T=="string",t,"internal-error"),Zr(s,t.name),Zr(o,t.name),wt(typeof S=="boolean",t,"internal-error"),wt(typeof M=="boolean",t,"internal-error"),Zr(u,t.name),Zr(h,t.name),Zr(m,t.name),Zr(p,t.name),Zr(g,t.name),Zr(E,t.name);const J=new ui({uid:T,auth:t,email:o,emailVerified:S,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:g,lastLoginAt:E});return G&&Array.isArray(G)&&(J.providerData=G.map(rt=>({...rt}))),p&&(J._redirectEventId=p),J}static async _fromIdTokenResponse(t,n,s=!1){const o=new mo;o.updateFromServerResponse(n);const u=new ui({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await jh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];wt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?f2(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new mo;m.updateFromIdToken(s);const p=new ui({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=new Map;function hr(r){_r(r instanceof Function,"Expected a class definition");let t=AE.get(r);return t?(_r(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,AE.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}d2.type="NONE";const SE=d2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(r,t,n){return`firebase:${r}:${t}:${n}`}class po{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Th(this.userKey,o.apiKey,u),this.fullPersistenceKey=Th("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Bh(this.auth,{idToken:t}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,t):null}return ui._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new po(hr(SE),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||hr(SE);const h=Th(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const S=await Bh(t,{idToken:E}).catch(()=>{});if(!S)break;T=await ui._fromGetAccountInfoResponse(t,S,E)}else T=ui._fromJSON(t,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new po(u,t,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new po(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(y2(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(m2(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(v2(t))return"Blackberry";if(E2(t))return"Webos";if(p2(t))return"Safari";if((t.includes("chrome/")||g2(t))&&!t.includes("edge/"))return"Chrome";if(_2(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function m2(r=an()){return/firefox\//i.test(r)}function p2(r=an()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function g2(r=an()){return/crios\//i.test(r)}function y2(r=an()){return/iemobile/i.test(r)}function _2(r=an()){return/android/i.test(r)}function v2(r=an()){return/blackberry/i.test(r)}function E2(r=an()){return/webos/i.test(r)}function yg(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qD(r=an()){var t;return yg(r)&&!!((t=window.navigator)!=null&&t.standalone)}function HD(){return jb()&&document.documentMode===10}function T2(r=an()){return yg(r)||_2(r)||E2(r)||v2(r)||/windows phone/i.test(r)||y2(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(r,t=[]){let n;switch(r){case"Browser":n=bE(an());break;case"Worker":n=`${bE(an())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ca}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(r,t={}){return Mo(r,"GET","/v2/passwordPolicy",pg(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=6;class KD{constructor(t){var s;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??QD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RE(this),this.idTokenSubscription=new RE(this),this.beforeStateQueue=new FD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=o2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await po.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Bh(this,{idToken:t}),s=await ui._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(li(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===m)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await jh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ID()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(li(this.app))return Promise.reject(ea(this));const n=t?ge(t):null;return n&&wt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return li(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await GD(this),n=new KD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new du("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await jD(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&hr(t)||this._popupRedirectResolver;wt(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=w2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var n;if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&bD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function _g(r){return ge(r)}class RE{constructor(t){this.auth=t,this.observer=null,this.addObserver=Xb(n=>this.observer=n)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XD(r){vg=r}function $D(r){return vg.loadJS(r)}function WD(){return vg.gapiScript}function JD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(r,t){const n=Yh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ia(u,t??{}))return o;yr(o,"already-initialized")}return n.initialize({options:t})}function tN(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(hr);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function eN(r,t,n){const s=_g(r);wt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=A2(t),{host:h,port:m}=nN(t),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){wt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),wt(ia(g,s.config.emulator)&&ia(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,vs(h)?(bp(`${u}//${h}${p}`),Rp("Auth",!0)):iN()}function A2(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function nN(r){const t=A2(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:CE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:CE(h)}}}function CE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function iN(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(t){return cr("not implemented")}_linkToIdToken(t,n){return cr("not implemented")}_getReauthenticationResolver(t){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r,t){return xD(r,"POST","/v1/accounts:signInWithIdp",pg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="http://localhost";class oa extends S2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new oa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new oa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return go(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,go(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,go(t,n)}buildRequest(){const t={requestUri:rN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=mu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends b2{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Ru{constructor(){super("facebook.com")}static credential(t){return oa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ts.credential(t.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return oa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return es.credential(n,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Ru{constructor(){super("github.com")}static credential(t){return oa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ns.credential(t.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Ru{constructor(){super("twitter.com")}static credential(t,n){return oa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return is.credential(n,s)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ui._fromIdTokenResponse(t,s,o),h=IE(s);return new Ao({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=IE(s);return new Ao({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function IE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends Fi{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new qh(t,n,s,o)}}function R2(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(r,u,t,s):u})}async function sN(r,t,n=!1){const s=await uu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ao._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(r,t,n=!1){const{auth:s}=r;if(li(s.app))return Promise.reject(ea(s));const o="reauthenticate";try{const u=await uu(r,R2(s,o,t,r),n);wt(u.idToken,s,"internal-error");const h=gg(u.idToken);wt(h,s,"internal-error");const{sub:m}=h;return wt(r.uid===m,s,"user-mismatch"),Ao._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&yr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(r,t,n=!1){if(li(r.app))return Promise.reject(ea(r));const s="signIn",o=await R2(r,s,t),u=await Ao._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function lN(r,t,n,s){return ge(r).onIdTokenChanged(t,n,s)}function uN(r,t,n){return ge(r).beforeAuthStateChanged(t,n)}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=1e3,hN=10;class I2 extends C2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T2(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);HD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,hN):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},cN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}I2.type="LOCAL";const fN=I2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2 extends C2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}D2.type="SESSION";const N2=D2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new mf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await dN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Eg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function pN(r){ji().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function gN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function _N(){return O2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="firebaseLocalStorageDb",vN=1,Fh="firebaseLocalStorage",M2="fbase_key";class Cu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(r,t){return r.transaction([Fh],t?"readwrite":"readonly").objectStore(Fh)}function EN(){const r=indexedDB.deleteDatabase(x2);return new Cu(r).toPromise()}function fp(){const r=indexedDB.open(x2,vN);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fh,{keyPath:M2})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fh)?t(s):(s.close(),await EN(),t(await fp()))})})}async function DE(r,t,n){const s=pf(r,!0).put({[M2]:t,value:n});return new Cu(s).toPromise()}async function TN(r,t){const n=pf(r,!1).get(t),s=await new Cu(n).toPromise();return s===void 0?null:s.value}function NE(r,t){const n=pf(r,!0).delete(t);return new Cu(n).toPromise()}const wN=800,AN=3;class V2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>AN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(_N()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await gN(),!this.activeServiceWorker)return;this.sender=new mN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fp();return await DE(t,Hh,"1"),await NE(t,Hh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>DE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>TN(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>NE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=pf(o,!1).getAll();return new Cu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V2.type="LOCAL";const SN=V2;new bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r,t){return t?hr(t):(wt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends S2{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return go(t,this._buildIdpRequest())}_linkToIdToken(t,n){return go(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return go(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function RN(r){return oN(r.auth,new Tg(r),r.bypassAuthState)}function CN(r){const{auth:t,user:n}=r;return wt(n,t,"internal-error"),aN(n,new Tg(r),r.bypassAuthState)}async function IN(r){const{auth:t,user:n}=r;return wt(n,t,"internal-error"),sN(n,new Tg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return RN;case"linkViaPopup":case"linkViaRedirect":return IN;case"reauthViaPopup":case"reauthViaRedirect":return CN;default:yr(this.auth,"internal-error")}}resolve(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new bu(2e3,1e4);class co extends k2{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const t=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,DN.get())};t()}}co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="pendingRedirect",wh=new Map;class ON extends k2{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=wh.get(this.auth._key());if(!t){try{const s=await xN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}wh.set(this.auth._key(),t)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xN(r,t){const n=kN(t),s=VN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function MN(r,t){wh.set(r._key(),t)}function VN(r){return hr(r._redirectPersistence)}function kN(r){return Th(NN,r.config.apiKey,r.name)}async function LN(r,t,n=!1){if(li(r.app))return Promise.reject(ea(r));const s=_g(r),o=bN(s,t),h=await new ON(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=600*1e3;class UN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!L2(t)){const o=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Bi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=PN&&this.cachedEventUids.clear(),this.cachedEventUids.has(OE(t))}saveEventToCache(t){this.cachedEventUids.add(OE(t)),this.lastProcessedEventTime=Date.now()}}function OE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function L2({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function zN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L2(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(r,t={}){return Mo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qN=/^https?/;async function HN(r){if(r.config.emulator)return;const{authorizedDomains:t}=await BN(r);for(const n of t)try{if(FN(n))return}catch{}yr(r,"unauthorized-domain")}function FN(r){const t=cp(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!qN.test(n))return!1;if(jN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new bu(3e4,6e4);function xE(){const r=ji().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function QN(r){return new Promise((t,n)=>{var o,u,h;function s(){xE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xE(),n(Bi(r,"network-request-failed"))},timeout:GN.get()})}if((u=(o=ji().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((h=ji().gapi)!=null&&h.load)s();else{const m=JD("iframefcb");return ji()[m]=()=>{gapi.load?s():n(Bi(r,"network-request-failed"))},$D(`${WD()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw Ah=null,t})}let Ah=null;function KN(r){return Ah=Ah||QN(r),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new bu(5e3,15e3),XN="__/auth/iframe",$N="emulator/auth/iframe",WN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZN(r){const t=r.config;wt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?mg(t,$N):`https://${r.config.authDomain}/${XN}`,s={apiKey:t.apiKey,appName:r.name,v:ca},o=JN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${mu(s).slice(1)}`}async function tO(r){const t=await KN(r),n=ji().gapi;return wt(n,r,"internal-error"),t.open({where:document.body,url:ZN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Bi(r,"network-request-failed"),m=ji().setTimeout(()=>{u(h)},YN.get());function p(){ji().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nO=500,iO=600,rO="_blank",sO="http://localhost";class ME{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aO(r,t,n,s=nO,o=iO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...eO,width:s.toString(),height:o.toString(),top:u,left:h},g=an().toLowerCase();n&&(m=g2(g)?rO:n),m2(g)&&(t=t||sO,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[M,G])=>`${S}${M}=${G},`,"");if(qD(g)&&m!=="_self")return oO(t||"",m),new ME(null);const T=window.open(t||"",m,E);wt(T,r,"popup-blocked");try{T.focus()}catch{}return new ME(T)}function oO(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="__/auth/handler",uO="emulator/auth/handler",cO=encodeURIComponent("fac");async function VE(r,t,n,s,o,u){wt(r.config.authDomain,r,"auth-domain-config-required"),wt(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ca,eventId:o};if(t instanceof b2){t.setDefaultLanguage(r.languageCode),h.providerId=t.providerId||"",Yb(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(t instanceof Ru){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${cO}=${encodeURIComponent(p)}`:"";return`${hO(r)}?${mu(m).slice(1)}${g}`}function hO({config:r}){return r.emulator?mg(r,uO):`https://${r.authDomain}/${lO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class fO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N2,this._completeRedirectFn=LN,this._overrideRedirectResult=MN}async _openPopup(t,n,s,o){var h;_r((h=this.eventManagers[t._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await VE(t,n,s,cp(),o);return aO(t,u,Eg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await VE(t,n,s,cp(),o);return pN(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(_r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await tO(t),s=new UN(t);return n.register("authEvent",o=>(wt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Vm,{type:Vm},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[Vm];u!==void 0&&n(!!u),yr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return T2()||p2()||yg()}}const dO=fO;var kE="@firebase/auth",LE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gO(r){ra(new fs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;wt(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w2(r)},g=new YD(s,o,u,p);return tN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ra(new fs("auth-internal",t=>{const n=_g(t.getProvider("auth").getImmediate());return(s=>new mO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(kE,LE,pO(r)),ki(kE,LE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=300,_O=E1("authIdTokenMaxAge")||yO;let PE=null;const vO=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_O)return;const o=n==null?void 0:n.token;PE!==o&&(PE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function EO(r=Xh()){const t=Yh(r,"auth");if(t.isInitialized())return t.getImmediate();const n=ZD(r,{popupRedirectResolver:dO,persistence:[SN,fN,N2]}),s=E1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=vO(u.toString());uN(n,h,()=>h(n.currentUser)),lN(n,m=>h(m))}}const o=y1("auth");return o&&eN(n,`http://${o}`),n}function TO(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}XD({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Bi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",TO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gO("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="firebasestorage.googleapis.com",U2="storageBucket",wO=120*1e3,AO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e extends Fi{constructor(t,n,s=0){super(km(t),`Firebase Storage: ${n} (${km(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_e.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return km(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ye;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ye||(ye={}));function km(r){return"storage/"+r}function wg(){const r="An unknown error occurred, please check the error payload for server response.";return new _e(ye.UNKNOWN,r)}function SO(r){return new _e(ye.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function bO(r){return new _e(ye.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function RO(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _e(ye.UNAUTHENTICATED,r)}function CO(){return new _e(ye.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function IO(r){return new _e(ye.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function DO(){return new _e(ye.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function NO(){return new _e(ye.CANCELED,"User canceled the upload/download.")}function OO(r){return new _e(ye.INVALID_URL,"Invalid URL '"+r+"'.")}function xO(r){return new _e(ye.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function MO(){return new _e(ye.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+U2+"' property when initializing the app?")}function VO(){return new _e(ye.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kO(){return new _e(ye.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function LO(r){return new _e(ye.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dp(r){return new _e(ye.INVALID_ARGUMENT,r)}function z2(){return new _e(ye.APP_DELETED,"The Firebase app was deleted.")}function PO(r){return new _e(ye.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jl(r,t){return new _e(ye.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function jl(r){throw new _e(ye.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=On.makeFromUrl(t,n)}catch{return new On(t,"")}if(s.path==="")return s;throw xO(t)}static makeFromUrl(t,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ft){ft.path.charAt(ft.path.length-1)==="/"&&(ft.path_=ft.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ft){ft.path_=decodeURIComponent(ft.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",M=new RegExp(`^https?://${T}/${E}/b/${o}/o${S}`,"i"),G={bucket:1,path:3},K=n===P2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",J=new RegExp(`^https?://${K}/${o}/${B}`,"i"),et=[{regex:m,indices:p,postModify:u},{regex:M,indices:G,postModify:g},{regex:J,indices:{bucket:1,path:2},postModify:g}];for(let ft=0;ft<et.length;ft++){const vt=et[ft],Tt=vt.regex.exec(t);if(Tt){const C=Tt[vt.indices.bucket];let b=Tt[vt.indices.path];b||(b=""),s=new On(C,b),vt.postModify(s);break}}if(s==null)throw OO(t);return s}}class UO{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(r,t,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...B){g||(g=!0,t.apply(null,B))}function T(B){o=setTimeout(()=>{o=null,r(M,p())},B)}function S(){u&&clearTimeout(u)}function M(B,...J){if(g){S();return}if(B){S(),E.call(null,B,...J);return}if(p()||h){S(),E.call(null,B,...J);return}s<64&&(s*=2);let et;m===1?(m=2,et=0):et=(s+Math.random())*1e3,T(et)}let G=!1;function K(B){G||(G=!0,S(),!g&&(o!==null?(B||(m=2),clearTimeout(o),T(0)):B||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,K(!0)},n),K}function BO(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(r){return r!==void 0}function qO(r){return typeof r=="object"&&!Array.isArray(r)}function Ag(r){return typeof r=="string"||r instanceof String}function UE(r){return Sg()&&r instanceof Blob}function Sg(){return typeof Blob<"u"}function zE(r,t,n,s){if(s<t)throw dp(`Invalid value for '${r}'. Expected ${t} or greater.`);if(s>n)throw dp(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(r,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${r}`}function B2(r){const t=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=t(s)+"="+t(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var na;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(na||(na={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(r,t){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=t.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(t,n,s,o,u,h,m,p,g,E,T,S=!0,M=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=S,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,K)=>{this.resolve_=G,this.reject_=K,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new ch(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===na.NO_ERROR,p=u.getStatus();if(!m||HO(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===na.ABORT;s(!1,new ch(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new ch(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());jO(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=wg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?z2():NO();h(p)}else{const p=DO();h(p)}};this.canceled_?n(!1,new ch(!1,null,!0)):this.backoffId_=zO(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&BO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ch{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function GO(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function QO(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function KO(r,t){t&&(r["X-Firebase-GMPID"]=t)}function YO(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function XO(r,t,n,s,o,u,h=!0,m=!1){const p=B2(r.urlParams),g=r.url+p,E=Object.assign({},r.headers);return KO(E,t),GO(E,n),QO(E,u),YO(E,s),new FO(g,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WO(...r){const t=$O();if(t!==void 0){const n=new t;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(Sg())return new Blob(r);throw new _e(ye.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function JO(r,t,n){return r.webkitSlice?r.webkitSlice(t,n):r.mozSlice?r.mozSlice(t,n):r.slice?r.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(r){if(typeof atob>"u")throw LO("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Lm{constructor(t,n){this.data=t,this.contentType=n||null}}function t3(r,t){switch(r){case Vi.RAW:return new Lm(j2(t));case Vi.BASE64:case Vi.BASE64URL:return new Lm(q2(r,t));case Vi.DATA_URL:return new Lm(n3(t),i3(t))}throw wg()}function j2(r){const t=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=s,h=r.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function e3(r){let t;try{t=decodeURIComponent(r)}catch{throw Jl(Vi.DATA_URL,"Malformed data URL.")}return j2(t)}function q2(r,t){switch(r){case Vi.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw Jl(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Vi.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw Jl(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ZO(t)}catch(o){throw o.message.includes("polyfill")?o:Jl(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class H2{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Jl(Vi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=r3(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function n3(r){const t=new H2(r);return t.base64?q2(Vi.BASE64,t.rest):e3(t.rest)}function i3(r){return new H2(r).contentType}function r3(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t,n){let s=0,o="";UE(t)?(this.data_=t,s=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(UE(this.data_)){const s=this.data_,o=JO(s,t,n);return o===null?null:new rs(o)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new rs(s,!0)}}static getBlob(...t){if(Sg()){const n=t.map(s=>s instanceof rs?s.data_:s);return new rs(WO.apply(null,n))}else{const n=t.map(h=>Ag(h)?t3(Vi.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new rs(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(r){let t;try{t=JSON.parse(r)}catch{return null}return qO(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function a3(r,t){const n=t.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function G2(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(r,t){return t}class cn{constructor(t,n,s,o){this.server=t,this.local=n||t,this.writable=!!s,this.xform=o||o3}}let hh=null;function l3(r){return!Ag(r)||r.length<2?r:G2(r)}function Q2(){if(hh)return hh;const r=[];r.push(new cn("bucket")),r.push(new cn("generation")),r.push(new cn("metageneration")),r.push(new cn("name","fullPath",!0));function t(u,h){return l3(h)}const n=new cn("name");n.xform=t,r.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new cn("size");return o.xform=s,r.push(o),r.push(new cn("timeCreated")),r.push(new cn("updated")),r.push(new cn("md5Hash",null,!0)),r.push(new cn("cacheControl",null,!0)),r.push(new cn("contentDisposition",null,!0)),r.push(new cn("contentEncoding",null,!0)),r.push(new cn("contentLanguage",null,!0)),r.push(new cn("contentType",null,!0)),r.push(new cn("metadata","customMetadata",!0)),hh=r,hh}function u3(r,t){function n(){const s=r.bucket,o=r.fullPath,u=new On(s,o);return t._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function c3(r,t,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,t[h.server])}return u3(s,r),s}function K2(r,t,n){const s=F2(t);return s===null?null:c3(r,s,n)}function h3(r,t,n,s){const o=F2(t);if(o===null||!Ag(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=r.bucket,T=r.fullPath,S="/b/"+h(E)+"/o/"+h(T),M=bg(S,n,s),G=B2({alt:"media",token:g});return M+G})[0]}function f3(r,t){const n={},s=t.length;for(let o=0;o<s;o++){const u=t[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class Y2{constructor(t,n,s,o){this.url=t,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(r){if(!r)throw wg()}function d3(r,t){function n(s,o){const u=K2(r,o,t);return X2(u!==null),u}return n}function m3(r,t){function n(s,o){const u=K2(r,o,t);return X2(u!==null),h3(u,o,r.host,r._protocol)}return n}function $2(r){function t(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=CO():o=RO():n.getStatus()===402?o=bO(r.bucket):n.getStatus()===403?o=IO(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return t}function p3(r){const t=$2(r);function n(s,o){let u=t(s,o);return s.getStatus()===404&&(u=SO(r.path)),u.serverResponse=o.serverResponse,u}return n}function g3(r,t,n){const s=t.fullServerUrl(),o=bg(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new Y2(o,u,m3(r,n),h);return m.errorHandler=p3(t),m}function y3(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function _3(r,t,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=t.size(),s.contentType||(s.contentType=y3(null,t)),s}function v3(r,t,n,s,o){const u=t.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let et="";for(let ft=0;ft<2;ft++)et=et+Math.random().toString().slice(2);return et}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=_3(t,s,o),E=f3(g,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,S=`\r
--`+p+"--",M=rs.getBlob(T,s,S);if(M===null)throw VO();const G={name:g.fullPath},K=bg(u,r.host,r._protocol),B="POST",J=r.maxUploadRetryTime,rt=new Y2(K,B,d3(r,n),J);return rt.urlParams=G,rt.headers=h,rt.body=M.uploadData(),rt.errorHandler=$2(t),rt}class E3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=na.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=na.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=na.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,o,u){if(this.sent_)throw jl("cannot .send() more than once");if(vs(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class T3 extends E3{initXhr(){this.xhr_.responseType="text"}}function W2(){return new T3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,n){this._service=t,n instanceof On?this._location=n:this._location=On.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new la(t,n)}get root(){const t=new On(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G2(this._location.path)}get storage(){return this._service}get parent(){const t=s3(this._location.path);if(t===null)return null;const n=new On(this._location.bucket,t);return new la(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw PO(t)}}function w3(r,t,n){r._throwIfRoot("uploadBytes");const s=v3(r.storage,r._location,Q2(),new rs(t,!0),n);return r.storage.makeRequestWithTokens(s,W2).then(o=>({metadata:o,ref:r}))}function A3(r){r._throwIfRoot("getDownloadURL");const t=g3(r.storage,r._location,Q2());return r.storage.makeRequestWithTokens(t,W2).then(n=>{if(n===null)throw kO();return n})}function S3(r,t){const n=a3(r._location.path,t),s=new On(r._location.bucket,n);return new la(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(r){return/^[A-Za-z]+:\/\//.test(r)}function R3(r,t){return new la(r,t)}function J2(r,t){if(r instanceof Rg){const n=r;if(n._bucket==null)throw MO();const s=new la(n,n._bucket);return t!=null?J2(s,t):s}else return t!==void 0?S3(r,t):r}function C3(r,t){if(t&&b3(t)){if(r instanceof Rg)return R3(r,t);throw dp("To use ref(service, url), the first argument must be a Storage instance.")}else return J2(r,t)}function BE(r,t){const n=t==null?void 0:t[U2];return n==null?null:On.makeFromBucketSpec(n,r)}function I3(r,t,n,s={}){r.host=`${t}:${n}`;const o=vs(t);o&&(bp(`https://${r.host}/b`),Rp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:T1(u,r.app.options.projectId))}class Rg{constructor(t,n,s,o,u,h=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=P2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wO,this._maxUploadRetryTime=AO,this._requests=new Set,o!=null?this._bucket=On.makeFromBucketSpec(o,this._host):this._bucket=BE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,t):this._bucket=BE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){zE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){zE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new la(this,t)}_makeRequest(t,n,s,o,u=!0){if(this._deleted)return new UO(z2());{const h=XO(t,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(t,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,o).getPromise()}}const jE="@firebase/storage",qE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="storage";function G6(r,t,n){return r=ge(r),w3(r,t,n)}function Q6(r){return r=ge(r),A3(r)}function K6(r,t){return r=ge(r),C3(r,t)}function D3(r=Xh(),t){r=ge(r);const s=Yh(r,Z2).getImmediate({identifier:t}),o=_1("storage");return o&&N3(s,...o),s}function N3(r,t,n,s={}){I3(r,t,n,s)}function O3(r,{instanceIdentifier:t}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Rg(n,s,o,t,ca)}function x3(){ra(new fs(Z2,O3,"PUBLIC").setMultipleInstances(!0)),ki(jE,qE,""),ki(jE,qE,"esm2020")}x3();const M3={apiKey:"AIzaSyCxjlbmMPV5o4yLod5em4RTPJgDJ1lBARg",authDomain:"fir-stockage-bdf18.firebaseapp.com",projectId:"fir-stockage-bdf18",storageBucket:"fir-stockage-bdf18.firebasestorage.app",messagingSenderId:"727964725105",appId:"1:727964725105:web:7cc902497db6189e5310d0"},Cg=$R().length>0?Xh():S1(M3);EO(Cg);const cu=aD(Cg),Y6=D3(Cg),V3=[{id:"admin-role",name:"Administrateur",permissions:[]},{id:"manager-role",name:"Manager",permissions:["dashboard","pos","sales","products","inventory","purchases","transfers","customers","suppliers","reports","inventory:adjustments","sales:create","sales:edit","sales:delete","sales:invoice","sales:payments","purchases:create","purchases:edit","purchases:delete","purchases:invoice","purchases:payments","products:create","products:edit","products:delete","reports:profit","reports:sales","reports:stock_alert"],warehouseIds:["wh1"]}],k3=[{uid:"mock-admin-uid",username:"admin",displayName:"Administrateur",password:"password",roleId:"admin-role"}],tw=P.createContext(void 0),L3=({children:r})=>{const[t,n]=P.useState(null),[s,o]=P.useState(!0);P.useEffect(()=>{const g=localStorage.getItem("ets_yababou_user");if(g)try{n(JSON.parse(g))}catch{localStorage.removeItem("ets_yababou_user")}o(!1)},[]);const p={user:t,loading:s,login:async(g,E)=>{o(!0);try{let T=null,S=null;try{const M=op(cu,"users"),G=pD(M,gD("username","==",g)),K=await up(G);if(!K.empty){const B=K.docs[0],J={uid:B.id,...B.data()};if(J.password===E&&(T=J,T.roleId)){const rt=await s2(ng(cu,"roles",T.roleId));rt.exists()&&(S={id:rt.id,...rt.data()})}}}catch{console.warn("Firestore inaccessible ou non configur, tentative via comptes par dfaut...")}if(!T){const M=k3.find(G=>G.username===g&&G.password===E);if(M){const G=V3.find(K=>K.id===M.roleId);G&&(T=M,S=G)}}if(T&&S){const M={...T,role:S};n(M),localStorage.setItem("ets_yababou_user",JSON.stringify(M))}else throw new Error("Identifiants incorrects ou base de donnes non initialise.")}catch(T){throw T}finally{o(!1)}},logout:async()=>{n(null),localStorage.removeItem("ets_yababou_user")},hasPermission:g=>{var E;return!t||!t.role?!1:t.role.name.toLowerCase().includes("admin")?!0:((E=t.role.permissions)==null?void 0:E.includes(g))||!1}};return H.jsx(tw.Provider,{value:p,children:r})},gf=()=>{const r=P.useContext(tw);if(r===void 0)throw new Error("useAuth must be used within AuthProvider");return r},mp={amber:{50:"255 251 235",100:"254 243 199",200:"253 230 138",300:"252 211 77",400:"251 191 36",500:"245 158 11",600:"217 119 6",700:"180 83 9",800:"146 64 14",900:"120 53 15",950:"69 26 3"},teal:{50:"240 253 250",100:"204 251 241",200:"167 243 228",300:"107 231 208",400:"45 212 191",500:"20 184 166",600:"13 148 136",700:"15 118 110",800:"17 94 89",900:"19 78 74",950:"4 47 46"},sky:{50:"240 249 255",100:"224 242 254",200:"186 230 253",300:"125 211 252",400:"56 189 248",500:"14 165 233",600:"2 132 199",700:"3 105 161",800:"7 89 133",900:"12 74 110",950:"8 47 73"},rose:{50:"255 241 242",100:"255 228 230",200:"254 205 211",300:"253 164 175",400:"251 113 133",500:"244 63 94",600:"225 29 72",700:"190 18 60",800:"159 18 57",900:"136 19 55",950:"76 5 25"}},P3=r=>{const t=mp[r];if(t)for(const n in t)document.documentElement.style.setProperty(`--color-primary-${n}`,t[n])},ew=P.createContext(void 0),U3=({children:r})=>{const[t,n]=P.useState("amber"),[s,o]=P.useState("ETS-YABABOU"),[u,h]=P.useState(!0),m=async()=>{try{const g=ng(cu,"settings","app-config"),E=await s2(g);if(E.exists()){const T=E.data(),S=T.themeColor;S&&mp[S]&&n(S),T.companyName&&o(T.companyName)}}catch{console.warn("Erreur chargement paramtres, utilisation des valeurs par dfaut.")}finally{h(!1)}};P.useEffect(()=>{m()},[]),P.useEffect(()=>{P3(t)},[t]);const p={theme:t,setTheme:n,availableThemes:mp,companyName:s,refreshSettings:m};return H.jsx(ew.Provider,{value:p,children:r})},z3=()=>{const r=P.useContext(ew);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r},B3=r=>it.createElement("svg",{fill:"currentColor",viewBox:"0 0 24 24",...r},it.createElement("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5-10-5-10 5z"})),j3=r=>it.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",...r},it.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})),X6=r=>it.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",...r},it.createElement("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})),q3=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})),H3=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01M12 6v-1m0-1V4m0 2.01V5M12 20v-1m0 1v.01M12 18v-1m0-1v-1m0-1v-1m0-1v-1m0-1v-1"})),F3=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})),G3=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10m16-10v10M4 7h16m-9 4h2m-2 4h2M4 7l4-4 4 4M20 7l-4-4-4 4"})),Q3=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})),K3=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.124-1.28-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.124-1.28.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})),Y3=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V7a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})),X3=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-1a6 6 0 00-1.781-4.121"})),$3=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9a2 2 0 11-4 0 2 2 0 014 0z"}),it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9h8m-8 4h8m-8 4h4m10 2l-4-4m0 0l-4 4m4-4v12"})),W3=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})),J3=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M5 6h14m-5 4h2m-2 4h2m-2 4h2M5 10h2m-2 4h2m-2 4h2"})),Z3=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})),t6=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})),e6=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M5 6h14m-5 4h2m-2 4h2m-2 4h2M5 10h2m-2 4h2m-2 4h2"})),n6=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A2 2 0 013 12V7a4 4 0 014-4z"})),i6=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})),$6=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})),W6=r=>it.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})),J6=r=>it.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),Z6=r=>it.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),tx=r=>it.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})),ex=r=>it.createElement("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})),nx=r=>it.createElement("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})),ix=r=>it.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})),rx=r=>it.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})),sx=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9h4m-2-2v4"})),r6=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})),ax=r=>it.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})),ox=r=>it.createElement("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H7a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm2-9V5a2 2 0 00-2-2H9a2 2 0 00-2 2v3"})),lx=r=>it.createElement("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})),ux=r=>it.createElement("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9.5M9 9.5a2.5 2.5 0 015 0V19m-5-9.5a2.5 2.5 0 005 0m-5 0V3m5 6.5V3m0 0a2.5 2.5 0 015 0V19"})),cx=r=>it.createElement("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})),hx=r=>it.createElement("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})),fx=r=>it.createElement("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})),dx=r=>it.createElement("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})),mx=r=>it.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...r},it.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m-4-7a2 2 0 114 0 2 2 0 01-4 0zm11 0a2 2 0 114 0 2 2 0 01-4 0zM7 11a2 2 0 100-4 2 2 0 000 4zm11-4a2 2 0 100-4 2 2 0 000 4z"})),px=r=>it.createElement("svg",{fill:"currentColor",viewBox:"0 0 24 24",...r},it.createElement("path",{d:"M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 13.66 2.59 15.36 3.45 16.86L2.05 22L7.3 20.62C8.75 21.41 10.37 21.82 12.04 21.82C17.5 21.82 21.95 17.37 21.95 11.91C21.95 9.27 20.92 6.78 19.05 4.91C17.18 3.03 14.69 2 12.04 2M12.04 3.67C14.25 3.67 16.31 4.53 17.87 6.09C19.42 7.65 20.28 9.71 20.28 11.91C20.28 16.47 16.65 20.1 12.04 20.1C10.5 20.1 9.04 19.68 7.8 18.96L7.54 18.82L4.31 19.69L5.2 16.54L5.05 16.28C4.26 15 3.8 13.47 3.8 11.91C3.8 7.35 7.43 3.67 12.04 3.67M9.15 7.6C8.95 7.6 8.78 7.64 8.63 7.89C8.49 8.14 8 9.03 8 10.1C8 11.17 8.63 12.19 8.78 12.37C8.93 12.54 10.2 14.83 12.47 15.76C14.74 16.69 14.74 16.2 15.09 16.16C15.44 16.12 16.47 15.54 16.72 14.93C16.97 14.32 16.97 13.8 16.92 13.67C16.87 13.54 16.69 13.47 16.44 13.34C16.19 13.22 14.91 12.59 14.68 12.5C14.45 12.41 14.28 12.37 14.1 12.62C13.93 12.87 13.43 13.45 13.28 13.63C13.13 13.8 12.98 13.82 12.73 13.7C12.48 13.57 11.59 13.26 10.54 12.33C9.72 11.6 9.15 10.71 9 10.43C8.85 10.16 8.97 10.02 9.1 9.89C9.22 9.77 9.37 9.57 9.52 9.42C9.67 9.27 9.72 9.15 9.82 8.95C9.92 8.75 9.87 8.58 9.8 8.45C9.73 8.33 9.25 7.7 9.15 7.6Z"})),s6=[{title:"Principal",colorClass:"text-green-400",items:[{to:"dashboard",icon:it.createElement(q3),text:"Tableau de bord"},{to:"pos",icon:it.createElement(H3),text:"Point de Vente (POS)"}]},{title:"Gestion",colorClass:"text-blue-400",items:[{to:"sales",icon:it.createElement(Q3),text:"Ventes"},{to:"products",icon:it.createElement(F3),text:"Produits"},{to:"inventory",icon:it.createElement(G3),text:"Stocks"},{to:"purchases",icon:it.createElement(r6),text:"Achats"},{to:"transfers",icon:it.createElement(Z3),text:"Transferts"}]},{title:"Relations",colorClass:"text-purple-400",items:[{to:"customers",icon:it.createElement(K3),text:"Clients"},{to:"suppliers",icon:it.createElement(t6),text:"Fournisseurs"}]},{title:"Analyse",colorClass:"text-yellow-400",items:[{to:"reports",icon:it.createElement(Y3),text:"Rapports"}]},{title:"Configuration",colorClass:"text-red-400",items:[{to:"users",icon:it.createElement(X3),text:"Utilisateurs"},{to:"roles",icon:it.createElement($3),text:"Rles & Permissions"},{to:"warehouses",icon:it.createElement(J3),text:"Entrepts"},{to:"brands",icon:it.createElement(e6),text:"Marques"},{to:"categories",icon:it.createElement(n6),text:"Catgories"},{to:"units",icon:it.createElement(i6),text:"Units"},{to:"settings",icon:it.createElement(W3),text:"Paramtres"}]}],a6=({sidebarOpen:r,setSidebarOpen:t})=>{const n=Hi(),{pathname:s}=n,{user:o,hasPermission:u}=gf(),{companyName:h}=z3(),m=P.useRef(null),p=P.useRef(null);return P.useEffect(()=>{const g=({target:E})=>{!p.current||!m.current||!r||p.current.contains(E)||m.current.contains(E)||t(!1)};return document.addEventListener("click",g),()=>document.removeEventListener("click",g)}),P.useEffect(()=>{const g=({keyCode:E})=>{!r||E!==27||t(!1)};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)}),H.jsxs("div",{children:[H.jsx("div",{className:`fixed inset-0 bg-gray-900 bg-opacity-30 z-40 lg:hidden lg:z-auto transition-opacity duration-200 ${r?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-hidden":"true"}),H.jsxs("div",{id:"sidebar",ref:p,className:`flex flex-col absolute z-40 left-0 top-0 lg:static lg:left-auto lg:top-auto lg:translate-x-0 h-screen overflow-y-auto no-scrollbar w-64 shrink-0 bg-gray-800 p-4 transition-all duration-200 ease-in-out ${r?"translate-x-0":"-translate-x-64"}`,children:[H.jsxs("div",{className:"flex items-center justify-between mb-10 pr-3 sm:px-2",children:[H.jsx(Sp,{end:!0,to:"/",className:"flex-1 min-w-0 mr-4",children:H.jsxs("div",{className:"flex items-center",children:[H.jsx(B3,{className:"w-8 h-8 text-primary-500 shrink-0"}),H.jsx("span",{className:"ml-3 text-base font-bold text-white uppercase truncate overflow-hidden whitespace-nowrap",title:h,children:h})]})}),H.jsxs("button",{ref:m,className:"lg:hidden text-gray-500 hover:text-gray-400 shrink-0",onClick:g=>{g.stopPropagation(),t(!r)},"aria-controls":"sidebar","aria-expanded":r,children:[H.jsx("span",{className:"sr-only",children:"Close sidebar"}),H.jsx("svg",{className:"w-6 h-6 fill-current",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:H.jsx("path",{d:"M10.7 18.7l1.4-1.4L7.8 13H20v-2H7.8l4.3-4.3-1.4-1.4L4 12z"})})]})]}),H.jsx("div",{className:"space-y-8",children:s6.map(g=>{const E=g.items.filter(T=>u(T.to));return E.length===0?null:H.jsxs("div",{children:[H.jsx("h3",{className:`text-xs uppercase font-semibold pl-3 ${g.colorClass}`,children:g.title}),H.jsx("ul",{className:"mt-3",children:E.map(T=>H.jsx(o6,{to:T.to,icon:T.icon,text:T.text,currentPath:s},T.to))})]},g.title)})})]})]})},o6=({to:r,icon:t,text:n,currentPath:s})=>{const o=r==="dashboard"?"/":`/${r}`,u=s===o||s.startsWith(o)&&o!=="/";return H.jsx("li",{className:`px-3 py-2 rounded-sm mb-0.5 last:mb-0 ${u&&"bg-gray-900"}`,children:H.jsx(Sp,{end:!0,to:o,className:`block text-gray-200 hover:text-white truncate transition duration-150 ${u&&"hover:text-gray-200"}`,children:H.jsxs("div",{className:"flex items-center",children:[it.cloneElement(t,{className:`shrink-0 h-6 w-6 ${u?"text-primary-500":"text-gray-400"}`}),H.jsx("span",{className:"text-sm font-medium ml-3 duration-200",children:n})]})})})},l6=({sidebarOpen:r,setSidebarOpen:t})=>{const{user:n,logout:s}=gf(),o=vp(),[u,h]=P.useState(0);P.useEffect(()=>{const p=async()=>{if(n)try{const[E,T]=await Promise.all([up(op(cu,"sales")),up(op(cu,"customers"))]),S=E.docs.map(J=>J.data()),M=T.docs.map(J=>({id:J.id,...J.data()})),G=new Date,K={};S.forEach(J=>{const rt=J.grandTotal-(J.paidAmount||0);K[J.customerId]=(K[J.customerId]||0)+rt});let B=0;S.forEach(J=>{var ft,vt;if(!J.paymentDueDate||J.paymentStatus==="Pay"||!((ft=n.role)!=null&&ft.name.toLowerCase().includes("admin"))&&!((vt=n.warehouseIds)!=null&&vt.includes(J.warehouseId)))return;const rt=new Date(J.paymentDueDate);Math.ceil((rt.getTime()-G.getTime())/(1e3*3600*24))<=2&&B++}),M.forEach(J=>{J.isCreditLimited&&J.creditLimit&&(K[J.id]||0)>J.creditLimit&&B++}),h(B)}catch{console.warn("chec chargement notifs")}};p();const g=setInterval(p,6e4);return()=>clearInterval(g)},[n]);const m=p=>p.toLowerCase().includes("admin")?{backgroundColor:"#dcfce7",color:"#166534"}:{backgroundColor:"#e0e7ff",color:"#3730a3"};return H.jsx("header",{className:"sticky top-0 bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 z-30",children:H.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:H.jsxs("div",{className:"flex items-center justify-between h-16 -mb-px",children:[H.jsxs("div",{className:"flex items-center",children:[H.jsxs("button",{className:"text-gray-500 hover:text-gray-600 lg:hidden mr-4",onClick:p=>{p.stopPropagation(),t(!r)},children:[H.jsx("span",{className:"sr-only",children:"Open sidebar"}),H.jsxs("svg",{className:"w-6 h-6 fill-current",viewBox:"0 0 24 24",children:[H.jsx("rect",{x:"4",y:"5",width:"16",height:"2"}),H.jsx("rect",{x:"4",y:"11",width:"16",height:"2"}),H.jsx("rect",{x:"4",y:"17",width:"16",height:"2"})]})]}),H.jsxs("div",{className:"relative hidden sm:block",children:[H.jsx("input",{className:"bg-gray-100 dark:bg-gray-700/50 border-none rounded-full pl-10 pr-4 py-2 text-sm w-64 focus:ring-2 focus:ring-primary-500 transition-all",type:"search",placeholder:"Recherche rapide..."}),H.jsx(j3,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),H.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-6",children:[H.jsxs("button",{onClick:()=>o("/reports"),className:"relative p-2 text-gray-400 hover:text-red-600 transition-colors bg-gray-50 dark:bg-gray-700/50 rounded-xl",title:"Alertes de crdit et paiements",children:[H.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),u>0&&H.jsx("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-600 text-[10px] font-black text-white ring-2 ring-white dark:ring-gray-800 animate-bounce",children:u})]}),H.jsxs("div",{className:"flex items-center space-x-4 border-l dark:border-gray-700 pl-4 sm:pl-6",children:[H.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[H.jsx("span",{className:"text-sm font-black text-gray-900 dark:text-white uppercase tracking-tight",children:(n==null?void 0:n.displayName)||(n==null?void 0:n.username)}),(n==null?void 0:n.role)&&H.jsx("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 rounded-md mt-0.5",style:m(n.role.name),children:n.role.name})]}),H.jsx("button",{onClick:s,className:"text-xs font-black uppercase text-gray-400 hover:text-red-600 transition-colors tracking-widest",children:"Dconnexion"})]})]})]})})})},u6=()=>{const[r,t]=P.useState(!1);return H.jsxs("div",{className:"flex h-screen overflow-hidden bg-gray-100 dark:bg-gray-900",children:[H.jsx(a6,{sidebarOpen:r,setSidebarOpen:t}),H.jsxs("div",{className:"relative flex flex-col flex-1 overflow-y-auto",children:[H.jsx(l6,{sidebarOpen:r,setSidebarOpen:t}),H.jsx("main",{children:H.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:H.jsx(FS,{})})})]})]})},Pm=({children:r})=>{const{user:t,hasPermission:n}=gf(),s=Hi();if(!t)return H.jsx(lo,{to:"/login",replace:!0});const o=s.pathname;let u=null,h=null;if(o==="/")u="dashboard";else{const m=o.split("/").filter(Boolean);m.length>0&&(u=m[0],m.length>1&&(m[1]==="new"?h=`${u}:create`:m[1]==="edit"?h=`${u}:edit`:m[1]==="invoice"?h=`${u}:invoice`:u==="inventory"&&m[1]==="adjustments"&&(u="inventory:adjustments")))}return u?n(u)?h&&!n(h)?H.jsx(lo,{to:"/",replace:!0}):H.jsx(H.Fragment,{children:r}):H.jsx(lo,{to:"/",replace:!0}):H.jsx(lo,{to:"/",replace:!0})},c6=P.lazy(()=>ne(()=>import("./LoginPage-UryyOjJj.js"),[])),h6=P.lazy(()=>ne(()=>import("./DashboardPage-L6r5olUI.js"),[])),f6=P.lazy(()=>ne(()=>import("./PosPage-CEPlkLbW.js"),__vite__mapDeps([0,1,2]))),d6=P.lazy(()=>ne(()=>import("./ProductsPage-BwhKKmdk.js"),__vite__mapDeps([3,1,4,5]))),HE=P.lazy(()=>ne(()=>import("./ProductFormPage-D971jnlC.js"),[])),m6=P.lazy(()=>ne(()=>import("./InventoryPage-Dq5h-ysy.js"),__vite__mapDeps([6,4]))),p6=P.lazy(()=>ne(()=>import("./StockAdjustmentsPage-3DI4I0ZL.js"),__vite__mapDeps([7,4]))),g6=P.lazy(()=>ne(()=>import("./SalesPage-DSLP5oiG.js"),__vite__mapDeps([8,4,5]))),FE=P.lazy(()=>ne(()=>import("./SaleFormPage-ByXfrA73.js"),__vite__mapDeps([9,1]))),y6=P.lazy(()=>ne(()=>import("./SaleInvoicePage-CkqYnSIp.js"),[])),_6=P.lazy(()=>ne(()=>import("./CustomersPage-DjA6A0v3.js"),__vite__mapDeps([10,5,1]))),GE=P.lazy(()=>ne(()=>import("./CustomerFormPage-ConPI_Ia.js"),[])),v6=P.lazy(()=>ne(()=>import("./CustomerAccountPage-eF9mh3EI.js"),__vite__mapDeps([11,2]))),E6=P.lazy(()=>ne(()=>import("./ReportsPage-DKn9Bj3T.js"),[])),T6=P.lazy(()=>ne(()=>import("./SettingsPage-C3f9K7E5.js"),[])),w6=P.lazy(()=>ne(()=>import("./UsersPage-DP2guLQW.js"),__vite__mapDeps([12,1,5]))),A6=P.lazy(()=>ne(()=>import("./RolesPage-Pp4cqKP-.js"),__vite__mapDeps([13,1,5]))),S6=P.lazy(()=>ne(()=>import("./WarehousesPage--BeSy137.js"),__vite__mapDeps([14,1,5]))),b6=P.lazy(()=>ne(()=>import("./TransfersPage-CemTPSjE.js"),__vite__mapDeps([15,4]))),R6=P.lazy(()=>ne(()=>import("./SuppliersPage-DJbGpWqH.js"),__vite__mapDeps([16,5,1]))),QE=P.lazy(()=>ne(()=>import("./SupplierFormPage-CfFuCQkn.js"),[])),C6=P.lazy(()=>ne(()=>import("./SupplierAccountPage-x3K3EYVF.js"),__vite__mapDeps([17,2]))),I6=P.lazy(()=>ne(()=>import("./BrandsPage-iSi8gPTW.js"),__vite__mapDeps([18,1,5]))),D6=P.lazy(()=>ne(()=>import("./CategoriesPage-aOGQfnZn.js"),__vite__mapDeps([19,1,5]))),N6=P.lazy(()=>ne(()=>import("./UnitsPage-aZU3fmfw.js"),__vite__mapDeps([20,1,5]))),O6=P.lazy(()=>ne(()=>import("./PurchasesPage-C7CQJhHk.js"),__vite__mapDeps([21,1,4,5]))),KE=P.lazy(()=>ne(()=>import("./PurchaseFormPage-BtuxQDdX.js"),__vite__mapDeps([22,1]))),x6=P.lazy(()=>ne(()=>import("./PurchaseInvoicePage-Cv8TmrLd.js"),[])),nw=()=>H.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200",children:"Chargement..."}),M6=()=>{const{user:r,loading:t}=gf();return t?H.jsx(nw,{}):H.jsxs(QS,{children:[H.jsx(Vt,{path:"/login",element:r?H.jsx(lo,{to:"/",replace:!0}):H.jsx(c6,{})}),H.jsxs(Vt,{path:"/",element:H.jsx(Pm,{children:H.jsx(u6,{})}),children:[H.jsx(Vt,{index:!0,element:H.jsx(h6,{})}),H.jsx(Vt,{path:"pos",element:H.jsx(f6,{})}),H.jsx(Vt,{path:"sales",element:H.jsx(g6,{})}),H.jsx(Vt,{path:"sales/new",element:H.jsx(FE,{})}),H.jsx(Vt,{path:"sales/edit/:id",element:H.jsx(FE,{})}),H.jsx(Vt,{path:"products",element:H.jsx(d6,{})}),H.jsx(Vt,{path:"products/new",element:H.jsx(HE,{})}),H.jsx(Vt,{path:"products/edit/:id",element:H.jsx(HE,{})}),H.jsx(Vt,{path:"inventory",element:H.jsx(m6,{})}),H.jsx(Vt,{path:"inventory/adjustments",element:H.jsx(p6,{})}),H.jsx(Vt,{path:"purchases",element:H.jsx(O6,{})}),H.jsx(Vt,{path:"purchases/new",element:H.jsx(KE,{})}),H.jsx(Vt,{path:"purchases/edit/:id",element:H.jsx(KE,{})}),H.jsx(Vt,{path:"transfers",element:H.jsx(b6,{})}),H.jsx(Vt,{path:"customers",element:H.jsx(_6,{})}),H.jsx(Vt,{path:"customers/new",element:H.jsx(GE,{})}),H.jsx(Vt,{path:"customers/edit/:id",element:H.jsx(GE,{})}),H.jsx(Vt,{path:"customers/account/:id",element:H.jsx(v6,{})}),H.jsx(Vt,{path:"suppliers",element:H.jsx(R6,{})}),H.jsx(Vt,{path:"suppliers/new",element:H.jsx(QE,{})}),H.jsx(Vt,{path:"suppliers/edit/:id",element:H.jsx(QE,{})}),H.jsx(Vt,{path:"suppliers/account/:id",element:H.jsx(C6,{})}),H.jsx(Vt,{path:"reports",element:H.jsx(E6,{})}),H.jsx(Vt,{path:"users",element:H.jsx(w6,{})}),H.jsx(Vt,{path:"roles",element:H.jsx(A6,{})}),H.jsx(Vt,{path:"warehouses",element:H.jsx(S6,{})}),H.jsx(Vt,{path:"brands",element:H.jsx(I6,{})}),H.jsx(Vt,{path:"categories",element:H.jsx(D6,{})}),H.jsx(Vt,{path:"units",element:H.jsx(N6,{})}),H.jsx(Vt,{path:"settings",element:H.jsx(T6,{})}),H.jsx(Vt,{path:"*",element:H.jsx(lo,{to:"/",replace:!0})})]}),H.jsx(Vt,{path:"/purchases/invoice/:id",element:H.jsx(Pm,{children:H.jsx(x6,{})})}),H.jsx(Vt,{path:"/sales/invoice/:id",element:H.jsx(Pm,{children:H.jsx(y6,{})})})]})},V6=()=>H.jsx(L3,{children:H.jsx(U3,{children:H.jsx(gb,{children:H.jsx(P.Suspense,{fallback:H.jsx(nw,{}),children:H.jsx(M6,{})})})})}),iw=document.getElementById("root");if(!iw)throw new Error("Could not find root element to mount to");const k6=FA.createRoot(iw);k6.render(H.jsx(it.StrictMode,{children:H.jsx(V6,{})}));export{tx as $,sx as A,ex as B,ux as C,J6 as D,Z6 as E,lx as F,ox as G,px as H,$6 as I,z6 as J,hx as K,B3 as L,dx as M,ix as N,K6 as O,X6 as P,Y6 as Q,it as R,mx as S,cx as T,rx as U,G6 as V,J3 as W,Q6 as X,pp as Y,YE as Z,BA as _,z3 as a,vp as b,K3 as c,op as d,cu as e,fx as f,up as g,j3 as h,s2 as i,H as j,ng as k,H6 as l,W6 as m,nx as n,U6 as o,j6 as p,pD as q,P as r,F6 as s,L6 as t,gf as u,Hi as v,gD as w,B6 as x,q6 as y,ax as z};
